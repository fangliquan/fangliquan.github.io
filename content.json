{"meta":{"title":"microleoçš„ä¸ªäººåšå®¢","subtitle":"å·¥ä½œå­¦ä¹ ä¸­çš„å­¦ä¹ ç¬”è®°åŠæŠ€æœ¯ç§¯ç´¯","description":"iOS,Windowså¼€å‘è€…","author":"microleo","url":"http://fangliquan.github.io","root":"/"},"pages":[{"title":"tags","date":"2016-07-23T08:20:53.000Z","updated":"2017-03-20T10:28:58.000Z","comments":false,"path":"tags/index.html","permalink":"http://fangliquan.github.io/tags/index.html","excerpt":"","text":""},{"title":"about","date":"2016-07-23T09:09:37.000Z","updated":"2017-03-20T10:28:58.000Z","comments":false,"path":"about/index.html","permalink":"http://fangliquan.github.io/about/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2016-07-23T08:20:38.000Z","updated":"2017-03-20T10:28:58.000Z","comments":false,"path":"categories/index.html","permalink":"http://fangliquan.github.io/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"swift3.0_åè®®(Protocal)å’Œæ‰©å±•(Extension)","slug":"swift3-0-Protocol-And-Eextension","date":"2017-03-20T10:13:44.000Z","updated":"2017-03-20T10:28:58.000Z","comments":true,"path":"2017-03-20/swift3-0-Protocol-And-Eextension/","link":"","permalink":"http://fangliquan.github.io/2017-03-20/swift3-0-Protocol-And-Eextension/","excerpt":"åè®®(Protocalä½¿ç”¨protocol æ¥å£°æ˜ä¸€ä¸ªåè®®ã€‚ ExampleProtocal&#123; var simpleDesp:String&#123;get&#125; mutating func adjust()&#125;","text":"åè®®(Protocalä½¿ç”¨protocol æ¥å£°æ˜ä¸€ä¸ªåè®®ã€‚ ExampleProtocal&#123; var simpleDesp:String&#123;get&#125; mutating func adjust()&#125; ç±»ã€æšä¸¾å’Œç»“æ„ä½“éƒ½å¯ä»¥å®ç°åè®®ã€‚class SimpleClass: ExampleProtocal&#123; var simpleDesp: String &#x3D; &quot;A simple class&quot; var anotherProperty:Int &#x3D; 45621 func adjust() &#123; simpleDesp +&#x3D; &quot; NO 100% adjusted&quot; &#125;&#125; æ³¨æ„å£°æ˜SimpleStructure æ—¶å€™mutating å…³é”®å­—ç”¨æ¥æ ‡è®°ä¸€ä¸ªä¼šä¿®æ”¹ç»“æ„ä½“çš„æ–¹æ³•ã€‚SimpleClass çš„å£°æ˜ä¸éœ€è¦æ ‡è®°ä»»ä½•æ–¹æ³•ï¼Œå› ä¸ºç±»ä¸­çš„æ–¹æ³•é€šå¸¸å¯ä»¥ä¿®æ”¹ç±»å±æ€§ï¼ˆç±»çš„æ€§è´¨ï¼‰ã€‚ä½¿ç”¨extensionæ¥ä¸ºç°æœ‰çš„ç±»å‹æ·»åŠ åŠŸèƒ½ï¼Œæ¯”å¦‚æ–°çš„æ–¹æ³•å’Œè®¡ç®—å±æ€§ã€‚ä½ å¯ä»¥ä½¿ç”¨æ‰©å±•åœ¨åˆ«å¤„ä¿®æ”¹å®šä¹‰ï¼Œç”šè‡³æ˜¯ä»å¤–éƒ¨åº“æˆ–è€…æ¡†æ¶å¼•å…¥çš„ä¸€ä¸ªç±»å‹ï¼Œä½¿å¾—è¿™ä¸ªç±»å‹éµå¾ªæŸä¸ªåè®®ã€‚var simple &#x3D; SimpleClass()simple.adjust()let aDesp &#x3D; simple.simpleDespstruct SimpleStructure:ExampleProtocal&#123; var simpleDesp: String &#x3D; &quot;A simple structure&quot; mutating func adjust() &#123; simpleDesp +&#x3D; &quot;(adjusted)&quot; &#125;&#125;var b &#x3D; SimpleStructure()b.adjust()let bDesp &#x3D; b.simpleDespextension Int:ExampleProtocal &#123; var simpleDesp :String &#123; return &quot;The number\\(self)&quot; &#125; mutating func adjust() &#123; self +&#x3D; 42 &#125;&#125;print(7.simpleDesp) ä½ å¯ä»¥åƒä½¿ç”¨å…¶ä»–å‘½åç±»å‹ä¸€æ ·ä½¿ç”¨åè®®åâ€”â€”ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ªæœ‰ä¸åŒç±»å‹ä½†æ˜¯éƒ½å®ç°ä¸€ä¸ªåè®®çš„å¯¹è±¡ô€”€åˆã€‚å½“ä½ å¤„ç†ç±»å‹æ˜¯åè®®çš„å€¼æ—¶ï¼Œåè®®å¤–å®šä¹‰çš„æ–¹æ³•ä¸å¯ç”¨ã€‚let protocolValue : ExampleProtocal &#x3D; simpleprint(protocolValue.simpleDesp)&#x2F;&#x2F;print(protocolValue.anotherProperty) &#x2F;&#x2F; å»æ‰æ³¨é‡Šå¯ä»¥çœ‹åˆ°é”™è¯¯ å³ä½¿protocolValue å˜é‡è¿è¡Œæ—¶çš„ç±»å‹æ˜¯simpleClass ï¼Œç¼–è¯‘å™¨ä¼šæŠŠå®ƒçš„ç±»å‹å½“åšExampleProtocol ã€‚è¿™è¡¨ç¤ºä½ ä¸èƒ½è°ƒç”¨ç±»åœ¨å®ƒå®ç°çš„åè®®ä¹‹å¤–å®ç°çš„æ–¹æ³•æˆ–è€…å±æ€§ã€‚","categories":[{"name":"swift3.0","slug":"swift3-0","permalink":"http://fangliquan.github.io/categories/swift3-0/"}],"tags":[{"name":"swift3.0","slug":"swift3-0","permalink":"http://fangliquan.github.io/tags/swift3-0/"}]},{"title":"swift3.0_ç±»å’Œå¯¹è±¡","slug":"swift3-0-Class-And-Object-study","date":"2017-03-19T11:15:13.000Z","updated":"2017-03-20T10:28:58.000Z","comments":true,"path":"2017-03-19/swift3-0-Class-And-Object-study/","link":"","permalink":"http://fangliquan.github.io/2017-03-19/swift3-0-Class-And-Object-study/","excerpt":"ç±»å’Œå¯¹è±¡å’Œç±»åæ¥åˆ›å»ºä¸€ä¸ªç±»ã€‚ç±»ä¸­å±æ€§çš„å£°æ˜å’Œå¸¸é‡ã€å˜é‡å£°æ˜ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯å®ƒä»¬çš„ä¸Šä¸‹æ–‡æ˜¯ç±»ã€‚åŒæ ·ï¼Œæ–¹æ³•å’Œå‡½æ•°å£°æ˜ä¹Ÿä¸€æ ·ã€‚","text":"ç±»å’Œå¯¹è±¡å’Œç±»åæ¥åˆ›å»ºä¸€ä¸ªç±»ã€‚ç±»ä¸­å±æ€§çš„å£°æ˜å’Œå¸¸é‡ã€å˜é‡å£°æ˜ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯å®ƒä»¬çš„ä¸Šä¸‹æ–‡æ˜¯ç±»ã€‚åŒæ ·ï¼Œæ–¹æ³•å’Œå‡½æ•°å£°æ˜ä¹Ÿä¸€æ ·ã€‚ class Shape&#123; var numberOfSize &#x3D; 0 func simpleDescription() -&gt; String &#123; return&quot;A shape with \\(numberOfSize) sides.&quot; &#125; func simpleDescription(str:String) -&gt; String &#123; return&quot;A shape with \\(numberOfSize) sides.&quot; &#125;&#125; è¦åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œåœ¨ç±»ååé¢åŠ ä¸Šæ‹¬å·ã€‚ä½¿ç”¨ç‚¹è¯­æ³•æ¥è®¿é—®å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•ã€‚var shape &#x3D; Shape()shape.numberOfSize &#x3D; 7var shapeDescription &#x3D; shape.simpleDescription()class NameShape&#123; var numberOfSides:Int &#x3D; 0 var name:String init(name:String) &#123; self.name &#x3D; name; &#125; func simpleDescription() -&gt; String &#123; return&quot;A shape with \\(numberOfSides)&quot; &#125;&#125; æ³¨æ„self è¢«ç”¨æ¥åŒºåˆ«å®ä¾‹å˜é‡ã€‚å½“ä½ åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œåƒä¼ å…¥å‡½æ•°å‚æ•°ä¸€æ ·ç»™ç±»ä¼ å…¥æ„é€ å™¨çš„å‚æ•°ã€‚æ¯ä¸ªå±æ€§éƒ½éœ€è¦èµ‹å€¼â€”â€”æ— è®ºæ˜¯é€šè¿‡å£°æ˜ï¼ˆå°±åƒnumberOfSides ï¼‰è¿˜æ˜¯é€šè¿‡æ„é€ å™¨ï¼ˆå°±åƒname ï¼‰ã€‚ å¦‚æœä½ éœ€è¦åœ¨åˆ é™¤å¯¹è±¡ä¹‹å‰è¿›è¡Œä¸€äº›æ¸…ç†å·¥ä½œï¼Œä½¿ç”¨deinit åˆ›å»ºä¸€ä¸ªææ„å‡½æ•°ã€‚å­ç±»çš„å®šä¹‰æ–¹æ³•æ˜¯åœ¨å®ƒä»¬çš„ç±»ååé¢åŠ ä¸Šçˆ¶ç±»çš„åå­—ï¼Œç”¨å†’å·åˆ†å‰²ã€‚åˆ›å»ºç±»çš„æ—¶å€™å¹¶ä¸éœ€è¦ä¸€ä¸ªæ ‡å‡†çš„æ ¹ç±»ï¼Œæ‰€ä»¥ä½ å¯ä»¥å¿½ç•¥çˆ¶ç±»ã€‚å­ç±»å¦‚æœè¦é‡å†™çˆ¶ç±»çš„æ–¹æ³•çš„è¯ï¼Œéœ€è¦ç”¨override æ ‡è®°â€”â€”å¦‚æœæ²¡æœ‰æ·»åŠ override å°±é‡å†™çˆ¶ç±»æ–¹æ³•çš„è¯ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚ç¼–è¯‘å™¨åŒæ ·ä¼šæ£€æµ‹override æ ‡è®°çš„æ–¹æ³•æ˜¯å¦ç¡®å®åœ¨çˆ¶ç±»ä¸­class Square:NameShape&#123; var sideLength:Double &#x3D; 0.0; init(sideLength:Double,name:String) &#123; super.init(name: name) self.sideLength &#x3D; sideLength numberOfSides &#x3D; 4 &#125; func area() -&gt; Double &#123; return sideLength*sideLength &#125; override func simpleDescription() -&gt; String &#123; return &quot;A square with sides of length \\(sideLength)&quot; &#125;&#125;let test &#x3D; Square(sideLength: 5.2, name: &quot;my test square&quot;)test.area()test.simpleDescription() é™¤äº†å‚¨å­˜ç®€å•çš„å±æ€§ä¹‹å¤–ï¼Œå±æ€§å¯ä»¥æœ‰ getter å’Œ setter ã€‚class EquilateralTriangle:NameShape&#123; var sideLength: Double &#x3D; 0.0 init(sideLength:Double,name:String) &#123; super.init(name: name) self.sideLength &#x3D; sideLength; numberOfSides &#x3D; 3 &#125; var perimeter :Double&#123; get&#123; return 3.0 * sideLength &#125; set&#123; sideLength &#x3D; newValue&#x2F;3.0 &#125; &#125; override func simpleDescription() -&gt; String &#123; return &quot;an equilateral triagle with sides of length \\(sideLength).&quot; &#125;&#125;var triangle &#x3D; EquilateralTriangle(sideLength: 3.1, name: &quot;a triangle&quot;)print(triangle.perimeter)triangle.perimeter &#x3D; 9.9print(triangle.sideLength) åœ¨perimeter çš„ setter ä¸­ï¼Œæ–°å€¼çš„åå­—æ˜¯newValue ã€‚ä½ å¯ä»¥åœ¨set ä¹‹åæ˜¾å¼çš„è®¾ç½®ä¸€ä¸ªåå­—ã€‚æ³¨æ„EquilateralTriangle ç±»çš„æ„é€ å™¨æ‰§è¡Œäº†ä¸‰æ­¥ï¼š è®¾ç½®å­ç±»å£°æ˜çš„å±æ€§å€¼ è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ æ”¹å˜çˆ¶ç±»å®šä¹‰çš„å±æ€§å€¼ã€‚å…¶ä»–çš„å·¥ä½œæ¯”å¦‚è°ƒç”¨æ–¹æ³•ã€getters å’Œ setters ä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªé˜¶æ®µå®Œæˆã€‚å¦‚æœä½ ä¸éœ€è¦è®¡ç®—å±æ€§ï¼Œä½†æ˜¯ä»ç„¶éœ€è¦åœ¨è®¾ç½®ä¸€ä¸ªæ–°å€¼ä¹‹å‰æˆ–è€…ä¹‹åè¿è¡Œä»£ç ï¼Œä½¿ç”¨willSet å’ŒdidSet ã€‚class TriangleAndSquare &#123; var triangle: EquilateralTriangle &#123; willSet &#123; square.sideLength &#x3D; newValue.sideLength &#125; &#125; var square:Square&#123; willSet&#123; triangle.sideLength &#x3D; newValue.sideLength &#125; &#125; init(size:Double,name:String) &#123; square &#x3D; Square(sideLength: size, name: name) triangle &#x3D; EquilateralTriangle(sideLength: size, name: name) &#125;&#125;var triangleAndSquare &#x3D; TriangleAndSquare(size: 10, name: &quot;another test shape&quot;)print(triangleAndSquare.square.sideLength)print(triangleAndSquare.triangle.sideLength)triangleAndSquare.square &#x3D; Square(sideLength: 50, name: &quot;larger square&quot;)print(triangleAndSquare.triangle.sideLength) å¤„ç†å˜é‡çš„å¯é€‰å€¼æ—¶ï¼Œä½ å¯ä»¥åœ¨æ“ä½œï¼ˆæ¯”å¦‚æ–¹æ³•ã€å±æ€§å’Œå­è„šæœ¬ï¼‰ä¹‹å‰åŠ ? ã€‚å¦‚æœ? ä¹‹å‰çš„å€¼æ˜¯nil ï¼Œ ? åé¢çš„ä¸œè¥¿éƒ½ä¼šè¢«å¿½ç•¥ï¼Œå¹¶ä¸”æ•´ä¸ªè¡¨è¾¾å¼è¿”å›nil ã€‚å¦åˆ™ï¼Œ ? ä¹‹åçš„ä¸œè¥¿éƒ½ä¼šè¢«è¿è¡Œã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå¯é€‰å€¼ã€‚let optionalSquare:Square? &#x3D; Square(sideLength: 2.5, name: &quot;optional Square&quot;)let sideLength &#x3D; optionalSquare?.sideLength","categories":[{"name":"swift3.0","slug":"swift3-0","permalink":"http://fangliquan.github.io/categories/swift3-0/"}],"tags":[{"name":"swift3.0","slug":"swift3-0","permalink":"http://fangliquan.github.io/tags/swift3-0/"}]},{"title":"swift3.0_æšä¸¾(Enum)å’Œç»“æ„ä½“(struct)","slug":"swift3-0-Struct-and-Enum","date":"2017-03-19T09:15:13.000Z","updated":"2017-03-20T10:28:58.000Z","comments":true,"path":"2017-03-19/swift3-0-Struct-and-Enum/","link":"","permalink":"http://fangliquan.github.io/2017-03-19/swift3-0-Struct-and-Enum/","excerpt":"æšä¸¾å’Œç»“æ„ä½“ä½¿ç”¨enum æ¥åˆ›å»ºä¸€ä¸ªæšä¸¾ã€‚å°±åƒç±»å’Œå…¶ä»–æ‰€æœ‰å‘½åç±»å‹ä¸€æ ·ï¼Œæšä¸¾å¯ä»¥åŒ…å«æ–¹æ³•ã€‚","text":"æšä¸¾å’Œç»“æ„ä½“ä½¿ç”¨enum æ¥åˆ›å»ºä¸€ä¸ªæšä¸¾ã€‚å°±åƒç±»å’Œå…¶ä»–æ‰€æœ‰å‘½åç±»å‹ä¸€æ ·ï¼Œæšä¸¾å¯ä»¥åŒ…å«æ–¹æ³•ã€‚ enum Rank: Int&#123; case Ace &#x3D; 1 case Two, Three, Four, Five, Six, Seven, Eight, Nine, Ten case Jack, Queen, King func simpleDescription() -&gt; String &#123; switch self &#123; case .Ace: return &quot;ace&quot; case.Jack: return &quot;jack&quot; case.Queen: return &quot;queen&quot; case.King: return &quot;king&quot; default: return String(self.rawValue) &#125; &#125;&#125;let ace &#x3D; Rank.Acelet aceRawValue &#x3D; ace.rawValuelet kingRawValue &#x3D; Rank.King.rawValuelet queenString &#x3D; Rank.simpleDescription(.Jack)print(queenString()) é»˜è®¤æƒ…å†µä¸‹ï¼ŒSwift æŒ‰ç…§ä» 0 å¼€å§‹æ¯æ¬¡åŠ  1 çš„æ–¹å¼ä¸ºåŸå§‹å€¼è¿›è¡Œèµ‹å€¼ï¼Œä¸è¿‡ä½ å¯ä»¥é€šè¿‡æ˜¾å¼èµ‹å€¼è¿›è¡Œæ”¹å˜ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ Ace è¢«æ˜¾å¼èµ‹å€¼ä¸º 1ï¼Œå¹¶ä¸”å‰©ä¸‹çš„åŸå§‹å€¼ä¼šæŒ‰ç…§é¡ºåºèµ‹å€¼ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æˆ–è€…æµ®ç‚¹æ•°ä½œä¸º æšä¸¾çš„åŸå§‹å€¼ã€‚ä½¿ç”¨rawValue å±æ€§æ¥è®¿é—®ä¸€ä¸ªæšä¸¾æˆå‘˜çš„åŸå§‹å€¼ã€‚ä½¿ç”¨init?(rawValue:) åˆå§‹åŒ–æ„é€ å™¨åœ¨åŸå§‹å€¼å’Œæšä¸¾å€¼ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚if let convertedRank &#x3D; Rank(rawValue: 3)&#123; let threeDescription &#x3D; convertedRank.simpleDescription()&#125; æšä¸¾çš„æˆå‘˜å€¼æ˜¯å®é™…å€¼ï¼Œå¹¶ä¸æ˜¯åŸå§‹å€¼çš„å¦ä¸€ç§è¡¨è¾¾æ–¹æ³•ã€‚å®é™…ä¸Šï¼Œå¦‚æœæ²¡æœ‰æ¯”è¾ƒæœ‰æ„ä¹‰çš„åŸå§‹å€¼ï¼Œä½ å°±ä¸éœ€è¦æä¾›åŸå§‹å€¼ã€‚enum Suit &#123; case Spades, Hearts, Diamonds, Clubs func simpleDescription() -&gt; String &#123; switch self &#123; case .Spades: return &quot;spades&quot; case .Hearts: return &quot;hearts&quot; case .Diamonds: return &quot;diamonds&quot; case .Clubs: return &quot;clubs&quot; &#125; &#125; func color() -&gt; String &#123; switch self &#123; case .Spades: return &quot;balck&quot; case .Hearts: return &quot;red&quot; case .Diamonds: return &quot;red&quot; case .Clubs: return &quot;black&quot; &#125; &#125;&#125;let hearts &#x3D; Suit.Heartslet heartsDescription &#x3D; hearts.simpleDescription()let heartsColor &#x3D; hearts.color()let shapeColor &#x3D; Suit.Clubs.color() æ³¨æ„ï¼Œæœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å¼•ç”¨Hearts æˆå‘˜ï¼šç»™hearts å¸¸é‡èµ‹å€¼æ—¶ï¼Œæšä¸¾æˆå‘˜Suit.Hearts éœ€è¦ç”¨å…¨åæ¥å¼•ç”¨ï¼Œå› ä¸ºå¸¸é‡æ²¡æœ‰æ˜¾å¼æŒ‡å®šç±»å‹ã€‚åœ¨switch é‡Œï¼Œæšä¸¾æˆå‘˜ä½¿ç”¨ç¼©å†™.Hearts æ¥å¼•ç”¨ï¼Œå› ä¸ºself çš„å€¼å·²ç»çŸ¥é“æ˜¯ä¸€ä¸ªsuit ã€‚å·²çŸ¥å˜é‡ç±»å‹çš„æƒ…å†µä¸‹ä½ å¯ä»¥ä½¿ç”¨ç¼©å†™ã€‚ ä¸€ä¸ªæšä¸¾æˆå‘˜çš„å®ä¾‹å¯ä»¥æœ‰å®ä¾‹å€¼ã€‚ç›¸åŒæšä¸¾æˆå‘˜çš„å®ä¾‹å¯ä»¥æœ‰ä¸åŒçš„å€¼ã€‚åˆ›å»ºå®ä¾‹çš„æ—¶å€™ä¼ å…¥å€¼å³å¯ã€‚å®ä¾‹å€¼å’ŒåŸå§‹å€¼æ˜¯ä¸åŒçš„ï¼šæšä¸¾æˆå‘˜çš„åŸå§‹å€¼å¯¹äºæ‰€æœ‰å®ä¾‹éƒ½æ˜¯ç›¸åŒçš„ï¼Œè€Œä¸”ä½ æ˜¯åœ¨å®šä¹‰æšä¸¾çš„æ—¶å€™è®¾ç½®åŸå§‹å€¼ã€‚ ä¾‹å¦‚ï¼Œè€ƒè™‘ä»æœåŠ¡å™¨è·å–æ—¥å‡ºå’Œæ—¥è½çš„æ—¶é—´ã€‚æœåŠ¡å™¨ä¼šè¿”å›æ­£å¸¸ç»“æœæˆ–è€…é”™è¯¯ä¿¡æ¯ã€‚enum ServerResponse&#123; case Reasult(String,String) case Failure(String)&#125;let success &#x3D; ServerResponse.Reasult(&quot;6:00pm&quot;, &quot;8:09pm&quot;)let failure &#x3D; ServerResponse.Failure(&quot;Out of cheese&quot;)switch success &#123;case let .Reasult(sunrise,sunset): let serRepsonse &#x3D; &quot;Sunrise is at\\(sunrise) and sunset is at\\(sunset)&quot;case let .Failure(message): print(&quot;Failure....\\(message)&quot;)&#125; æ³¨æ„æ—¥å‡å’Œæ—¥è½æ—¶é—´æ˜¯å¦‚ä½•ä»ServerResponse ä¸­æå–åˆ°å¹¶ä¸switch çš„case ç›¸åŒ¹é…çš„ã€‚ ä½¿ç”¨struct æ¥åˆ›å»ºä¸€ä¸ªç»“æ„ä½“ã€‚ç»“æ„ä½“å’Œç±»æœ‰å¾ˆå¤šç›¸åŒçš„åœ°æ–¹ï¼Œæ¯”å¦‚æ–¹æ³•å’Œæ„é€ å™¨ã€‚å®ƒä»¬ä¹‹é—´æœ€å¤§çš„ä¸€ä¸ªåŒºåˆ«å°±æ˜¯ç»“æ„ä½“æ˜¯ä¼ å€¼ï¼Œç±»æ˜¯ä¼ å¼•ç”¨ã€‚struct Card&#123; var rank :Rank var suit :Suit func sampleDesp() -&gt; String&#123; return &quot;The \\(rank.simpleDescription()) of \\(suit.simpleDescription())&quot; &#125;&#125;let threeOfSpades &#x3D; Card(rank: .Three, suit: .Spades)let threeOfSpadesDesp &#x3D; threeOfSpades.sampleDesp()let threeOfRank &#x3D; threeOfSpades.rank.hashValue","categories":[{"name":"swift3.0","slug":"swift3-0","permalink":"http://fangliquan.github.io/categories/swift3-0/"}],"tags":[{"name":"swift3.0","slug":"swift3-0","permalink":"http://fangliquan.github.io/tags/swift3-0/"}]},{"title":"swift3.0_å‡½æ•°å’Œé—­åŒ…","slug":"swift3-0-func-study","date":"2017-03-19T09:15:13.000Z","updated":"2017-03-20T10:28:58.000Z","comments":true,"path":"2017-03-19/swift3-0-func-study/","link":"","permalink":"http://fangliquan.github.io/2017-03-19/swift3-0-func-study/","excerpt":"å‡½æ•°å’Œé—­åŒ…ä½¿ç”¨func æ¥å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼Œä½¿ç”¨åå­—å’Œå‚æ•°æ¥è°ƒç”¨å‡½æ•°ã€‚ä½¿ç”¨-&gt; æ¥æŒ‡å®šå‡½æ•°è¿”å›å€¼çš„ç±»å‹func great( person:String,day :String) -&gt;String&#123; return &quot;Hello \\(person),today is \\(day)&quot;&#125;","text":"å‡½æ•°å’Œé—­åŒ…ä½¿ç”¨func æ¥å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼Œä½¿ç”¨åå­—å’Œå‚æ•°æ¥è°ƒç”¨å‡½æ•°ã€‚ä½¿ç”¨-&gt; æ¥æŒ‡å®šå‡½æ•°è¿”å›å€¼çš„ç±»å‹func great( person:String,day :String) -&gt;String&#123; return &quot;Hello \\(person),today is \\(day)&quot;&#125; é»˜è®¤æƒ…å†µä¸‹ï¼Œå‡½æ•°ä½¿ç”¨å®ƒä»¬çš„å‚æ•°åç§°ä½œä¸ºå®ƒä»¬å‚æ•°çš„æ ‡ç­¾ï¼Œåœ¨å‚æ•°åç§°å‰å¯ä»¥è‡ªå®šä¹‰å‚æ•°æ ‡ç­¾ï¼Œæˆ–è€…ä½¿ç”¨_è¡¨ç¤ºä¸ä½¿ç”¨å‚æ•°æ ‡ç­¾ã€‚func greaton(_ person:String,on day :String) -&gt;String&#123; return &quot;Hello \\(person),today is \\(day)&quot;&#125;great(person: &quot;&quot;, day: &quot;&quot;)greaton(&quot;John&quot;, on: &quot;Sunday&quot;) ä½¿ç”¨å…ƒç»„æ¥è®©ä¸€ä¸ªå‡½æ•°è¿”å›å¤šä¸ªå€¼ã€‚è¯¥å…ƒç»„çš„å…ƒç´ å¯ä»¥ç”¨åç§°æˆ–æ•°å­—æ¥è¡¨ç¤ºã€‚func calculateStatistics(scores:[Int]) -&gt;(min:Int,max:Int,sum:Int)&#123; var minInt &#x3D; scores[0] var maxInt &#x3D; scores[0] var sum &#x3D; 0 for score in scores &#123; if score&gt;maxInt &#123; maxInt &#x3D; score &#125;else if score&lt;minInt&#123; minInt &#x3D; score &#125; sum+&#x3D;score &#125; return(minInt,maxInt,sum)&#125;let statistics &#x3D; calculateStatistics(scores: [3,4,567,89,99])print(statistics.sum)print(statistics.max)print(statistics.min)print(statistics.2) å‡½æ•°å¯ä»¥å¸¦æœ‰å¯å˜ä¸ªæ•°çš„å‚æ•°ï¼Œè¿™äº›å‚æ•°åœ¨å‡½æ•°å†…è¡¨ç°ä¸ºæ•°ç»„çš„å½¢å¼ï¼šfunc sumOf(numbers:Int...)-&gt;Int&#123; var sum &#x3D; 0; for number in numbers &#123; sum+&#x3D;number &#125; return sum&#125;sumOf(numbers: 34,56,78)sumOf() å‡½æ•°å¯ä»¥åµŒå¥—ã€‚è¢«åµŒå¥—çš„å‡½æ•°å¯ä»¥è®¿é—®å¤–ä¾§å‡½æ•°çš„å˜é‡ï¼Œä½ å¯ä»¥ä½¿ç”¨åµŒå¥—å‡½æ•°æ¥é‡æ„ä¸€ä¸ªå¤ªé•¿æˆ–è€…å¤ªå¤æ‚çš„å‡½æ•°ã€‚func returnFifteen()-&gt;Int&#123; var y &#x3D; 10 func add()&#123; y+&#x3D;10 &#125; add(); return y;&#125;returnFifteen() å‡½æ•°æ˜¯ç¬¬ä¸€ç­‰ç±»å‹ï¼Œè¿™æ„å‘³ç€å‡½æ•°å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ã€‚func makeIncrementer()-&gt;((Int) -&gt;Int)&#123; func addOne(number:Int)-&gt;Int&#123; return 1+number &#125; return addOne&#125;var increment &#x3D; makeIncrementer()increment(10) å‡½æ•°ä¹Ÿå¯ä»¥å½“åšå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°func hasAnyMatches(list:[Int],condition:(Int) -&gt;Bool)-&gt;Bool&#123; for item in list &#123; if condition(item) &#123; return true; &#125; &#125; return false;&#125;func lessThanTen(number:Int)-&gt;Bool&#123; return number&lt;10&#125;var numbers &#x3D; [20,19,6,12]hasAnyMatches(list: numbers, condition: lessThanTen) å‡½æ•°å®é™…ä¸Šæ˜¯ä¸€ç§ç‰¹æ®Šçš„é—­åŒ…:å®ƒæ˜¯ä¸€æ®µèƒ½ä¹‹åè¢«è°ƒå–çš„ä»£ç ã€‚é—­åŒ…ä¸­çš„ä»£ç èƒ½è®¿é—®é—­åŒ…æ‰€å»ºä½œç”¨åŸŸä¸­èƒ½å¾—åˆ°çš„å˜é‡å’Œå‡½æ•°ï¼Œå³ä½¿é—­åŒ…æ˜¯åœ¨ä¸€ä¸ªä¸åŒçš„ä½œç”¨åŸŸè¢«æ‰§è¡Œçš„ - ä½ å·²ç»åœ¨åµŒå¥—å‡½æ•°ä¾‹å­ä¸­æ‰€çœ‹åˆ°ã€‚ä½ å¯ä»¥ä½¿ç”¨{} æ¥åˆ›å»ºä¸€ä¸ªåŒ¿åé—­åŒ…ã€‚ä½¿ç”¨in å°†å‚æ•°å’Œè¿”å›å€¼ç±»å‹å£°æ˜ä¸é—­åŒ…å‡½æ•°ä½“è¿›è¡Œåˆ†ç¦»ã€‚numbers.map &#123; (number :Int) -&gt; Int in let result &#x3D; 3*number; return result;&#125;print(numbers) æœ‰å¾ˆå¤šç§åˆ›å»ºæ›´ç®€æ´çš„é—­åŒ…çš„æ–¹æ³•ã€‚å¦‚æœä¸€ä¸ªé—­åŒ…çš„ç±»å‹å·²çŸ¥ï¼Œæ¯”å¦‚ä½œä¸ºä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä½ å¯ä»¥å¿½ç•¥å‚æ•°çš„ç±»å‹å’Œè¿”å›å€¼ã€‚å•ä¸ªè¯­å¥é—­åŒ…ä¼šæŠŠå®ƒè¯­å¥çš„å€¼å½“åšç»“æœè¿”å›ã€‚let mappedNumbers &#x3D; numbers.map(&#123;number in 3*number&#125;)print(mappedNumbers) ä½ å¯ä»¥é€šè¿‡å‚æ•°ä½ç½®è€Œä¸æ˜¯å‚æ•°åå­—æ¥å¼•ç”¨å‚æ•°â€”â€”è¿™ä¸ªæ–¹æ³•åœ¨éå¸¸çŸ­çš„é—­åŒ…ä¸­éå¸¸æœ‰ç”¨ã€‚å½“ä¸€ä¸ªé—­åŒ…ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ä¼ ç»™ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå®ƒå¯ä»¥ç›´æ¥è·Ÿåœ¨æ‹¬å·åé¢ã€‚å½“ä¸€ä¸ªé—­åŒ…æ˜¯ä¼ ç»™å‡½æ•°çš„å”¯ä¸€å‚æ•°ï¼Œä½ å¯ä»¥å®Œå…¨å¿½ç•¥æ‹¬å·ã€‚let sortedNumbers &#x3D; numbers.sort&#123;$0&gt;$1&#125;print(sortedNumbers)","categories":[{"name":"swift3.0","slug":"swift3-0","permalink":"http://fangliquan.github.io/categories/swift3-0/"}],"tags":[{"name":"swift3.0","slug":"swift3-0","permalink":"http://fangliquan.github.io/tags/swift3-0/"}]},{"title":"iOS è§£å†³è“ç‰™éŸ³ç®±è¾“å‡ºAppæ’­æ”¾çš„éŸ³é¢‘é—®é¢˜","slug":"IPhone-Bluetooth-speaker-output-audio","date":"2016-09-16T03:31:13.000Z","updated":"2017-03-20T10:28:58.000Z","comments":true,"path":"2016-09-16/IPhone-Bluetooth-speaker-output-audio/","link":"","permalink":"http://fangliquan.github.io/2016-09-16/IPhone-Bluetooth-speaker-output-audio/","excerpt":"Appä¸­æœ‰éŸ³é¢‘æ’­æ”¾çš„åŠŸèƒ½ï¼Œåœ¨Appè¿æ¥è“ç‰™è®¾å¤‡æ—¶éŸ³é¢‘æ²¡æœ‰ä»è“é¢œéŸ³ç®±è¾“å‡ºã€‚å†æ‰¾ä¸€äº›èµ„æ–™æ—¶æ€»ç»“ä¸€äº›æŠ€æœ¯ç‚¹ã€‚æ·»åŠ å¯¹AudioSessionæ”¯æŒè“ç‰™çš„è®¾ç½® ï¼Œå¤„ç†è®¾å¤‡è¾“å‡ºè·¯å¾„é€šçŸ¥çš„ç›‘æ§ï¼Œå¤„ç†å¤–è®¾çš„æ“ä½œäº‹ä»¶ã€‚","text":"Appä¸­æœ‰éŸ³é¢‘æ’­æ”¾çš„åŠŸèƒ½ï¼Œåœ¨Appè¿æ¥è“ç‰™è®¾å¤‡æ—¶éŸ³é¢‘æ²¡æœ‰ä»è“é¢œéŸ³ç®±è¾“å‡ºã€‚å†æ‰¾ä¸€äº›èµ„æ–™æ—¶æ€»ç»“ä¸€äº›æŠ€æœ¯ç‚¹ã€‚æ·»åŠ å¯¹AudioSessionæ”¯æŒè“ç‰™çš„è®¾ç½® ï¼Œå¤„ç†è®¾å¤‡è¾“å‡ºè·¯å¾„é€šçŸ¥çš„ç›‘æ§ï¼Œå¤„ç†å¤–è®¾çš„æ“ä½œäº‹ä»¶ã€‚ AVAudioSessionçš„è®¾ç½® å¦‚æœappéœ€è¦æ”¯æŒè“ç‰™å¤–è®¾è¾“å‡ºåŠè€³æœº çš„æ§åˆ¶éœ€è¦æ·»åŠ  å¯¹OverrideAudioRoute OverrideCategoryEnableBluetoothInputçš„æ”¯æŒ åŒæ—¶è¿˜è¦è®¾ç½®AVAudioSessionçš„Categoryä¸ºAVAudioSessionCategoryPlayback. AVAudioSession * session = [AVAudioSession sharedInstance];[session setCategory:AVAudioSessionCategoryPlayback error:nil];[session setActive:YES error:nil];UInt32 audioRouteOverride = kAudioSessionOverrideAudioRoute_Speaker;AudioSessionSetProperty (kAudioSessionProperty_OverrideAudioRoute, sizeof (audioRouteOverride), &amp;audioRouteOverride);//kAudioSessionProperty_OverrideCategoryDefaultToSpeakerUInt32 allowBluetoothInput = 1;AudioSessionSetProperty ( kAudioSessionProperty_OverrideCategoryEnableBluetoothInput, sizeof (allowBluetoothInput), &amp;allowBluetoothInput );//[[AudioSessionManager sharedInstance]changeMode:@&quot;kAudioSessionManagerMode_Playback&quot;];[[UIApplication sharedApplication] beginReceivingRemoteControlEvents];[[UIApplication sharedApplication] becomeFirstResponder]; å¤„ç†è¾“å‡ºè·¯å¾„çš„å˜æ¢çš„é€šçŸ¥ AVAudioSessionRouteChangeNotification çš„ç›‘å¬ æ³¨å†Œé€šçŸ¥å è¦å¯¹ç›‘å¬åšå¤„ç† AVAudioSession *audioSession = [AVAudioSession sharedInstance];NSInteger changeReason = [[notification.userInfo objectForKey:AVAudioSessionRouteChangeReasonKey] integerValue];AVAudioSessionRouteDescription *oldRoute = [notification.userInfo objectForKey:AVAudioSessionRouteChangePreviousRouteKey];NSString *oldOutput = [[oldRoute.outputs objectAtIndex:0] portType];AVAudioSessionRouteDescription *newRoute = [audioSession currentRoute];NSString *newOutput = [[newRoute.outputs objectAtIndex:0] portType]; å…·ä½“å®ç°è¯·çœ‹ä»£ç  - (void)currentRouteChanged:(NSNotification *)notification&#123; AVAudioSession *audioSession = [AVAudioSession sharedInstance]; NSInteger changeReason = [[notification.userInfo objectForKey:AVAudioSessionRouteChangeReasonKey] integerValue]; AVAudioSessionRouteDescription *oldRoute = [notification.userInfo objectForKey:AVAudioSessionRouteChangePreviousRouteKey]; NSString *oldOutput = [[oldRoute.outputs objectAtIndex:0] portType]; AVAudioSessionRouteDescription *newRoute = [audioSession currentRoute]; NSString *newOutput = [[newRoute.outputs objectAtIndex:0] portType]; NSLogDebug(@&quot;changeReason - ------------------ %d&quot;,(int)changeReason); switch (changeReason) &#123; case AVAudioSessionRouteChangeReasonOldDeviceUnavailable: &#123; if ([oldOutput isEqualToString:AVAudioSessionPortHeadphones]) &#123; self.headsetDeviceAvailable = NO; // Special Scenario: // when headphones are plugged in before the call and plugged out during the call // route will change to &#123;input: MicrophoneBuiltIn, output: Receiver&#125; // manually refresh session and support all devices again.// [audioSession setActive:NO error:nil];// [audioSession setCategory:AVAudioSessionCategoryPlayAndRecord withOptions:AVAudioSessionCategoryOptionAllowBluetooth error:nil];// [audioSession setMode:AVAudioSessionModeVoiceChat error:nil];// [audioSession setActive:YES error:nil]; dispatch_async(dispatch_get_main_queue(), ^&#123; [WawaAudioBookListView pauseCurrentAudio]; &#125;); &#125; else if ([self isBluetoothDevice:oldOutput]) &#123; BOOL showBluetooth = NO; // Additional checking for iOS7 devices (more accurate) // when multiple blutooth devices connected, one is no longer available does not mean no bluetooth available if ([audioSession respondsToSelector:@selector(availableInputs)]) &#123; NSArray *inputs = [audioSession availableInputs]; for (AVAudioSessionPortDescription *input in inputs)&#123; if ([self isBluetoothDevice:[input portType]])&#123; showBluetooth = YES; break; &#125; &#125; &#125; if (!showBluetooth) &#123; self.bluetoothDeviceAvailable = NO; &#125; &#125; &#125; break; case AVAudioSessionRouteChangeReasonNewDeviceAvailable: &#123; if ([self isBluetoothDevice:newOutput]) &#123; self.bluetoothDeviceAvailable = YES; &#125; else if ([newOutput isEqualToString:AVAudioSessionPortHeadphones]) &#123; self.headsetDeviceAvailable = YES; &#125; &#125; break; case AVAudioSessionRouteChangeReasonCategoryChange: &#123; if ([self isBluetoothDevice:newOutput]) &#123; self.bluetoothDeviceAvailable = YES; &#125; else if ([newOutput isEqualToString:AVAudioSessionPortHeadphones]) &#123; self.headsetDeviceAvailable = YES; &#125; NSUserDefaults *defaults =[NSUserDefaults standardUserDefaults]; [defaults setObject:@&quot;YES&quot; forKey:@&quot;WawaAVAudioSessionRouteChangeReasonCategoryChange&quot;]; &#125; break; case AVAudioSessionRouteChangeReasonOverride: &#123; if ([self isBluetoothDevice:oldOutput]) &#123; if ([audioSession respondsToSelector:@selector(availableInputs)]) &#123; BOOL showBluetooth = NO; NSArray *inputs = [audioSession availableInputs]; for (AVAudioSessionPortDescription *input in inputs)&#123; if ([self isBluetoothDevice:[input portType]])&#123; showBluetooth = YES; break; &#125; &#125; if (!showBluetooth) &#123; self.bluetoothDeviceAvailable = NO; &#125; &#125; else if ([newOutput isEqualToString:AVAudioSessionPortBuiltInReceiver]) &#123; self.bluetoothDeviceAvailable = NO; &#125; &#125; &#125; break; default: break; &#125;&#125;- (BOOL)isBluetoothDevice:(NSString*)portType &#123; return ([portType isEqualToString:AVAudioSessionPortBluetoothA2DP] || [portType isEqualToString:AVAudioSessionPortBluetoothHFP]);&#125;- (void)start&#123; [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(currentRouteChanged:) name:AVAudioSessionRouteChangeNotification object:nil];&#125; å¤„ç†RemoteControl éŸ³é¢‘è“ç‰™éŸ³ç®±çš„å¤–è®¾å¯ä»¥è¿›è¡Œä¸‹ä¸€é¦– ç­‰æ“ä½œ æ‰€ä»¥å¯¹RemoteControlåšå¤„ç† æ¥æ§åˆ¶éŸ³é¢‘çš„æ’­æ”¾ - (void)remoteControlReceivedWithEvent:(UIEvent *)event&#123; switch (event.subtype) &#123; case UIEventSubtypeRemoteControlPlay: &#123; [self postNotification:kRemoteControlPlayTapped]; &#125; break; case UIEventSubtypeRemoteControlPause: [self postNotification:kRemoteControlPauseTapped]; break; case UIEventSubtypeRemoteControlNextTrack: [self postNotification:kRemoteControlNextTapped]; break; case UIEventSubtypeRemoteControlPreviousTrack: [self postNotification:kRemoteControlPreviousTapped]; break; default: break; &#125;&#125;- (void)postNotification:(const NSString *)notificationName&#123; [[NSNotificationCenter defaultCenter] postNotificationName:(NSString *)notificationName object:nil];&#125;- (void)observeRemoteControl:(id)observer selector:(SEL)selector&#123; NSNotificationCenter * center = [NSNotificationCenter defaultCenter]; [center addObserver:observer selector:selector name:(NSString *)kRemoteControlNextTapped object:nil]; [center addObserver:observer selector:selector name:(NSString *)kRemoteControlPauseTapped object:nil]; [center addObserver:observer selector:selector name:(NSString *)kRemoteControlPlayTapped object:nil]; [center addObserver:observer selector:selector name:(NSString *)kRemoteControlPreviousTapped object:nil];&#125; å¤„ç†äº‹ä»¶ - (void)onRemoteControlNotification:(NSNotification *)notification&#123; NSLog(@&quot;changeReason - ------------------ kRemoteControlPlayTapped&quot;); //[[AudioSessionManager sharedInstance]changeMode:@&quot;kAudioSessionManagerMode_Playback&quot;]; if ([notification.name isEqualToString:kRemoteControlPlayTapped]) &#123; if (self.audioSteamSate == kFsAudioStreamRetrievingURL || self.audioSteamSate == kFsAudioStreamStopped) &#123; // å½“å‰é€‰ä¸­çš„ audio å¤„äºå‡†å¤‡ä¸­åˆ™æ’­æ”¾æ­¤ url self.needResume = YES; [self playFromUrl:self.currentPlayAduio]; &#125; else &#123;// å¦åˆ™æš‚åœæˆ–è€…æ’­æ”¾ if (self.audioSteamSate ==kFsAudioStreamPlaying) &#123; self.needResume = YES; &#125; //åªåœ¨å½“å‰æ’­æ”¾çŠ¶æ€ä¸ºæ’­æ”¾æ—¶å¤„ç†è“ç‰™è®¾å¤‡çš„æ¥å…¥ [self.audioStream pause]; &#125; &#125; else if ([notification.name isEqualToString:kRemoteControlPauseTapped]) &#123; [self.audioStream pause]; &#125; else if ([notification.name isEqualToString:kRemoteControlNextTapped]) &#123; [self next]; &#125; else if ([notification.name isEqualToString:kRemoteControlPreviousTapped]) &#123; [self previous]; &#125;&#125;","categories":[{"name":"iOS Project Practice","slug":"iOS-Project-Practice","permalink":"http://fangliquan.github.io/categories/iOS-Project-Practice/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://fangliquan.github.io/tags/iOS/"},{"name":"AVAudioSession","slug":"AVAudioSession","permalink":"http://fangliquan.github.io/tags/AVAudioSession/"},{"name":"AudioSessionProperty","slug":"AudioSessionProperty","permalink":"http://fangliquan.github.io/tags/AudioSessionProperty/"}]},{"title":"iOS è§£å†³æ”¯ä»˜å®SDKåœ¨æ²¡æœ‰å®‰è£…æ”¯ä»˜å®æ—¶ä¸èƒ½å¯åŠ¨ç½‘é¡µæ”¯ä»˜","slug":"To-solve-the-Alipay-SDK-not-installed-Alipay-cannot-start-payment","date":"2016-08-28T03:31:13.000Z","updated":"2017-03-20T10:28:58.000Z","comments":true,"path":"2016-08-28/To-solve-the-Alipay-SDK-not-installed-Alipay-cannot-start-payment/","link":"","permalink":"http://fangliquan.github.io/2016-08-28/To-solve-the-Alipay-SDK-not-installed-Alipay-cannot-start-payment/","excerpt":"åœ¨åšæ”¯ä»˜å®æ”¯ä»˜åŠŸèƒ½æ—¶ï¼Œåœ¨æ²¡æœ‰å®‰è£…æ”¯ä»˜å®çš„æ—¶å€™ä¸èƒ½å¯åŠ¨ç½‘é¡µæ”¯ä»˜ã€‚æˆ‘æ‰¾åˆ°äº†ä¸€ç§è§£å†³æ–¹æ³•ã€‚","text":"åœ¨åšæ”¯ä»˜å®æ”¯ä»˜åŠŸèƒ½æ—¶ï¼Œåœ¨æ²¡æœ‰å®‰è£…æ”¯ä»˜å®çš„æ—¶å€™ä¸èƒ½å¯åŠ¨ç½‘é¡µæ”¯ä»˜ã€‚æˆ‘æ‰¾åˆ°äº†ä¸€ç§è§£å†³æ–¹æ³•ã€‚ é…ç½®plist æ–‡ä»¶é…ç½® LSApplicationQueriesSchemes &lt;key&gt;LSApplicationQueriesSchemes&lt;/key&gt; &lt;array&gt; &lt;string&gt;alipayauth&lt;/string&gt; &lt;string&gt;alipay&lt;/string&gt; &lt;string&gt;alipayshare&lt;/string&gt; &lt;string&gt;safepay&lt;/string&gt; &lt;string&gt;aliminipayauth&lt;/string&gt; &lt;string&gt;cydia&lt;/string&gt; &lt;/array&gt;é…ç½®NSAppTransportSecurity ï¼Œæ·»åŠ NSExceptionDomainsæ”¯æŒ &lt;key&gt;NSAppTransportSecurity&lt;/key&gt; &lt;dict&gt; &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt; &lt;true/&gt; &lt;key&gt;NSExceptionDomains&lt;/key&gt; &lt;dict&gt; &lt;key&gt;alipay.com&lt;/key&gt; &lt;dict&gt; &lt;key&gt;NSIncludesSubdomains&lt;/key&gt; &lt;true/&gt; &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt; &lt;true/&gt; &lt;key&gt;NSTemporaryExceptionMinimumTLSVersion&lt;/key&gt; &lt;string&gt;TLSv1.1&lt;/string&gt; &lt;key&gt;NSExceptionRequiresForwardSecrecy&lt;/key&gt; &lt;false/&gt; &lt;/dict&gt; &lt;/dict&gt; &lt;/dict&gt; åœ¨AppDelegateä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œä¸çŸ¥é“æ˜¯å¦èµ·ä½œç”¨ï¼Œæˆ‘è®¾ç½®æ–­ç‚¹æ²¡æœ‰è¿›å…¥è¯¥ä»£ç æ®µğŸ˜„- (BOOL)connection:(NSURLConnection *)connection canAuthenticateAgainstProtectionSpace:(NSURLProtectionSpace *)protectionSpac&#123; return YES;&#125;- (void)connection:(NSURLConnection *)connection didReceiveAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge &#123; NSArray *trustedHosts = [NSArray arrayWithObjects:@&quot;alipay&quot;,nil]; if ([challenge.protectionSpace.authenticationMethod isEqualToString:NSURLAuthenticationMethodServerTrust])&#123; if ([trustedHosts containsObject:challenge.protectionSpace.host]) &#123; [challenge.sender useCredential:[NSURLCredential credentialForTrust:challenge.protectionSpace.serverTrust] forAuthenticationChallenge:challenge]; &#125; &#125; [challenge.sender continueWithoutCredentialForAuthenticationChallenge:challenge];&#125; æˆ‘ä»¬çš„é¡¹ç›®æ˜¯é€šè¿‡storyboardå¯åŠ¨çš„ï¼Œæ‰€ä»¥éœ€è¦å°†ç¬¬ä¸€ä¸ªWindow çš„hiddenè®¾ä¸ºNOï¼Œæˆ‘åœ¨è¿™é‡Œåˆ¤æ–­äº†ç³»ç»Ÿæ˜¯å¦å®‰è£…äº†æ”¯ä»˜å®ã€‚å› ä¸ºå°†ç¬¬ä¸€ä¸ªWindowè®¾ä¸ºæ˜¾ç¤ºåä¼šå‡ºç°æˆ‘ä»¬å·²ç»å› æ­¤çš„é¡µé¢ï¼Œä¼šé‡æ–°èµ°ä¸€éæµç¨‹ã€‚æ‰€ä»¥æˆ‘åœ¨è¿™ä¸ªWindowçš„RootViewControllçš„Viewæ·»åŠ äº†ä¸€ä¸ªç™½è‰²çš„Viewæ¥è¦†ç›–é¡µé¢ã€‚åœ¨æ”¯ä»˜çš„å›è°ƒé‡Œé¢ï¼Œå†è®²é¡µé¢çš„hiddenè®¾ä¸ºYESå¹¶å°†ç™½è‰²View ç§»é™¤æ‰ã€‚__block UIWindow* window = nil;NSURL * app_Alipay_URL = [NSURL URLWithString:@&quot;alipay:&quot;];UIView *bgView = [[UIView alloc]initWithFrame:CGRectMake(0, 0, Main_Screen_Width, Main_Screen_Height)];bgView.backgroundColor = [UIColor whiteColor];if (![[UIApplication sharedApplication] canOpenURL:app_Alipay_URL]) &#123; //å¦‚æœæ²¡æœ‰å®‰è£…æ”¯ä»˜å® NSArray *array = [[UIApplication sharedApplication] windows]; window = [array firstObject]; if (window) &#123; [window.rootViewController.view addSubview:bgView]; [window setHidden:NO]; &#125;&#125;[[AlipaySDK defaultService] payOrder:orderString fromScheme:appScheme callback:^(NSDictionary *resultDic) &#123; if (window) &#123; [window setHidden:YES]; [bgView removeFromSuperview]; window = nil; &#125; if (_callBack) &#123; _callBack([self requestFromResultDic:resultDic]); &#125;&#125;];","categories":[{"name":"iOS Project Practice","slug":"iOS-Project-Practice","permalink":"http://fangliquan.github.io/categories/iOS-Project-Practice/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://fangliquan.github.io/tags/iOS/"},{"name":"æ”¯ä»˜å®SDK","slug":"æ”¯ä»˜å®SDK","permalink":"http://fangliquan.github.io/tags/%E6%94%AF%E4%BB%98%E5%AE%9DSDK/"},{"name":"æ”¯ä»˜å®","slug":"æ”¯ä»˜å®","permalink":"http://fangliquan.github.io/tags/%E6%94%AF%E4%BB%98%E5%AE%9D/"}]},{"title":"iOS å¤šçº¿ç¨‹åŒæ—¶è®¿é—®æ•°ç»„å‡ºç°was mutated while being enumerated","slug":"was_mutated_while_being_enumerated","date":"2016-08-13T02:41:15.000Z","updated":"2017-03-20T10:28:58.000Z","comments":true,"path":"2016-08-13/was_mutated_while_being_enumerated/","link":"","permalink":"http://fangliquan.github.io/2016-08-13/was_mutated_while_being_enumerated/","excerpt":"é”™è¯¯ï¼šiOS å¤šçº¿ç¨‹åŒæ—¶è®¿é—®æ•°ç»„å‡ºç°was mutated while being enumerated__NSArrayM: 0x96be3e0 was mutated while being enumerated.æ„æ€å°±æ˜¯æ•°ç»„åœ¨è¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®çš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªæ•°ç»„ä¹Ÿå¯¹å®ƒè¿›è¡Œè®¿é—®ã€‚åŸå› æ˜¯è¿™æ ·çš„ï¼Œæˆ‘çš„appä¸­ï¼Œæœ‰ä¸ªéŸ³ä¹æ’­æ”¾æ•°æ®ç®¡ç†å•ä¾‹ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªæ•°ç»„æ¥ä¿å­˜å½“å‰æ’­æ”¾çš„ç›®å½•ï¼Œç”¨ä¸€ä¸ªæ–¹æ³•æ£€æµ‹æ˜¯å¦æ˜¯å½“å‰æ’­æ”¾çš„æ­Œæ›²ï¼Œä½†æ˜¯æ–°çš„æ­Œæ›²ä¸æ–­çš„åŠ å…¥åœ¨ä¸»çº¿ç¨‹ä¸­åŠ å…¥ï¼‰ã€‚ä¸¤ä¸ªçº¿ç¨‹åœ¨ä¸ç‰¹å®šçš„æ—¶åˆ»ä¼šå†²çª","text":"é”™è¯¯ï¼šiOS å¤šçº¿ç¨‹åŒæ—¶è®¿é—®æ•°ç»„å‡ºç°was mutated while being enumerated__NSArrayM: 0x96be3e0 was mutated while being enumerated.æ„æ€å°±æ˜¯æ•°ç»„åœ¨è¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®çš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªæ•°ç»„ä¹Ÿå¯¹å®ƒè¿›è¡Œè®¿é—®ã€‚åŸå› æ˜¯è¿™æ ·çš„ï¼Œæˆ‘çš„appä¸­ï¼Œæœ‰ä¸ªéŸ³ä¹æ’­æ”¾æ•°æ®ç®¡ç†å•ä¾‹ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªæ•°ç»„æ¥ä¿å­˜å½“å‰æ’­æ”¾çš„ç›®å½•ï¼Œç”¨ä¸€ä¸ªæ–¹æ³•æ£€æµ‹æ˜¯å¦æ˜¯å½“å‰æ’­æ”¾çš„æ­Œæ›²ï¼Œä½†æ˜¯æ–°çš„æ­Œæ›²ä¸æ–­çš„åŠ å…¥åœ¨ä¸»çº¿ç¨‹ä¸­åŠ å…¥ï¼‰ã€‚ä¸¤ä¸ªçº¿ç¨‹åœ¨ä¸ç‰¹å®šçš„æ—¶åˆ»ä¼šå†²çª + (NSArray *)getAudioPlayArray:(NSArray *)array playingId:(long long)playingId&#123; NSArray * targetArray = nil; NSMutableArray * tempArray = [NSMutableArray array]; for (NSObject * model in array) &#123; AudioPlayModel * playModel = [[AudioPlayModel alloc] init]; if ([model isKindOfClass:[GenBookListDTO class]]) &#123; GenBookListDTO * picBook = (GenBookListDTO *)model; playModel.playId = picBook.bookId; playModel.playName = picBook.name; playModel.playCover = picBook.cover; playModel.publisher = @&quot;&quot;; playModel.audioType = PlayAudioType_PictureBook; if (playModel.playId == playingId) &#123; playModel.isPlaying = YES; &#125; else &#123; playModel.isPlaying = NO; &#125; &#125; else if ([model isKindOfClass:[GenSongListDTO class]]) &#123; GenSongListDTO * songRes = (GenSongListDTO *)model; playModel.playId = songRes.songId; playModel.playName = songRes.name; playModel.playCover = songRes.audioCover; playModel.publisher = @&quot;&quot;; playModel.audioType = PlayAudioType_Song; if (playModel.playId == playingId) &#123; playModel.isPlaying = YES; &#125; else &#123; playModel.isPlaying = NO; &#125; &#125; else if ([model isKindOfClass:[AudioPlayModel class]]) &#123; AudioPlayModel * audioModel = (AudioPlayModel *)model; playModel.playId = audioModel.playId; playModel.playName = audioModel.playName; playModel.playCover = audioModel.playCover; playModel.publisher = @&quot;&quot;; playModel.audioType = audioModel.audioType; if (playModel.playId == playingId) &#123; playModel.isPlaying = YES; &#125; else &#123; playModel.isPlaying = NO; &#125; &#125; else if ([model isKindOfClass:[PictureBook class]]) &#123; PictureBook * picBookModel = (PictureBook *)model; playModel.playId = (long long)picBookModel.bookId; playModel.playName = picBookModel.title; playModel.playCover = picBookModel.cover; playModel.publisher = @&quot;&quot;; playModel.audioType = PlayAudioType_PictureBook; if (playModel.playId == playingId) &#123; playModel.isPlaying = YES; &#125; else &#123; playModel.isPlaying = NO; &#125; &#125; else if ([model isKindOfClass:[GenBookBorrowedDTO class]]) &#123; GenBookBorrowedDTO * borrowBookModel = (GenBookBorrowedDTO *)model; playModel.playId = borrowBookModel.bookId; playModel.playName = borrowBookModel.name; playModel.playCover = borrowBookModel.cover; playModel.publisher = @&quot;&quot;; playModel.audioType = PlayAudioType_PictureBook; if (playModel.playId == playingId) &#123; playModel.isPlaying = YES; &#125; else &#123; playModel.isPlaying = NO; &#125; &#125; [tempArray addObject:playModel]; &#125; if (tempArray.count) &#123; [AudioPlayModel saveAudioPlayList:tempArray]; &#125; targetArray = tempArray; return targetArray;&#125; è§£å†³çš„æ–¹æ³•ï¼šåœ¨æ¬¡çº¿ç¨‹ä¸­å¤åˆ¶ä¸€ä¸ªæ•°ç»„çš„å‰¯æœ¬ï¼Œç”¨å‰¯æœ¬è¿›è¡Œéå†ã€‚ NSArray* array=[NSArray arrayWithArray:b];","categories":[{"name":"iOS","slug":"iOS","permalink":"http://fangliquan.github.io/categories/iOS/"}],"tags":[{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://fangliquan.github.io/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"}]},{"title":"è§£å†³Xcodeå¼€å‘ç»„ä»¶å¤±æ•ˆçš„å‘½ä»¤","slug":"solve-Xcode-development-component-failure-of-the-command","date":"2016-07-30T15:26:17.000Z","updated":"2017-03-20T10:28:58.000Z","comments":true,"path":"2016-07-30/solve-Xcode-development-component-failure-of-the-command/","link":"","permalink":"http://fangliquan.github.io/2016-07-30/solve-Xcode-development-component-failure-of-the-command/","excerpt":"","text":"find ~/Library/Application\\ Support/Developer/Shared/Xcode/Plug-ins -name Info.plist -maxdepth 3 | xargs -I{} defaults write {} DVTPlugInCompatibilityUUIDs -array-add defaults read /Applications/Xcode.app/Contents/Info DVTPlugInCompatibilityUUID","categories":[{"name":"xcode","slug":"xcode","permalink":"http://fangliquan.github.io/categories/xcode/"}],"tags":[{"name":"xcode","slug":"xcode","permalink":"http://fangliquan.github.io/tags/xcode/"}]},{"title":"iOSå¼€å‘--å¤šçº¿ç¨‹ NSThread GCD å­¦ä¹ ","slug":"iOS-multithreading-NSThread-GCD","date":"2016-07-28T15:26:17.000Z","updated":"2017-03-20T10:28:58.000Z","comments":true,"path":"2016-07-28/iOS-multithreading-NSThread-GCD/","link":"","permalink":"http://fangliquan.github.io/2016-07-28/iOS-multithreading-NSThread-GCD/","excerpt":"1.åŸºæœ¬æ¦‚å¿µ 1.1 è¿›ç¨‹ è¿›ç¨‹æ˜¯æŒ‡åœ¨ç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚æ¯ä¸ªè¿›ç¨‹ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ï¼Œæ¯ä¸ªè¿›ç¨‹å‡è¿è¡Œåœ¨å…¶ä¸“ç”¨ä¸”å—ä¿æŠ¤çš„å†…å­˜ç©ºé—´å†…ã€‚","text":"1.åŸºæœ¬æ¦‚å¿µ 1.1 è¿›ç¨‹ è¿›ç¨‹æ˜¯æŒ‡åœ¨ç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚æ¯ä¸ªè¿›ç¨‹ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ï¼Œæ¯ä¸ªè¿›ç¨‹å‡è¿è¡Œåœ¨å…¶ä¸“ç”¨ä¸”å—ä¿æŠ¤çš„å†…å­˜ç©ºé—´å†…ã€‚ 1.2 çº¿ç¨‹ ï¼ˆ1ï¼‰åŸºæœ¬æ¦‚å¿µ 1ä¸ªè¿›ç¨‹è¦æƒ³æ‰§è¡Œä»»åŠ¡ï¼Œå¿…é¡»å¾—æœ‰çº¿ç¨‹ï¼ˆæ¯1ä¸ªè¿›ç¨‹è‡³å°‘è¦æœ‰1æ¡çº¿ç¨‹ï¼‰ï¼Œçº¿ç¨‹æ˜¯è¿›ç¨‹çš„åŸºæœ¬æ‰§è¡Œå•å…ƒï¼Œä¸€ä¸ªè¿›ç¨‹ï¼ˆç¨‹åºï¼‰çš„æ‰€æœ‰ä»»åŠ¡éƒ½åœ¨çº¿ç¨‹ä¸­æ‰§è¡Œã€‚ï¼ˆ2ï¼‰çº¿ç¨‹çš„ä¸²è¡Œ 1ä¸ªçº¿ç¨‹ä¸­ä»»åŠ¡çš„æ‰§è¡Œæ˜¯ä¸²è¡Œçš„ï¼Œå¦‚æœè¦åœ¨1ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œé‚£ä¹ˆåªèƒ½ä¸€ä¸ªä¸€ä¸ªåœ°æŒ‰é¡ºåºæ‰§è¡Œè¿™äº›ä»»åŠ¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨åŒä¸€æ—¶é—´å†…ï¼Œ1ä¸ªçº¿ç¨‹åªèƒ½æ‰§è¡Œ1ä¸ªä»»åŠ¡ã€‚ 1.3 å¤šçº¿ç¨‹ ï¼ˆ1ï¼‰åŸºæœ¬æ¦‚å¿µ å³1ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¼€å¯å¤šæ¡çº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¯ä»¥å¹¶è¡Œï¼ˆåŒæ—¶ï¼‰æ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚ï¼ˆ2ï¼‰çº¿ç¨‹çš„å¹¶è¡Œ å¹¶è¡Œå³åŒæ—¶æ‰§è¡Œã€‚æ¯”å¦‚åŒæ—¶å¼€å¯3æ¡çº¿ç¨‹åˆ†åˆ«ä¸‹è½½3ä¸ªæ–‡ä»¶ï¼ˆåˆ†åˆ«æ˜¯æ–‡ä»¶Aã€æ–‡ä»¶Bã€æ–‡ä»¶Cã€‚ï¼ˆ3ï¼‰å¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„åŸç† åœ¨åŒä¸€æ—¶é—´é‡Œï¼ŒCPUåªèƒ½å¤„ç†1æ¡çº¿ç¨‹ï¼Œåªæœ‰1æ¡çº¿ç¨‹åœ¨å·¥ä½œï¼ˆæ‰§è¡Œï¼‰ã€‚å¤šçº¿ç¨‹å¹¶å‘ï¼ˆåŒæ—¶ï¼‰æ‰§è¡Œï¼Œå…¶å®æ˜¯CPUå¿«é€Ÿåœ°åœ¨å¤šæ¡çº¿ç¨‹ä¹‹é—´è°ƒåº¦ï¼ˆåˆ‡æ¢ï¼‰ï¼Œå¦‚æœCPUè°ƒåº¦çº¿ç¨‹çš„æ—¶é—´è¶³å¤Ÿå¿«ï¼Œå°±é€ æˆäº†å¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„å‡è±¡ï¼ˆ4ï¼‰å¤šçº¿ç¨‹ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ 1ï¼‰èƒ½é€‚å½“æé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚ 2ï¼‰èƒ½é€‚å½“æé«˜èµ„æºåˆ©ç”¨ç‡ï¼ˆCPUã€å†…å­˜åˆ©ç”¨ç‡ï¼‰ ç¼ºç‚¹ 1ï¼‰å¼€å¯çº¿ç¨‹éœ€è¦å ç”¨ä¸€å®šçš„å†…å­˜ç©ºé—´ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œä¸»çº¿ç¨‹å ç”¨1Mï¼Œå­çº¿ç¨‹å ç”¨512KBï¼‰ï¼Œå¦‚æœå¼€å¯å¤§é‡çš„çº¿ç¨‹ï¼Œä¼šå ç”¨å¤§é‡çš„å†…å­˜ç©ºé—´ï¼Œé™ä½ç¨‹åºçš„æ€§èƒ½ã€‚ 2ï¼‰çº¿ç¨‹è¶Šå¤šï¼ŒCPUåœ¨è°ƒåº¦çº¿ç¨‹ä¸Šçš„å¼€é”€å°±è¶Šå¤§ã€‚ 3ï¼‰ç¨‹åºè®¾è®¡æ›´åŠ å¤æ‚ï¼šæ¯”å¦‚çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ã€å¤šçº¿ç¨‹çš„æ•°æ®å…±äº« 1.4 å¤šçº¿ç¨‹åœ¨iOSå¼€å‘ä¸­çš„åº”ç”¨ ï¼ˆ1ï¼‰ä¸»çº¿ç¨‹ 1ï¼‰ä¸€ä¸ªiOSç¨‹åºè¿è¡Œåï¼Œé»˜è®¤ä¼šå¼€å¯1æ¡çº¿ç¨‹ï¼Œç§°ä¸ºâ€œä¸»çº¿ç¨‹â€æˆ–â€œUIçº¿ç¨‹â€ã€‚ 2ï¼‰ä½œç”¨ã€‚åˆ·æ–°æ˜¾ç¤ºUI,å¤„ç†UIäº‹ä»¶ã€‚ï¼ˆ2ï¼‰ä½¿ç”¨æ³¨æ„ 1ï¼‰ä¸è¦å°†è€—æ—¶æ“ä½œæ”¾åˆ°ä¸»çº¿ç¨‹ä¸­å»å¤„ç†ï¼Œä¼šå¡ä½çº¿ç¨‹ã€‚ 1.5 iOSä¸­å¤šçº¿ç¨‹çš„å®ç°æ–¹æ¡ˆ ï¼ˆ1ï¼‰pthread 01 ç‰¹ç‚¹ï¼š ï¼ˆ1ï¼‰ä¸€å¥—é€šç”¨çš„å¤šçº¿ç¨‹API ï¼ˆ2ï¼‰é€‚ç”¨äºUnix\\Linux\\Windowsç­‰ç³»ç»Ÿ ï¼ˆ3ï¼‰è·¨å¹³å°\\å¯ç§»æ¤ ï¼ˆ4ï¼‰ä½¿ç”¨éš¾åº¦å¤§ 02 ä½¿ç”¨è¯­è¨€ï¼šcè¯­è¨€ 03 ä½¿ç”¨é¢‘ç‡ï¼šå‡ ä¹ä¸ç”¨ 04 çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸï¼šç”±ç¨‹åºå‘˜è¿›è¡Œç®¡ç†ï¼ˆ2ï¼‰ NSThread 01 ç‰¹ç‚¹ï¼š ï¼ˆ1ï¼‰ä½¿ç”¨æ›´åŠ é¢å‘å¯¹è±¡ ï¼ˆ2ï¼‰ç®€å•æ˜“ç”¨ï¼Œå¯ç›´æ¥æ“ä½œçº¿ç¨‹å¯¹è±¡ 02 ä½¿ç”¨è¯­è¨€ï¼šOCè¯­è¨€ 03 ä½¿ç”¨é¢‘ç‡ï¼šå¶å°”ä½¿ç”¨ 04 çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸï¼šç”±ç¨‹åºå‘˜è¿›è¡Œç®¡ç†ï¼ˆ3ï¼‰GCD 01 ç‰¹ç‚¹ï¼š ï¼ˆ1ï¼‰æ—¨åœ¨æ›¿ä»£NSThreadç­‰çº¿ç¨‹æŠ€æœ¯ ï¼ˆ2ï¼‰å……åˆ†åˆ©ç”¨è®¾å¤‡çš„å¤šæ ¸(è‡ªåŠ¨) 02 ä½¿ç”¨è¯­è¨€ï¼šOCè¯­è¨€ 03 ä½¿ç”¨é¢‘ç‡ï¼šç»å¸¸ä½¿ç”¨ 04 çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸï¼šè‡ªåŠ¨ç®¡ç†(4) NSOperation 01 ç‰¹ç‚¹ï¼š ï¼ˆ1ï¼‰åŸºäºGCDï¼ˆåº•å±‚æ˜¯GCDï¼‰ ï¼ˆ2ï¼‰æ¯”GCDå¤šäº†ä¸€äº›æ›´ç®€å•å®ç”¨çš„åŠŸèƒ½ ï¼ˆ3ï¼‰ä½¿ç”¨æ›´åŠ é¢å‘å¯¹è±¡ 02 ä½¿ç”¨è¯­è¨€ï¼šOCè¯­è¨€ 03 ä½¿ç”¨é¢‘ç‡ï¼šç»å¸¸ä½¿ç”¨ 04 çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸï¼šè‡ªåŠ¨ç®¡ç† 2.pthreadï¼ˆ1ï¼‰pthreadçš„åŸºæœ¬ä½¿ç”¨ï¼ˆéœ€è¦åŒ…å«å¤´æ–‡ä»¶ï¼‰ //ä½¿ç”¨pthreadåˆ›å»ºçº¿ç¨‹pthread_t thread; NSString *name = @&quot;wendingding&quot;; //ä½¿ç”¨pthreadåˆ›å»ºçº¿ç¨‹ //ç¬¬ä¸€ä¸ªå‚æ•°ï¼šçº¿ç¨‹å¯¹è±¡åœ°å€ //ç¬¬äºŒä¸ªå‚æ•°ï¼šçº¿ç¨‹å±æ€§ //ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šæŒ‡å‘å‡½æ•°çš„æ‰§è¡Œ //ç¬¬å››ä¸ªå‚æ•°ï¼šä¼ é€’ç»™è¯¥å‡½æ•°çš„å‚æ•° pthread_create(&amp;thread, NULL, run, (__bridge void *)(name)); 3.NSThreadï¼ˆ1ï¼‰NSThreadçš„åŸºæœ¬ä½¿ç”¨ //ç¬¬ä¸€ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼ï¼šalloc init.//ç‰¹ç‚¹ï¼šéœ€è¦æ‰‹åŠ¨å¼€å¯çº¿ç¨‹ï¼Œå¯ä»¥æ‹¿åˆ°çº¿ç¨‹å¯¹è±¡è¿›è¡Œè¯¦ç»†è®¾ç½® //åˆ›å»ºçº¿ç¨‹ /* ç¬¬ä¸€ä¸ªå‚æ•°ï¼šç›®æ ‡å¯¹è±¡ ç¬¬äºŒä¸ªå‚æ•°ï¼šé€‰æ‹©å™¨ï¼Œçº¿ç¨‹å¯åŠ¨è¦è°ƒç”¨å“ªä¸ªæ–¹æ³• ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šå‰é¢æ–¹æ³•è¦æ¥æ”¶çš„å‚æ•°ï¼ˆæœ€å¤šåªèƒ½æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œæ²¡æœ‰åˆ™ä¼ nilï¼‰ */ NSThread *thread = [[NSThread alloc]initWithTarget:self selector:@selector(run:) object:@&quot;wendingding&quot;]; //å¯åŠ¨çº¿ç¨‹ [thread start];//ç¬¬äºŒç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼ï¼šåˆ†ç¦»å‡ºä¸€æ¡å­çº¿ç¨‹//ç‰¹ç‚¹ï¼šè‡ªåŠ¨å¯åŠ¨çº¿ç¨‹ï¼Œæ— æ³•å¯¹çº¿ç¨‹è¿›è¡Œæ›´è¯¦ç»†çš„è®¾ç½® /* ç¬¬ä¸€ä¸ªå‚æ•°ï¼šçº¿ç¨‹å¯åŠ¨è°ƒç”¨çš„æ–¹æ³• ç¬¬äºŒä¸ªå‚æ•°ï¼šç›®æ ‡å¯¹è±¡ ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šä¼ é€’ç»™è°ƒç”¨æ–¹æ³•çš„å‚æ•° */ [NSThread detachNewThreadSelector:@selector(run:) toTarget:self withObject:@&quot;æˆ‘æ˜¯åˆ†ç¦»å‡ºæ¥çš„å­çº¿ç¨‹&quot;];//ç¬¬ä¸‰ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼ï¼šåå°çº¿ç¨‹//ç‰¹ç‚¹ï¼šè‡ªåŠ¨å¯åŠ¨å¿åŸï¼Œæ— æ³•è¿›è¡Œæ›´è¯¦ç»†è®¾ç½®[self performSelectorInBackground:@selector(run:) withObject:@&quot;æˆ‘æ˜¯åå°çº¿ç¨‹&quot;]; ï¼ˆ2ï¼‰è®¾ç½®çº¿ç¨‹çš„å±æ€§ //è®¾ç½®çº¿ç¨‹çš„å±æ€§ //è®¾ç½®çº¿ç¨‹çš„åç§° thread.name = @&quot;çº¿ç¨‹A&quot;; //è®¾ç½®çº¿ç¨‹çš„ä¼˜å…ˆçº§,æ³¨æ„çº¿ç¨‹ä¼˜å…ˆçº§çš„å–å€¼èŒƒå›´ä¸º0.0~1.0ä¹‹é—´ï¼Œ1.0è¡¨ç¤ºçº¿ç¨‹çš„ä¼˜å…ˆçº§æœ€é«˜,å¦‚æœä¸è®¾ç½®è¯¥å€¼ï¼Œé‚£ä¹ˆç†æƒ³çŠ¶æ€ä¸‹é»˜è®¤ä¸º0.5 thread.threadPriority = 1.0; ï¼ˆ3ï¼‰çº¿ç¨‹çš„çŠ¶æ€ï¼ˆäº†è§£ï¼‰ //çº¿ç¨‹çš„å„ç§çŠ¶æ€ï¼šæ–°å»º-å°±ç»ª-è¿è¡Œ-é˜»å¡-æ­»äº¡//å¸¸ç”¨çš„æ§åˆ¶çº¿ç¨‹çŠ¶æ€çš„æ–¹æ³•[NSThread exit];//é€€å‡ºå½“å‰çº¿ç¨‹[NSThread sleepForTimeInterval:2.0];//é˜»å¡çº¿ç¨‹[NSThread sleepUntilDate:[NSDate dateWithTimeIntervalSinceNow:2.0]];//é˜»å¡çº¿ç¨‹//æ³¨æ„ï¼šçº¿ç¨‹æ­»äº†ä¸èƒ½å¤ç”Ÿ ï¼ˆ4ï¼‰çº¿ç¨‹å®‰å…¨ 01 å‰æï¼šå¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€å—èµ„æºä¼šå‘ç”Ÿæ•°æ®å®‰å…¨é—®é¢˜ 02 è§£å†³æ–¹æ¡ˆï¼šåŠ äº’æ–¥é” 03 ç›¸å…³ä»£ç ï¼š@synchronized(self)&#123;&#125; 04 ä¸“ä¸šæœ¯è¯­-çº¿ç¨‹åŒæ­¥ 05 åŸå­å’ŒéåŸå­å±æ€§ï¼ˆæ˜¯å¦å¯¹setteræ–¹æ³•åŠ é”ï¼‰ï¼ˆ5ï¼‰çº¿ç¨‹é—´é€šä¿¡ -(void)touchesBegan:(nonnull NSSet&lt;UITouch *&gt; *)touches withEvent:(nullable UIEvent *)event&#123;// [self download2]; //å¼€å¯ä¸€æ¡å­çº¿ç¨‹æ¥ä¸‹è½½å›¾ç‰‡ [NSThread detachNewThreadSelector:@selector(downloadImage) toTarget:self withObject:nil];&#125;-(void)downloadImage&#123; //1.ç¡®å®šè¦ä¸‹è½½ç½‘ç»œå›¾ç‰‡çš„urlåœ°å€ï¼Œä¸€ä¸ªurlå”¯ä¸€å¯¹åº”ç€ç½‘ç»œä¸Šçš„ä¸€ä¸ªèµ„æº NSURL *url = [NSURL URLWithString:@&quot;http://p6.qhimg.com/t01d2954e2799c461ab.jpg&quot;]; //2.æ ¹æ®urlåœ°å€ä¸‹è½½å›¾ç‰‡æ•°æ®åˆ°æœ¬åœ°ï¼ˆäºŒè¿›åˆ¶æ•°æ® NSData *data = [NSData dataWithContentsOfURL:url]; //3.æŠŠä¸‹è½½åˆ°æœ¬åœ°çš„äºŒè¿›åˆ¶æ•°æ®è½¬æ¢æˆå›¾ç‰‡ UIImage *image = [UIImage imageWithData:data]; //4.å›åˆ°ä¸»çº¿ç¨‹åˆ·æ–°UI //4.1 ç¬¬ä¸€ç§æ–¹å¼// [self performSelectorOnMainThread:@selector(showImage:) withObject:image waitUntilDone:YES]; //4.2 ç¬¬äºŒç§æ–¹å¼// [self.imageView performSelectorOnMainThread:@selector(setImage:) withObject:image waitUntilDone:YES]; //4.3 ç¬¬ä¸‰ç§æ–¹å¼ [self.imageView performSelector:@selector(setImage:) onThread:[NSThread mainThread] withObject:image waitUntilDone:YES];&#125; ï¼ˆ6ï¼‰å¦‚ä½•è®¡ç®—ä»£ç æ®µçš„æ‰§è¡Œæ—¶é—´ //ç¬¬ä¸€ç§æ–¹æ³• NSDate *start = [NSDate date]; //2.æ ¹æ®urlåœ°å€ä¸‹è½½å›¾ç‰‡æ•°æ®åˆ°æœ¬åœ°ï¼ˆäºŒè¿›åˆ¶æ•°æ®ï¼‰ NSData *data = [NSData dataWithContentsOfURL:url]; NSDate *end = [NSDate date]; NSLog(@&quot;ç¬¬äºŒæ­¥æ“ä½œèŠ±è´¹çš„æ—¶é—´ä¸º%f&quot;,[end timeIntervalSinceDate:start]);//ç¬¬äºŒç§æ–¹æ³• CFTimeInterval start = CFAbsoluteTimeGetCurrent(); NSData *data = [NSData dataWithContentsOfURL:url]; CFTimeInterval end = CFAbsoluteTimeGetCurrent(); NSLog(@&quot;ç¬¬äºŒæ­¥æ“ä½œèŠ±è´¹çš„æ—¶é—´ä¸º%f&quot;,end - start); ###4.GCD ï¼ˆ1ï¼‰GCDåŸºæœ¬çŸ¥è¯† 01 ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µ-é˜Ÿåˆ—å’Œä»»åŠ¡ 02 åŒæ­¥å‡½æ•°å’Œå¼‚æ­¥å‡½æ•°ï¼ˆ2ï¼‰GCDåŸºæœ¬ä½¿ç”¨ã€é‡ç‚¹ã€‘ 01 å¼‚æ­¥å‡½æ•°+å¹¶å‘é˜Ÿåˆ—ï¼šå¼€å¯å¤šæ¡çº¿ç¨‹ï¼Œå¹¶å‘æ‰§è¡Œä»»åŠ¡ 02 å¼‚æ­¥å‡½æ•°+ä¸²è¡Œé˜Ÿåˆ—ï¼šå¼€å¯ä¸€æ¡çº¿ç¨‹ï¼Œä¸²è¡Œæ‰§è¡Œä»»åŠ¡ 03 åŒæ­¥å‡½æ•°+å¹¶å‘é˜Ÿåˆ—ï¼šä¸å¼€çº¿ç¨‹ï¼Œä¸²è¡Œæ‰§è¡Œä»»åŠ¡ 04 åŒæ­¥å‡½æ•°+ä¸²è¡Œé˜Ÿåˆ—ï¼šä¸å¼€çº¿ç¨‹ï¼Œä¸²è¡Œæ‰§è¡Œä»»åŠ¡ 05 å¼‚æ­¥å‡½æ•°+ä¸»é˜Ÿåˆ—ï¼šä¸å¼€çº¿ç¨‹ï¼Œåœ¨ä¸»çº¿ç¨‹ä¸­ä¸²è¡Œæ‰§è¡Œä»»åŠ¡ 06 åŒæ­¥å‡½æ•°+ä¸»é˜Ÿåˆ—ï¼šä¸å¼€çº¿ç¨‹ï¼Œä¸²è¡Œæ‰§è¡Œä»»åŠ¡ï¼ˆæ³¨æ„æ­»é”å‘ç”Ÿï¼‰ 07 æ³¨æ„åŒæ­¥å‡½æ•°å’Œå¼‚æ­¥å‡½æ•°åœ¨æ‰§è¡Œé¡ºåºä¸Šé¢çš„å·®å¼‚ï¼ˆ3ï¼‰GCDçº¿ç¨‹é—´é€šä¿¡ //0.è·å–ä¸€ä¸ªå…¨å±€çš„é˜Ÿåˆ— dispatch_queue_t queue = dispatch_get_global_queue(0, 0); //1.å…ˆå¼€å¯ä¸€ä¸ªçº¿ç¨‹ï¼ŒæŠŠä¸‹è½½å›¾ç‰‡çš„æ“ä½œæ”¾åœ¨å­çº¿ç¨‹ä¸­å¤„ç† dispatch_async(queue, ^&#123; //2.ä¸‹è½½å›¾ç‰‡ NSURL *url = [NSURL URLWithString:@&quot;http://h.hiphotos.baidu.com/zhidao/pic/item/6a63f6246b600c3320b14bb3184c510fd8f9a185.jpg&quot;]; NSData *data = [NSData dataWithContentsOfURL:url]; UIImage *image = [UIImage imageWithData:data]; NSLog(@&quot;ä¸‹è½½æ“ä½œæ‰€åœ¨çš„çº¿ç¨‹--%@&quot;,[NSThread currentThread]); //3.å›åˆ°ä¸»çº¿ç¨‹åˆ·æ–°UI dispatch_async(dispatch_get_main_queue(), ^&#123; self.imageView.image = image; //æ‰“å°æŸ¥çœ‹å½“å‰çº¿ç¨‹ NSLog(@&quot;åˆ·æ–°UI---%@&quot;,[NSThread currentThread]); &#125;); &#125;); ï¼ˆ4ï¼‰GCDå…¶å®ƒå¸¸ç”¨å‡½æ•° 01 æ …æ å‡½æ•°ï¼ˆæ§åˆ¶ä»»åŠ¡çš„æ‰§è¡Œé¡ºåºï¼‰ dispatch_barrier_async(queue, ^&#123; NSLog(@&quot;--dispatch_barrier_async-&quot;); &#125;); 02 å»¶è¿Ÿæ‰§è¡Œï¼ˆå»¶è¿ŸÂ·æ§åˆ¶åœ¨å“ªä¸ªçº¿ç¨‹æ‰§è¡Œï¼‰ dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(2.0 * NSEC_PER_SEC)), dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^&#123; NSLog(@&quot;---%@&quot;,[NSThread currentThread]); &#125;); 03 ä¸€æ¬¡æ€§ä»£ç ï¼ˆæ³¨æ„ä¸èƒ½æ”¾åˆ°æ‡’åŠ è½½ï¼‰ -(void)once &#123; //æ•´ä¸ªç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åªä¼šæ‰§è¡Œä¸€æ¬¡ //onceTokenç”¨æ¥è®°å½•è¯¥éƒ¨åˆ†çš„ä»£ç æ˜¯å¦è¢«æ‰§è¡Œè¿‡ static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^&#123; NSLog(@&quot;-----&quot;); &#125;); &#125; 04 å¿«é€Ÿè¿­ä»£ï¼ˆå¼€å¤šä¸ªçº¿ç¨‹å¹¶å‘å®Œæˆè¿­ä»£æ“ä½œï¼‰ dispatch_apply(subpaths.count, queue, ^(size_t index) &#123; &#125;); 05 é˜Ÿåˆ—ç»„ï¼ˆåŒæ …æ å‡½æ•°ï¼‰ //åˆ›å»ºé˜Ÿåˆ—ç»„ dispatch_group_t group = dispatch_group_create(); //é˜Ÿåˆ—ç»„ä¸­çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œæ‰§è¡Œè¯¥å‡½æ•° dispatch_group_notify(dispatch_group_t group,dispatch_queue_t queue,dispatch_block_t block); å­¦ä¹ å°é©¬å“¥Â·æ–‡é¡¶é¡¶ï¼‰","categories":[{"name":"iOS","slug":"iOS","permalink":"http://fangliquan.github.io/categories/iOS/"}],"tags":[{"name":"iOSå¤šçº¿ç¨‹","slug":"iOSå¤šçº¿ç¨‹","permalink":"http://fangliquan.github.io/tags/iOS%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"NSThread","slug":"NSThread","permalink":"http://fangliquan.github.io/tags/NSThread/"},{"name":"GCD","slug":"GCD","permalink":"http://fangliquan.github.io/tags/GCD/"}]},{"title":"iOS è½»é‡çº§æ’­æ”¾å™¨","slug":"wawa-mediaplayer","date":"2016-07-24T15:30:11.000Z","updated":"2017-03-20T10:28:58.000Z","comments":true,"path":"2016-07-24/wawa-mediaplayer/","link":"","permalink":"http://fangliquan.github.io/2016-07-24/wawa-mediaplayer/","excerpt":"å…¬å¸é¡¹ç›® å¨ƒå¨ƒ ä¸­æ’­æ”¾å°è§†é¢‘çš„æ’­æ”¾å™¨æ§ä»¶æŠ½å–å‡ºæ¥ï¼Œåˆ†äº«ä¸€ä¸‹ã€‚WaWaVideoPlayeræ˜¯ä¸€æ¬¾è½»é‡çº§è§†é¢‘æ’­æ”¾å™¨ç»„ä»¶,åˆ©ç”¨åŸç”ŸMPMoviePlayerControllerå‚è€ƒkr-video-playerç¼–å†™çš„ä¸€æ¬¾è§†é¢‘æ§ä»¶ã€‚è§£å†³é¡¹ç›®ä¸­å¾®è§†é¢‘æ’­æ”¾é—®é¢˜ã€‚","text":"å…¬å¸é¡¹ç›® å¨ƒå¨ƒ ä¸­æ’­æ”¾å°è§†é¢‘çš„æ’­æ”¾å™¨æ§ä»¶æŠ½å–å‡ºæ¥ï¼Œåˆ†äº«ä¸€ä¸‹ã€‚WaWaVideoPlayeræ˜¯ä¸€æ¬¾è½»é‡çº§è§†é¢‘æ’­æ”¾å™¨ç»„ä»¶,åˆ©ç”¨åŸç”ŸMPMoviePlayerControllerå‚è€ƒkr-video-playerç¼–å†™çš„ä¸€æ¬¾è§†é¢‘æ§ä»¶ã€‚è§£å†³é¡¹ç›®ä¸­å¾®è§†é¢‘æ’­æ”¾é—®é¢˜ã€‚ WaWaVideoPlayerä½¿ç”¨è¯´æ˜ä½¿ç”¨æ–¹æ³•// è§†é¢‘æ’­æ”¾WawaVideoPlayViewController *vc= [[WawaVideoPlayViewController alloc] init];vc.videoURL =[NSURL URLWithString:@&quot;http://2527.vod.myqcloud.com/2527_117134a2343111e5b8f5bdca6cb9f38c.f20.mp4&quot;];vc.content = @&quot;http://2527.vod.myqcloud.com/2527_117134a2343111e5b8f5bdca6cb9f38c.f20.mp4&quot;;UINavigationController *rootVedioVc = [[UINavigationController alloc]initWithRootViewController:vc];rootVedioVc.navigationBarHidden = YES;[self presentViewController:rootVedioVc animated:NO completion:nil]; ä¸‹è½½è§†é¢‘æ ¸å¿ƒæ–¹æ³• æ’­æ”¾å™¨ä½¿ç”¨ AFNetworking è¿›è¡Œè§†é¢‘æ–‡ä»¶çš„ä¸‹è½½ï¼Œç”¨MBProgressHDå®ç°äº†ä¸‹è½½è¿›åº¦ -(void)downloadVideo :(NSURL *)video andMsgContent:(NSString *)content isOnlyDown:(BOOL )isOnlyDown&#123; NSString *videoPath = [self getVideoSaveFolderPathString];//æ–‡ä»¶å NSString *file = [videoPath stringByAppendingPathComponent:[content stringByReplacingOccurrencesOfString:@&quot;/&quot; withString:@&quot;_&quot;]]; if (![file hasSuffix:@&quot;.mp4&quot;]) &#123; file = [file stringByAppendingString:@&quot;.mp4&quot;]; &#125; self.currentVideoFile = file; NSFileManager *fileManager = [NSFileManager defaultManager]; if(![fileManager fileExistsAtPath:file]) &#123; [self createVideoFolderIfNotExist];//åˆ›å»ºæ–‡ä»¶file //åˆå§‹åŒ–è¿›åº¦æ¡ MBProgressHUD *HUD = [MBProgressHUD showMessag:nil toView:self.view]; HUD.tag = 1000; HUD.mode = MBProgressHUDModeAnnularDeterminate; HUD.labelFont = [UIFont systemFontOfSize:12]; HUD.detailsLabelText = @&quot;æ­£åœ¨ä¸‹è½½...&quot;; HUD.detailsLabelFont = [UIFont systemFontOfSize:14]; HUD.square = YES; //åˆå§‹åŒ–é˜Ÿåˆ— NSOperationQueue *queue = [[NSOperationQueue alloc ]init]; __weak typeof(self)weakSelf = self; //ä¿å­˜è·¯å¾„ AFHTTPRequestOperation *op = [[AFHTTPRequestOperation alloc]initWithRequest:[NSURLRequest requestWithURL:video]]; op.outputStream = [NSOutputStream outputStreamToFileAtPath:file append:NO]; // æ ¹æ®ä¸‹è½½é‡è®¾ç½®è¿›åº¦æ¡çš„ç™¾åˆ†æ¯” [op setDownloadProgressBlock:^(NSUInteger bytesRead, long long totalBytesRead, long long totalBytesExpectedToRead) &#123; CGFloat precent = (CGFloat)totalBytesRead / totalBytesExpectedToRead; HUD.progress = precent; HUD.labelText = [NSString stringWithFormat:@&quot;%0.0f%%&quot;,precent*100]; &#125;]; [op setCompletionBlockWithSuccess:^(AFHTTPRequestOperation *operation, id responseObject) &#123; //NSLog(@&quot;ä¸‹è½½æˆåŠŸ&quot;); [responseObject writeToFile:file atomically:YES]; if (!isOnlyDown) &#123; [weakSelf playVideoWithURL:[NSURL fileURLWithPath:file]]; &#125;else&#123; if (weakSelf.currentVideoFile &amp;&amp; weakSelf.currentVideoFile.length &gt;0) &#123; [weakSelf.videoController reloadLocalVideo:[NSURL fileURLWithPath:weakSelf.currentVideoFile]]; &#125; &#125; [HUD removeFromSuperview]; &#125; failure:^(AFHTTPRequestOperation *operation, NSError *error) &#123; //NSLog(@&quot;ä¸‹è½½å¤±è´¥&quot;); HUD.labelText = [NSString stringWithFormat:@&quot;ä¸‹è½½å¤±è´¥&quot;]; [HUD removeFromSuperview]; if (!isOnlyDown) &#123; [weakSelf dismissViewControllerAnimated:NO completion:nil]; &#125; &#125;]; //å¼€å§‹ä¸‹è½½ [queue addOperation:op]; &#125;else&#123; if (!isOnlyDown) &#123; [self playVideoWithURL:[NSURL fileURLWithPath:file]]; &#125;else&#123; [self.videoController reloadLocalVideo:[NSURL fileURLWithPath:self.currentVideoFile]]; &#125; &#125;&#125; æ›´å¤šå…·ä½“å®ç°è¯·ä¸‹è½½å·¥ç¨‹å®ä¾‹æºç ä¸‹è½½","categories":[{"name":"iOS Project Practice","slug":"iOS-Project-Practice","permalink":"http://fangliquan.github.io/categories/iOS-Project-Practice/"}],"tags":[{"name":"iOSè§†é¢‘æ’­æ”¾å™¨","slug":"iOSè§†é¢‘æ’­æ”¾å™¨","permalink":"http://fangliquan.github.io/tags/iOS%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8/"}]},{"title":"ä½¿ç”¨Hexoå’Œgithub pagesæ­å»ºåšå®¢","slug":"ä½¿ç”¨Hexo-å’Œgithub-pages-æ­å»ºåšå®¢","date":"2016-07-24T11:50:26.000Z","updated":"2016-07-24T14:30:26.000Z","comments":true,"path":"2016-07-24/ä½¿ç”¨Hexo-å’Œgithub-pages-æ­å»ºåšå®¢/","link":"","permalink":"http://fangliquan.github.io/2016-07-24/%E4%BD%BF%E7%94%A8Hexo-%E5%92%8Cgithub-pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/","excerpt":"1. ç®€ä»‹hexoæ˜¯ä¸€ä¸ªåŸºäºnode.jsçš„é™æ€åšå®¢ç¨‹åºï¼Œå¯ä»¥æ–¹ä¾¿çš„ç”Ÿæˆé™æ€ç½‘é¡µï¼ˆçº¯htmlï¼‰æ”¯æŒå¤šä¸ªå¹³å°ï¼ˆWindows/MAC/Linuxï¼‰ï¼Œé£æ ¼ä¼˜é›…ï¼Œæ›´é€‚åˆå†™æŠ€æœ¯åšå®¢ï¼Œä¸hexoç±»ä¼¼çš„åšå®¢ç¨‹åºè¿˜æœ‰jekyllï¼Œjekyllè¢«githubç€åŠ›æ¨èå®˜æ–¹å°±æä¾›äº†jekyllæ•™ç¨‹ï¼Œä½†æ˜¯jekyllæ˜¯åŸºäºrubyå†™çš„ï¼Œå¹¶ä¸”å…³äºä»£ç é«˜äº®æ²¡æ‰¾åˆ°æ¯”è¾ƒå¥½çš„æ–¹æ¡ˆï¼Œå°±é€‰æ‹©äº†ç”¨hexo","text":"1. ç®€ä»‹hexoæ˜¯ä¸€ä¸ªåŸºäºnode.jsçš„é™æ€åšå®¢ç¨‹åºï¼Œå¯ä»¥æ–¹ä¾¿çš„ç”Ÿæˆé™æ€ç½‘é¡µï¼ˆçº¯htmlï¼‰æ”¯æŒå¤šä¸ªå¹³å°ï¼ˆWindows/MAC/Linuxï¼‰ï¼Œé£æ ¼ä¼˜é›…ï¼Œæ›´é€‚åˆå†™æŠ€æœ¯åšå®¢ï¼Œä¸hexoç±»ä¼¼çš„åšå®¢ç¨‹åºè¿˜æœ‰jekyllï¼Œjekyllè¢«githubç€åŠ›æ¨èå®˜æ–¹å°±æä¾›äº†jekyllæ•™ç¨‹ï¼Œä½†æ˜¯jekyllæ˜¯åŸºäºrubyå†™çš„ï¼Œå¹¶ä¸”å…³äºä»£ç é«˜äº®æ²¡æ‰¾åˆ°æ¯”è¾ƒå¥½çš„æ–¹æ¡ˆï¼Œå°±é€‰æ‹©äº†ç”¨hexo 2. é…ç½®ç¯å¢ƒ2.1 å®‰è£…gitä½œè€…ç”¨çš„æ˜¯macï¼Œå¯ä»¥ä½¿ç”¨brewä¸‹é¢å‘½ä»¤å®‰è£… $ brew install git ä¹Ÿå¯ä»¥ç›´æ¥ä¸Šgitå®˜ç½‘ä¸‹è½½å®‰è£… 2.2 å®‰è£…node.jsåŒæ ·çš„ï¼Œmacå¯ä»¥ä½¿ç”¨brewå®‰è£…ï¼Œæ–°ç‰ˆçš„node.jså·²ç»åŒ…å«npmå·¥å…·ï¼Œä¸éœ€è¦å†å¦å¤–å®‰è£…äº† $ brew install node å¯ä»¥é€šè¿‡ä¸‹é¢å‘½ä»¤æ£€æŸ¥æ˜¯å¦å·²å®‰è£… $ node -v$ npm -v å¦‚æœæ˜¯windowsç”¨æˆ·å¯ä»¥é€šè¿‡å®˜ç½‘ä¸‹è½½ jode.js 2.3 Hexoå®‰è£…ä¸Šé¢çš„å®‰è£…å®Œæˆåï¼Œæ¥ä¸‹æ¥å®‰è£…hexo npm install hexo-cli -g #-gè¡¨ç¤ºå…¨å±€å®‰è£…, npmé»˜è®¤ä¸ºå½“å‰é¡¹ç›®å®‰è£…hexo init blog #åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºblogç›®å½•åˆå§‹åŒ–åšå®¢cd blog #è¿›å…¥blogç›®å½•#npm install hexo generate #æ ¹æ®å½“å‰é…ç½®ç”Ÿæˆé™æ€é¡µé¢hexo server #å¯åŠ¨æœ¬åœ°æœåŠ¡ï¼Œé»˜è®¤ä¸ºï¼š[http://localhost:4000/](http://localhost:4000/) æ¥ä¸‹æ¥å°±å¯ä»¥é€šè¿‡http://localhost:4000/æŸ¥çœ‹æ•ˆæœäº† 3. é…ç½®github pagesæ¯ä¸ªgithubè´¦æˆ·éƒ½å¯ä»¥æœ‰ä¸€ä¸ªå¤–éƒ¨ç©ºé—´/Responsitoryï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç”¨æˆ·å.github.ioè®¿é—®åˆ°è¯¥ä»“åº“çš„å†…å®¹ åœ¨githubä¸Šæ–°å¢ä¸€ä¸ªresponsitoryï¼Œä»“åº“åä¸º ç”¨æˆ·å.github.io æˆ– ç”¨æˆ·å.github.com åˆ›å»ºå®Œæˆåï¼Œgithubä¼šè‡ªåŠ¨å°† ç”¨æˆ·å.github.ioæŒ‡å‘è¯¥ä»“åº“ï¼Œé»˜è®¤è®¿é—®æ ¹ç›®å½•ä¸‹çš„index.htmlé¡µé¢ å¯ä»¥è¿›å…¥Responsitoryçš„Settingé¡µæŸ¥çœ‹ githubä¼šæä¾›å‡ ä¸ªæ¨¡æ¿æ­å»ºç«™ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨ä»–æä¾›çš„æ¨¡æ¿ï¼Œå¯ä»¥åœ¨ä»“åº“é‡Œé¢ï¼Œæ·»åŠ ä¸€ä¸ªç®€å•çš„index.htmlæ–‡ä»¶ï¼Œå¦‚æœèƒ½é€šè¿‡ç”¨æˆ·å.github.comè®¿é—®ï¼Œåˆ™è¡¨æ˜åˆ›å»ºæˆåŠŸäº† 4. å†™åšå®¢hexoçš„æ–‡ç« å­˜æ”¾åœ¨sourceç›®å½•ä¸‹ â”œâ”€â”€ source | â”œâ”€â”€ _posts #å­˜æ”¾æ–‡ç«  | â””â”€â”€ _drafts #å­˜æ”¾è‰ç¨¿ $ hexo new post &quot;postName&quot; # åœ¨source/_posts ç›®å½•ä¸‹åˆ›å»ºpostName.mdæ–‡ä»¶ åˆ›å»ºæ–‡ä»¶çš„å‘½åæ ¼å¼å¯ä»¥åœ¨_config.ymlæ–‡ä»¶é…ç½® # Writingnew_post_name: :year-:month-:day-:title.md æ–‡ä»¶åˆ›å»ºå®Œæˆåä¼šè‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹æ ¼å¼ï¼ˆå¯ä»¥è‡ªå·±æ·»åŠ ï¼‰ ---title: ä½¿ç”¨Hexoå’Œgithub pagesæ­å»ºåšå®¢date: 2016-04-18 19:50:26categories: blog # åˆ†ç±»tags: [blogs, hexo] # æ ‡ç­¾ï¼Œæ ¼å¼ï¼š[æ ‡ç­¾, æ ‡ç­¾2]--- å…³ä¸å†™ä½œçš„å„ç§å‚æ•°å¯ä»¥å‚è§ï¼šhttps://hexo.io/docs/writing.html å†™å®Œåé¢„è§ˆçš„æ—¶å€™å‘ç°ï¼Œæ–‡ç« åœ¨é¦–é¡µå°±å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œå¦‚æœä¸æƒ³å…¨éƒ¨æ˜¾ç¤ºï¼Œå¯ä»¥åœ¨æ–‡ç« ä¸­é—´æ·»åŠ ä¸‹é¢æ ‡è®°ï¼Œåœ¨é¦–é¡µåˆ—è¡¨å°±ä¼šå‡ºç°Read Moreçš„æ ‡è®° &lt;!--more--&gt; Hexoæ”¯æŒä½¿ç”¨Markdownè¯­æ³•å†™æ–‡ç« ï¼Œæˆ‘æ¯”è¾ƒä¹ æƒ¯ç”¨Atomå†™Markdownï¼ŒAtomæœ‰ä¸ªhexoæ’ä»¶ 5. ä¸»é¢˜å®˜æ–¹è‡ªå¸¦ä¸»é¢˜åŸºæœ¬å¤Ÿç”¨ï¼Œæœ‰èƒ½åŠ›å¯ä»¥è‡ªå·±æ”¹é€ ï¼Œå½“ç„¶ï¼Œç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šäººåšäº†ä¸€äº›å¾ˆå¥½çœ‹çš„ä¸»é¢˜äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ï¼Œä¸‹é¢æ˜¯å®˜æ–¹åˆ—å‡ºçš„ä¸€äº›ä¸»é¢˜ï¼Œæ‰¾åˆ°å–œæ¬¢çš„å¯ä»¥ç›´æ¥ç”¨ https://github.com/hexojs/hexo/wiki/Themeshttps://hexo.io/themes åœ¨hexoä¸Šï¼Œä¸»é¢˜æ”¾åœ¨themesç›®å½•ä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠåˆ«äººåšå¥½çš„ä¸»é¢˜cloneä¸‹æ¥å°±å¥½äº†ï¼Œç„¶ååœ¨_config.ymlä¿®æ”¹ä¸€ä¸‹é…ç½®ä¾‹å¦‚ï¼šæˆ‘ä»¬å¯ä»¥https://github.com/xiangming/landscape-plusè¿™ä¸ªä¸»é¢˜cloneä¸‹æ¥ git clone git@github.com:xiangming&#x2F;landscape-plus.git themes&#x2F;landscape-plus ä¿®æ”¹è®¾ç½®_config.yml theme: landscape-plus 6. æ·»åŠ å¤šè¯´è¯„è®ºæ’ä»¶åˆ°å¤šè¯´å®˜ç½‘æ³¨å†Œå’Œåˆ›å»ºä¸€ä¸ªç«™ç‚¹ ä¿®æ”¹é…ç½®åˆ°themes/landscape-plus/_config.ymlæ·»åŠ å¤šè¯´çš„é…ç½®ï¼Œshortnameå³æ³¨å†Œçš„ç«™ç‚¹åç§° # Duoshuoduoshuo_shortname: bomo å‚è§å®˜æ–¹è¯´æ˜ï¼Œæ›¿æ¢è¯„è®ºç›¸å…³çš„ä»£ç http://dev.duoshuo.com/threads/541d3b2b40b5abcd2e4df0e9 å®Œæˆï¼Œå¦‚ä¸‹å›¾è¯„è®ºæœ‰äº† 7. éƒ¨ç½²åˆ°githubä¸Šä¿®æ”¹é…ç½®_config.yml deploy: type: git repository: https://github.com/zhengbomo/zhengbomo.github.io.git branch: master å®‰è£… hexo-deployer-git $ npm install hexo-deployer-git --save éƒ¨ç½²hexoåˆ°gitä¸Š $ hexo deploy éƒ¨ç½²è¿‡ç¨‹éœ€è¦è¾“å…¥è´¦å·å¯†ç ï¼Œç„¶åä¼špushåˆ°githubä¸Šï¼Œå‚è€ƒï¼šhttps://hexo.io/docs/deployment.html hexoéƒ¨ç½²æ—¶ä¼šæŠŠæœ€ç»ˆç”Ÿæˆçš„åšå®¢æ–‡ä»¶ï¼ˆpublicç›®å½•ä¸‹çš„æ–‡ä»¶ï¼‰pushåˆ°gitè¿œç¨‹ä»“åº“ï¼Œè€Œåšå®¢ç¨‹åºè¿˜æ˜¯åœ¨æœ¬åœ°ï¼Œå½“æˆ‘ä»¬åˆ‡æ¢ç”µè„‘çš„æ—¶å€™ï¼Œæ— æ³•å¯¹åšå®¢è¿›è¡Œé‡æ–°ç¼–è¾‘å’Œå‘å¸ƒï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥åœ¨gitæ·»åŠ ä¸€ä¸ªåˆ†æ”¯hexoç”¨æ¥å­˜æ”¾åšå®¢ç¨‹åºå’Œç¼–å†™çš„å†…å®¹ï¼Œè¯¦æƒ…å¯ä»¥å‚è§ï¼š gitåˆ›å»ºåˆ†æ”¯hexoå­˜æ”¾åšå®¢ç¨‹åº 8. åŸŸåç»‘å®š é€šå¸¸åŸŸååœ¨godaddyæ³¨å†Œæ¯”è¾ƒé è°±ï¼Œè¿™ä¸ªæ˜¯æœ€å¤§çš„åŸŸåæä¾›å•†ï¼Œè€Œä¸”ä¸éœ€è¦å¤‡æ¡ˆï¼Œæ”¯æŒæ”¯ä»˜å®ä»˜æ¬¾ï¼Œè´­ä¹°çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ä¼˜æƒ ç ä¼šä¾¿å®œä¸€äº›ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šä¼˜æƒ ç ï¼Œå¯ä»¥è‡ªè¡Œæœç´¢ï¼Œè´­ä¹°è¿‡ç¨‹å¾ˆç®€å•ï¼Œè¿™é‡Œå°±ä¸è´´äº† æ³¨å†Œå’Œé…ç½®DNSæœåŠ¡å™¨Godaddyè‡ªå¸¦çš„åŸŸåè§£ææœåŠ¡å™¨æ¯”è¾ƒæ…¢ï¼Œåœ¨å›½å†…æ¨èä½¿ç”¨DNSpodï¼šå¿«ï¼Œå…è´¹ï¼Œç¨³å®šã€‚ åˆ°DNSpodæ³¨å†Œç™»é™†ï¼Œç„¶ååˆ°ç”¨æˆ·ä¸­å¿ƒï¼Œæ·»åŠ åŸŸåï¼Œä¾‹å¦‚æˆ‘çš„åŸŸåä¸ºbomobox.org è¿›å…¥è®¾ç½®æ·»åŠ ä¸¤ä¸ªAè®°å½•æŒ‡å‘githubæä¾›çš„ipï¼Œå‚è§è¿™é‡Œ 192.30.252.153192.30.252.154 æ·»åŠ ä¸€ä¸ªCNAMEè®°å½•æŒ‡å‘è‡ªå·±çš„githubåŸŸåï¼šusername.github.ioæŠŠå…¶ä»–çš„åˆ é™¤ æ³¨å†ŒåŸŸåå’Œé…ç½®DNS åˆ°Godaddyè´­ä¹°åŸŸåå®Œæˆåå®Œæˆåè¿›å…¥MyAccount è¿›å…¥DNS Managerä¿®æ”¹DNSæœåŠ¡å™¨ f1g1ns1.dnspod.netf1g1ns2.dnspod.net åˆ°githubä»“åº“çš„æ ¹ç›®å½•æ·»åŠ CNAMEæ–‡ä»¶ï¼Œæ–‡ä»¶å†…æ·»åŠ è‡ªå·±çš„åŸŸåï¼Œå¦åˆ™ä¼šå‡ºç°404è®¿é—®é”™è¯¯ï¼Œä¹Ÿå¯ä»¥åœ¨hexoçš„sourceç›®å½•ä¸‹æ·»åŠ ï¼Œç„¶åä¸ç†Ÿåˆ°github ä¸Šé¢æ­¥éª¤è®¾ç½®å®Œæˆåå¯èƒ½ä¼šæœ‰å‡ ä¸ªå°æ—¶çš„å»¶è¿Ÿï¼Œæ‰èƒ½ç”Ÿæ•ˆï¼Œæ€»çš„æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ 9. é—®é¢˜åœ¨ä½¿ç”¨åˆ«äººçš„ä¸»é¢˜çš„æ—¶å€™å¯èƒ½ä¼šæŠ¥é”™æˆ–è€…æœ‰äº›åŠŸèƒ½ç”¨ä¸äº†ï¼ŒåŸå› å¯èƒ½æ˜¯éƒ¨åˆ†æ’ä»¶æ²¡æœ‰å®‰è£…ï¼Œä¾‹å¦‚RSSç”¨ä¸äº†ï¼Œé‚£å¯èƒ½æ˜¯hexo-generator-feedæ²¡å®‰è£…ï¼Œä¸‹é¢åˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„æ’ä»¶ï¼Œå»ºè®®éƒ½å®‰è£…ï¼Œæ²¡æœ‰ç”¨åˆ°ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œéœ€è¦å…ˆåˆ°hexoç¨‹åºç›®å½•ä¸‹åœ¨æ‰§è¡Œå‘½ä»¤ï¼Œæ’ä»¶ä½äºnode_modulesç›®å½•ä¸‹ $ npm install hexo-generator-feed --save #æ”¯æŒRSS$ npm install hexo-generator-sitemap --save #ç”Ÿæˆç«™ç‚¹åœ°å›¾$ npm install hexo-generator-baidu-sitemap --save #ç”Ÿæˆç™¾åº¦ç«™ç‚¹åœ°å›¾$ npm install hexo-html-minifier --save #HTML å‹ç¼©$ npm install hexo-uglify --save #JavaScript å‹ç¼©$ npm install hexo-clean-css --save #CSS å‹ç¼©æ’ä»¶$ npm install hexo-generator-seo-friendly-sitemap --save #SEOä¼˜åŒ–$ npm install hexo-deployer-git --save #gitéƒ¨ç½²æ’ä»¶ å¹¶åœ¨åšå®¢é…ç½®æ–‡ä»¶_config.ymlé…ç½®plugin Plugins:- hexo-generator-feed- hexo-generator-sitemap æ›´å¤šæ’ä»¶å¯ä»¥åœ¨https://hexo.io/plugins/æ‰¾åˆ° 10. Atomæ’ä»¶ç”±äºæˆ‘ç¼–å†™mdä½¿ç”¨çš„æ˜¯Atomï¼Œè¿™é‡Œæ¨èå‡ ä¸ªAtomä¸Šçš„æ’ä»¶ markdown-scroll-syncï¼šMarkdowné¢„è§ˆå®æ—¶æ»šåŠ¨ï¼Œè‡ªå¸¦çš„é¢„è§ˆä¸æ”¯æŒå®æ—¶æ»šåŠ¨ markdown-writerï¼šMarkdownåä½œå·¥å…· Dateï¼šå¿«é€Ÿæ’å…¥å½“å‰æ—¶é—´çš„å·¥å…· atom-hexoï¼šå¿«é€Ÿæ·»åŠ draftï¼Œpostï¼Œpublishï¼Œdeploy 11. æ€»ç»“ä½¿ç”¨hexoæ­å»ºåšå®¢ç¯å¢ƒè¿˜æ˜¯éå¸¸æ–¹ä¾¿çš„ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯è‡ªåŠ¨çš„ï¼Œå½“ç„¶è¿˜æœ‰ä¸€äº›è¯¦ç»†çš„é…ç½®ï¼Œä¾‹å¦‚åˆ†é¡µï¼Œåˆ†ç±»ï¼Œè¯„è®ºç­‰ï¼ŒHexoæ”¯æŒçš„æ’ä»¶ä¹Ÿç›¸å½“å¤šçš„ï¼Œæ¥ä¸‹æ¥å¯ä»¥å¥½å¥½å†™åšå®¢äº†ï¼Œä»¥åå†æ…¢æ…¢å®Œå–„äº†ï¼Œä»Šå¤©å…ˆåˆ°è¿™é‡Œ 12. å‚è€ƒé“¾æ¥ https://hexo.io è½¬è‡ª bomoå¤§ç¥çš„åšå®¢","categories":[{"name":"blog","slug":"blog","permalink":"http://fangliquan.github.io/categories/blog/"}],"tags":[{"name":"blogs","slug":"blogs","permalink":"http://fangliquan.github.io/tags/blogs/"},{"name":"hexo","slug":"hexo","permalink":"http://fangliquan.github.io/tags/hexo/"}]},{"title":"iOSå¼€å‘--å›¾æ–‡æ··æ’","slug":"iOS-multi-graphic-solution-Frame-model","date":"2016-07-24T05:26:17.000Z","updated":"2017-03-20T10:28:58.000Z","comments":true,"path":"2016-07-24/iOS-multi-graphic-solution-Frame-model/","link":"","permalink":"http://fangliquan.github.io/2016-07-24/iOS-multi-graphic-solution-Frame-model/","excerpt":"iOSå¼€å‘ä¸­ä¼šé‡åˆ°é¡µé¢å±•ç¤ºå¤šå›¾æ–‡çš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯æ–°é—»ç­‰å›¾æ–‡æ··æ’ï¼Œè€Œä¸”æ˜¯å›¾ç‰‡ä¸çŸ¥é“åˆ°å®½é«˜çš„æƒ…å†µã€‚ æ­¤æ—¶å°±éœ€è¦å…ˆå¼‚æ­¥ä¸‹è½½å›¾ç‰‡ç„¶åæ ¹æ®å¾—åˆ°çš„imageé€šè¿‡ å®½é«˜æ¯”æ¥æ›´æ–°å¯¹åº”ImageViewçš„Frameã€‚æœ€åé€šè¿‡æ¯ä¸ªImageViewçš„Frameå˜åŒ–åœ¨é‡æ–°æ›´æ–°å¤šå›¾æ–‡UIçš„Frameã€‚","text":"iOSå¼€å‘ä¸­ä¼šé‡åˆ°é¡µé¢å±•ç¤ºå¤šå›¾æ–‡çš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯æ–°é—»ç­‰å›¾æ–‡æ··æ’ï¼Œè€Œä¸”æ˜¯å›¾ç‰‡ä¸çŸ¥é“åˆ°å®½é«˜çš„æƒ…å†µã€‚ æ­¤æ—¶å°±éœ€è¦å…ˆå¼‚æ­¥ä¸‹è½½å›¾ç‰‡ç„¶åæ ¹æ®å¾—åˆ°çš„imageé€šè¿‡ å®½é«˜æ¯”æ¥æ›´æ–°å¯¹åº”ImageViewçš„Frameã€‚æœ€åé€šè¿‡æ¯ä¸ªImageViewçš„Frameå˜åŒ–åœ¨é‡æ–°æ›´æ–°å¤šå›¾æ–‡UIçš„Frameã€‚ æ ¹æ®é¡µé¢è®¾è®¡å¾—å‡ºé¡µé¢çš„Frameæ¨¡å‹ ä¾‹ï¼š @property(nonatomic ,assign ,readonly) CGRect noticeTitleF;@property(nonatomic ,assign ,readonly) CGRect noticeTimeF;@property(nonatomic ,assign ,readonly) CGRect noticeSenderF;@property(nonatomic ,assign ,readonly) CGRect noticecontentF;@property(nonatomic ,strong ,readonly) NSArray *noticeImagesF;@property(nonatomic ,strong ,readonly) NSArray *noticeImagesDespF; ç»™é€šè¿‡Frameæ¨¡å‹ä¸­setModelæ–¹æ³•æ¥è®¡ç®—å¯¹åº”çš„Rectå€¼ é¡¹ç›®ä¸­çš„å›¾æ–‡å’Œæ ‡é¢˜å†…å®¹æ˜¯åˆ†å¼€çš„ ä»¥AttachModelé›†åˆçš„æ–¹å¼è¿”å›è¿‡æ¥ï¼Œå…ˆå‡è®¾é›†åˆä¸­çš„æ¯ä¸€é¡¹éƒ½æœ‰imageå’Œå¯¹åº”çš„æè¿°æ¥è®¡ç®—å¯¹åº”çš„Attachçš„ViewModelFrameï¼Œä¾‹ï¼šHedoneAttachDTO *pictureTopicPost = hedoneClassWeeklyTaskResponse.attachs[i];ViewFrameModel *imageRect = [[ViewFrameModel alloc]init];imageRect.x = rightAndLeftMargin;imageRect.y = offsetY + upImageDespH;imageRect.width = contentWidth;imageRect.height = 300;[imagesF addObject:imageRect]; CGFloat imageDespH = [BabyScheduleTaskHeaderFrame textFrameWithString:pictureTopicPost.desp width:contentWidth fontSize:WAWA_TEXTFONT_FLOAT_TITLE].height + 2;ViewFrameModel *imageDespRect = [[ViewFrameModel alloc]init];imageDespRect.x = rightAndLeftMargin;imageDespRect.y = offsetY + upImageDespH + 300;imageDespRect.width = contentWidth;imageDespRect.height = imageDespH;[imagesDespF addObject:imageDespRect];upImageDespH += (imageDespH +topAndBottomMargin + 300); æ ¹æ®é›†åˆä¸‹è½½å¯¹åº”çš„Imageå¹¶æ›´æ–°Framefor (int i = 0 ; i &lt;attachs.count; i++) &#123; HedoneAttachDTO *pictureTopicPost = hedoneClassWeeklyTaskResponse.attachs[i]; [self getClassWeeklyTaskAttachPictureFrame:pictureTopicPost andIndex:i completion:^(NSInteger index, CGFloat imageH)&#123; NSMutableArray *imagesOldF = [NSMutableArray arrayWithArray:_noticeImagesF]; NSMutableArray *imagesDespOldF = [NSMutableArray arrayWithArray:_noticeImagesDespF]; //æ›´æ–°imageHeight ViewFrameModel *pictureF = imagesOldF [index]; pictureF.height = imageH; [imagesOldF replaceObjectAtIndex:index withObject:pictureF]; ViewFrameModel *oldpictureFM = [imagesOldF firstObject]; CGRect oldpictureR = CGRectMake(oldpictureFM.x, oldpictureFM.y, oldpictureFM.width, oldpictureFM.height); ViewFrameModel *oldpictureDespFM = [imagesDespOldF firstObject]; oldpictureDespFM.y = CGRectGetMaxY(oldpictureR) + topAndBottomMargin; [imagesDespOldF replaceObjectAtIndex:0 withObject:oldpictureDespFM]; CGFloat oldOffsetY = offsetY + oldpictureFM.height + topAndBottomMargin + oldpictureDespFM.height + topAndBottomMargin; //éå†é›†åˆ é‡æ–°èµ‹å€¼frame for (int m = 1; m &lt;imagesOldF.count; m++) &#123; oldOffsetY = oldOffsetY; ViewFrameModel *uppictureF = imagesOldF [m]; uppictureF.y = oldOffsetY; [imagesOldF replaceObjectAtIndex:m withObject:uppictureF]; oldOffsetY = oldOffsetY + uppictureF.height + topAndBottomMargin; ViewFrameModel *uppictureDespF = imagesDespOldF [m]; uppictureDespF.y = oldOffsetY; [imagesDespOldF replaceObjectAtIndex:m withObject:uppictureDespF]; oldOffsetY = oldOffsetY + uppictureDespF.height + topAndBottomMargin; &#125; _noticeFooterF = CGRectMake(0, oldOffsetY + topAndBottomMargin*4, Main_Screen_Width, 1); _noticeHeaderHeight = CGRectGetMaxY(_noticeFooterF); _noticeImagesF = imagesOldF; _noticeImagesDespF = imagesDespOldF; if (self.reloadNoticeHeaderFrameBlock) &#123; //æ›´æ–°é¡µé¢Frameå›è°ƒBlock self.reloadNoticeHeaderFrameBlock(); &#125; &#125;];&#125; æ ¹æ®è®¾è®¡ç¼–å†™å¤šå›¾æ–‡çš„UIViewä»£ç  æœ‰å¤šå›¾æ–‡å¯¹è±¡çš„ä¸ªæ•°æ¥ç»˜åˆ¶é¡µé¢å¹¶ä¿å­˜åˆ°æ•°ç»„ä¸­ _imageArray = [NSMutableArray arrayWithCapacity:_momentPicturesCount];_imageDespArray = [NSMutableArray arrayWithCapacity:_momentPicturesCount];for (int i = 0;i&lt; _momentPicturesCount;i++) &#123; UIImageView *picView = [[UIImageView alloc]init]; picView.tag = i; picView.image = [UIImage imageNamed: (@&quot;childshow_placeholder&quot;)]; picView.userInteractionEnabled = YES; [picView addGestureRecognizer:[[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(showPicture:)]]; [_imageArray addObject:picView]; [self addSubview:picView]; AutoLinkLabel *imageDespLabel = [[AutoLinkLabel alloc]init]; imageDespLabel.font = [UIFont systemFontOfSize:WAWA_TEXTFONT_FLOAT_CONTENT_BIG]; imageDespLabel.textColor = WAWA_TEXTCOLOR_DARKGRAY; imageDespLabel.aDelegate = self; imageDespLabel.numberOfLines = 0; [_imageDespArray addObject:imageDespLabel]; [self addSubview:imageDespLabel];&#125; åœ¨UIViewçš„setModelä¸­ç»™é¡µé¢æ§ä»¶èµ‹å€¼Frameå’ŒContent ç”±è®¡ç®—å¥½çš„Frameåœ¨é‡æ–°ç»™å·²ä¿å­˜å¥½çš„å¤šå›¾æ–‡é›†åˆèµ‹å€¼å¹¶æ›¿æ¢ for (int i = 0 ; i &lt; babyScheduleTaskHeaderFrame.hedoneClassWeeklyTaskResponse.attachs.count; i++) &#123; UIImageView *imageView = self.imageArray[i]; ViewFrameModel *frameModel = babyScheduleTaskHeaderFrame.noticeImagesF[i]; imageView.frame = CGRectMake(frameModel.x, frameModel.y, frameModel.width, frameModel.height); //NSLog(@&quot;image%ld, offsetY:%ld,height :%ld&quot;,i,frameModel.y,frameModel.height); AutoLinkLabel *imageDespL = self.imageDespArray[i]; ViewFrameModel *despframeModel = babyScheduleTaskHeaderFrame.noticeImagesDespF[i]; imageDespL.frame = CGRectMake(despframeModel.x, despframeModel.y, despframeModel.width, despframeModel.height); //NSLog(@&quot;imageDesp%ld, offsetY:%ld,height :%ld&quot;,i,despframeModel.y,despframeModel.height); HedoneAttachDTO *pictureTopicPost = babyScheduleTaskHeaderFrame.hedoneClassWeeklyTaskResponse.attachs[i]; [imageView setImageWithURLStr:pictureTopicPost.addr placeholder:[UIImage imageNamed:@&quot;childshow_placeholder&quot;]]; imageDespL.autoLinkText = pictureTopicPost.desp?pictureTopicPost.desp:@&quot;&quot;; [self.imageArray replaceObjectAtIndex:i withObject:imageView]; [self.imageDespArray replaceObjectAtIndex:i withObject:imageDespL];&#125; å°†UIViewèµ‹å€¼ç»™TableViewHeaderå®šä¹‰å¤šå›¾æ–‡frameModelå¯¹è±¡å¹¶è®¾ç½®detailModel BabyScheduleTaskHeaderFrame *detailHeaderFrame = [[BabyScheduleTaskHeaderFrame alloc]init];detailHeaderFrame.hedoneClassWeeklyTaskResponse = model;__unsafe_unretained typeof(self) selfVc = self;detailHeaderFrame.reloadNoticeHeaderFrameBlock = ^()&#123; //å›è°ƒæ›´æ–°Frame selfVc.babyScheduleTaskHeaderView.babyScheduleTaskHeaderFrame = selfVc.babyScheduleTaskHeaderFrame; CGRect oldHeaderF = selfVc.babyScheduleTaskHeaderView.frame; oldHeaderF.size.height = selfVc.babyScheduleTaskHeaderFrame.noticeHeaderHeight; selfVc.babyScheduleTaskHeaderView.frame = oldHeaderF; selfVc.tableView.tableHeaderView = selfVc.babyScheduleTaskHeaderView;&#125;;self.babyScheduleTaskHeaderFrame = detailHeaderFrame;BabyScheduleTaskHeaderView *detailHeaderView = [[BabyScheduleTaskHeaderView alloc]initWithFrame:CGRectMake(0, 0, Main_Screen_Width, detailHeaderFrame.noticeHeaderHeight) andMomentPicturesCount:(int)model.attachs.count];detailHeaderView.babyScheduleTaskHeaderFrame = detailHeaderFrame;self.babyScheduleTaskHeaderView = detailHeaderView;self.tableView.tableHeaderView = self.babyScheduleTaskHeaderView; æ›´å¤šå…·ä½“å®ç°è¯·ä¸‹è½½æºç  ä¸‹è½½æºç ","categories":[{"name":"iOS Project Practice","slug":"iOS-Project-Practice","permalink":"http://fangliquan.github.io/categories/iOS-Project-Practice/"}],"tags":[{"name":"iOSå¤šå›¾æ–‡","slug":"iOSå¤šå›¾æ–‡","permalink":"http://fangliquan.github.io/tags/iOS%E5%A4%9A%E5%9B%BE%E6%96%87/"},{"name":"å›¾æ–‡æ··æ’","slug":"å›¾æ–‡æ··æ’","permalink":"http://fangliquan.github.io/tags/%E5%9B%BE%E6%96%87%E6%B7%B7%E6%8E%92/"},{"name":"Frameæ¨¡å‹","slug":"Frameæ¨¡å‹","permalink":"http://fangliquan.github.io/tags/Frame%E6%A8%A1%E5%9E%8B/"}]},{"title":"iO9æ–°ç‰¹æ€§å­¦ä¹ --æ³›å‹","slug":"iOS9-new-feature-generic","date":"2016-07-23T09:06:11.000Z","updated":"2017-03-20T10:28:58.000Z","comments":true,"path":"2016-07-23/iOS9-new-feature-generic/","link":"","permalink":"http://fangliquan.github.io/2016-07-23/iOS9-new-feature-generic/","excerpt":"æ³›å‹ï¼šé™åˆ¶ç±»å‹ä½¿ç”¨åœºæ™¯ åœ¨é›†åˆï¼ˆæ•°ç»„ï¼Œå­—å…¸ï¼ŒNSSet)ä¸­ä½¿ç”¨æ³›å‹æ¯”è¾ƒå¸¸è§ å½“å£°æ˜ä¸€ä¸ªç±»ï¼Œç±»é‡Œé¢çš„æŸäº›ä¹¦å†™çš„ç±»å‹ä¸ç¡®å®šï¼Œè¿™æ—¶å€™æˆ‘ä»¬æ‰ä½¿ç”¨æ³›å‹ã€‚z","text":"æ³›å‹ï¼šé™åˆ¶ç±»å‹ä½¿ç”¨åœºæ™¯ åœ¨é›†åˆï¼ˆæ•°ç»„ï¼Œå­—å…¸ï¼ŒNSSet)ä¸­ä½¿ç”¨æ³›å‹æ¯”è¾ƒå¸¸è§ å½“å£°æ˜ä¸€ä¸ªç±»ï¼Œç±»é‡Œé¢çš„æŸäº›ä¹¦å†™çš„ç±»å‹ä¸ç¡®å®šï¼Œè¿™æ—¶å€™æˆ‘ä»¬æ‰ä½¿ç”¨æ³›å‹ã€‚z ä¹¦å†™è§„èŒƒ åœ¨ç±»å‹åé¢å®šä¹‰æ³›å‹ï¼ŒNSMutableArray&lt;UIImage *&gt; *mutableArray ä¿®é¥°ï¼šåªèƒ½ä¿®é¥°æ–¹æ³•çš„è°ƒç”¨ å¥½å¤„ï¼š æé«˜è§„èŒƒï¼Œå‡å°‘äº¤æµ é€šè¿‡é›†åˆå–å‡ºæ¥å¯¹è±¡ï¼Œç›´æ¥å½“åšæ³›å‹å¯¹è±¡ä½¿ç”¨ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç‚¹è¯­æ³•self.mutableArray[0].temp; å­ç±»æƒ³ç»™çˆ¶ç±»èµ‹å€¼ä½¿ç”¨åå˜__covariant(åå˜ï¼‰:ç”¨äºæ•°æ®å¼ºè½¬ç±»å‹ï¼Œå¯ä»¥å‘ä¸Šå¼ºè½¬ï¼Œå­ç±»ï¼Œå¯ä»¥è½¬æˆ çˆ¶ç±»ï¼Œä¾‹: @interface Person&lt;__covariant ObjectType&gt; çˆ¶ç±»å¼ºè½¬æˆå­ç±» é€†å˜__contravariantï¼ˆé€†å˜ï¼‰ï¼šç”¨äºæ³›å‹æ•°æ®å¼ºè½¬ç±»å‹ï¼Œå¯ä»¥å‘ä¸‹å¼ºè½¬ï¼Œçˆ¶ç±»å¯ä»¥è½¬æˆå­ç±» ä¾‹: @interface Person&lt;__contravariant ObjectType&gt; å®šä¹‰æ³›å‹ç±»@interface Person&lt;__covariant ObjectType&gt; : NSObject@property(nonatomic) ObjectType language;@end","categories":[{"name":"iOS","slug":"iOS","permalink":"http://fangliquan.github.io/categories/iOS/"}],"tags":[{"name":"runtime","slug":"runtime","permalink":"http://fangliquan.github.io/tags/runtime/"},{"name":"iOS9æ–°ç‰¹æ€§","slug":"iOS9æ–°ç‰¹æ€§","permalink":"http://fangliquan.github.io/tags/iOS9%E6%96%B0%E7%89%B9%E6%80%A7/"}]},{"title":"Hello World","slug":"hello-world","date":"2016-07-22T09:06:11.000Z","updated":"2017-03-20T10:28:58.000Z","comments":true,"path":"2016-07-22/hello-world/","link":"","permalink":"http://fangliquan.github.io/2016-07-22/hello-world/","excerpt":"","text":"ä¸–ç•Œä¸Šçš„ç¬¬ä¸€ä¸ªç¨‹åºå°±æ˜¯Hello Worldï¼ï¼ I am a programmer. I like programming.","categories":[],"tags":[]},{"title":"swiftå­¦ä¹ ç¬”è®°","slug":"swift-start","date":"2016-06-28T07:00:04.000Z","updated":"2016-12-16T07:00:04.000Z","comments":true,"path":"2016-06-28/swift-start/","link":"","permalink":"http://fangliquan.github.io/2016-06-28/swift-start/","excerpt":"ä¸€ç›´æ²¡æœ‰æ—¶é—´å¥½å¥½çœ‹ä¸€ä¸‹swiftï¼Œæœ€è¿‘å¤ä¹ äº†ä¸€éè¯­æ³•ï¼Œè¿™é‡Œè®°å½•swiftå­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜å’Œè¦ç‚¹ï¼Œå’ŒObject-Cçš„ä¸€äº›ç›¸å…³ç‰¹æ€§è¿™é‡Œä¹Ÿä¸åšä»‹ç»ï¼Œåªè®°å½•swiftç‰¹æœ‰çš„ä¸€äº›ç‰¹æ€§swiftå€Ÿé‰´äº†å¾ˆå¤šè¯­è¨€çš„è¯­æ³•ï¼Œç‰¹åˆ«æ˜¯è„šæœ¬è¯­è¨€ï¼Œåœ¨swifté‡Œï¼Œå¯ä»¥çœ‹åˆ°pythonè¯­è¨€çš„ä¸€äº›å½±å­ï¼Œè¿˜æœ‰å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„å½±å­","text":"ä¸€ç›´æ²¡æœ‰æ—¶é—´å¥½å¥½çœ‹ä¸€ä¸‹swiftï¼Œæœ€è¿‘å¤ä¹ äº†ä¸€éè¯­æ³•ï¼Œè¿™é‡Œè®°å½•swiftå­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜å’Œè¦ç‚¹ï¼Œå’ŒObject-Cçš„ä¸€äº›ç›¸å…³ç‰¹æ€§è¿™é‡Œä¹Ÿä¸åšä»‹ç»ï¼Œåªè®°å½•swiftç‰¹æœ‰çš„ä¸€äº›ç‰¹æ€§swiftå€Ÿé‰´äº†å¾ˆå¤šè¯­è¨€çš„è¯­æ³•ï¼Œç‰¹åˆ«æ˜¯è„šæœ¬è¯­è¨€ï¼Œåœ¨swifté‡Œï¼Œå¯ä»¥çœ‹åˆ°pythonè¯­è¨€çš„ä¸€äº›å½±å­ï¼Œè¿˜æœ‰å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„å½±å­ ä¸€ã€åŸºç¡€è¯­æ³• swiftè¯­å¥ç»“æŸä¸éœ€è¦åˆ†å·ï¼ˆå†™äº†ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼‰ï¼Œæœ‰ä¸€ç§æƒ…å†µéœ€è¦åˆ†å·ï¼Œå¦‚æœä¸€è¡Œä»£ç ä¸­æœ‰å¤šæ¡è¯­å¥ï¼Œè¿™æ—¶å€™å°±å¿…é¡»è¦åˆ†å·éš”å¼€ swiftå­—ç¬¦ä¸²ï¼Œæ•°ç»„è¯­æ³•ç³–ï¼Œå­—å…¸è¯­æ³•ç³–ä¸éœ€è¦@æ ‡ç¤º swiftæ˜¯ç±»å‹å®‰å…¨çš„è¯­è¨€ï¼Œæ‰€æœ‰çš„ç±»å‹éƒ½ä¸ä¼šè‡ªåŠ¨è½¬æ¢ï¼ˆå¦‚ï¼šIntå’ŒUIntç±»å‹ä¸èƒ½ç›´æ¥è¿ç®—ï¼‰ï¼ŒåŒäº‹swiftå…·æœ‰å¼ºå¤§çš„ç±»å‹æ¨æµ‹ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¸éœ€è¦å£°æ˜ç±»å‹ swiftçš„å¤šè¡Œæ³¨é‡Šæ”¯æŒåµŒå¥—/* è¿™æ˜¯ç¬¬ä¸€ä¸ªå¤šè¡Œæ³¨é‡Šçš„å¼€å¤´/* è¿™æ˜¯ç¬¬äºŒä¸ªè¢«åµŒå¥—çš„å¤šè¡Œæ³¨é‡Š */è¿™æ˜¯ç¬¬ä¸€ä¸ªå¤šè¡Œæ³¨é‡Šçš„ç»“å°¾ */ swiftçš„å¸ƒå°”å€¼ä½¿ç”¨å°å†™trueå’Œfalseï¼Œåˆ¤æ–­è¯­å¥åªèƒ½ä½¿ç”¨Boolç±»å‹ äºŒã€æ•°æ®ç±»å‹ ä¸objcä¸€æ ·ï¼Œswiftæ”¯æŒä»¥å‰ï¼ˆobjcï¼‰ä½¿ç”¨çš„æ‰€æœ‰æ•°æ®ç±»å‹ï¼Œswiftçš„ç±»å‹åå­—é¦–å­—æ¯å¤§å†™ï¼Œå¦‚Int, Float, NSInteger swiftæ”¯æŒå¯é€‰ç±»å‹ï¼ˆOptionalsï¼‰ç±»å‹ï¼Œç›¸å½“äºC#ä¸­çš„å¯ç©ºç±»å‹ï¼Œæ ‡è¯†å˜é‡å¯èƒ½ä¸ºç©ºï¼ŒåŸºç¡€æ•°æ®ç±»å‹ä¹Ÿå¯ä¸ºç©ºï¼Œå¯é€‰ç±»å‹ä¸èƒ½ç›´æ¥èµ‹éå¯é€‰ç±»å‹var a: Int? = 10var b: Int = a // æŠ¥é”™ï¼Œä¸åŒç±»å‹ä¸èƒ½èµ‹å€¼ swiftçš„å¸ƒå°”ç±»å‹ä½¿ç”¨true/falseï¼Œè€Œä¸ç”¨YES/NO swiftæ”¯æŒä½¿ç”¨_æ¥åˆ†å‰²æ•°å€¼æ¥å¢å¼ºå¯è¯»æ€§è€Œä¸å½±å“å€¼ï¼Œå¦‚ä¸€äº¿å¯ä»¥è¡¨ç¤ºä¸ºä¸‹é¢å½¢å¼let oneMillion = 1_000_000 swiftæ•°å€¼ç±»å‹è¿›è¡Œè¿ç®—ç¬¦è®¡ç®—çš„æ—¶å€™ä¸ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ï¼Œé€šå¸¸å¯ä»¥é€šè¿‡ç±»å‹çš„æ„é€ æ–¹æ³•è¿›è¡Œç±»å‹è½¬æ¢var a: Int = 12var b: Float = 23var c = a + b // æŠ¥é”™var d = Float(a) + b // æ­£ç¡® swiftçš„åŸºç¡€æ•°æ®ç±»å‹ä¸å¯¹è±¡ç±»å‹ä¸€è§†åŒä»ï¼Œå¯ä»¥æ··ç”¨ï¼Œä¸éœ€è¦è£…ç®±å’Œæ‹†ç®± TODOï¼šAny, AnyObject,ä¸‰ã€å¸¸é‡å˜é‡ ä¸C/Obj-Cä¸åŒï¼Œswiftçš„å¸¸é‡æ›´ä¸ºå¹¿ä¹‰ï¼Œæ”¯æŒä»»æ„ç±»å‹ï¼Œå¸¸é‡åªèƒ½èµ‹å€¼ä¸€æ¬¡ swiftçš„å˜é‡å’Œå¸¸é‡åœ¨å£°æ˜çš„æ—¶å€™ç±»å‹å°±å·²ç»ç¡®å®šï¼ˆç”±ç¼–è¯‘å™¨è‡ªåŠ¨è¯†åˆ«æˆ–å¼€å‘è€…æŒ‡å®šï¼‰ ä½¿ç”¨letå£°æ˜çš„é›†åˆä¸ºå¯å˜é›†åˆï¼Œä½¿ç”¨varå£°æ˜çš„é›†åˆä¸ºä¸å¯å˜é›†åˆ å¦‚æœä½ çš„ä»£ç ä¸­æœ‰ä¸éœ€è¦æ”¹å˜çš„å€¼ï¼Œè¯·ä½¿ç”¨ let å…³é”®å­—å°†å®ƒå£°æ˜ä¸ºå¸¸é‡ã€‚åªå°†éœ€è¦æ”¹å˜çš„å€¼å£°æ˜ä¸ºå˜é‡ã€‚è¿™æ ·å¯ä»¥å°½é‡æ•°æ®å®‰å…¨ï¼Œå¹¶ä¸”å¸¸é‡æ˜¯çº¿ç¨‹å®‰å…¨ // å¸¸é‡ï¼šä½¿ç”¨letå£°æ˜ï¼Œèµ‹å€¼åå°±ä¸èƒ½å†ä¿®æ”¹let a = NSMutableArray()let b = 12let c: Float = 12 // ç±»å‹æ ‡æ³¨(type annotation)let d = b + 12a.addObject(11) // str == [11]let e = a // str == [11], d == [11]a.addObject(12) // str == [11, 12], d == [11, 12]// å˜é‡ï¼šä½¿ç”¨varå£°æ˜var f: Double? = 12var g = &quot;hello world&quot; ç±»å‹æ ‡æ³¨åœ¨å£°æ˜å˜é‡å’Œå¸¸é‡çš„æ—¶å€™å¯ä»¥å¦‚æœå¯ä»¥ç”±ç¼–è¯‘å™¨è‡ªåŠ¨è¯†åˆ«ï¼Œå¯ä»¥ä¸ç”¨åˆ¶å®šç±»å‹ï¼Œå¦‚ä¸‹ let a = 12 //å¸¸é‡aä¼šç¼–è¯‘ä¸ºIntç±»å‹var b = 1.3 //å˜é‡bä¼šç¼–è¯‘ä¸ºDoubleç±»å‹ æˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šç±»å‹ let a: Double = 12let b: Float = 1.3 å¯ä»¥åœ¨ä¸€è¡Œå£°æ˜å¤šä¸ªå˜é‡/å¸¸é‡ï¼Œåœ¨æœ€åä¸€ä¸ªå£°æ˜ç±»å‹ var red, green, blue: UInt å››ã€åºåˆ—å’Œé›†åˆ1. æ•°ç»„Arrayswiftçš„æ•°ç»„å¯ä»¥æ˜¯æœ‰ç±»å‹çš„ï¼ˆæ³›å‹ï¼‰ï¼Œå­˜æ”¾åŒç±»å‹çš„æ•°æ®ï¼Œå¦‚æœæ·»åŠ ä¸€ä¸ªé”™è¯¯çš„ç±»å‹ä¼šæŠ¥ç¼–è¯‘é”™è¯¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¯†åˆ« //1. æ•°ç»„çš„å†™æ³•ä¸ºï¼šArray&lt;Int&gt;ï¼Œä¹Ÿå¯ä»¥ç®€å†™æˆ[Int]//2. æ•°ç»„åˆå§‹åŒ–ä¸NSArrayç±»ä¼¼ï¼Œç›´æ¥ç”¨ä¸­æ‹¬å·æ‹¬èµ·æ¥ï¼Œé‡Œé¢å€¼ç”¨é€—å·éš”å¼€var array0 = [Int]()var array1: [Int] = [1, 3, 5, 7, 9]var array2: Array&lt;Int&gt; = array1array1.append(11) // [1, 3, 5, 7, 9, 11]array1.insert(0, atIndex: 0) // [0, 1, 3, 5, 7, 9, 11]array1.isEmpty // Falsearray1.count // 7// 3. å¦‚æœåˆå§‹åŒ–æ—¶ä¸æŒ‡å®šç±»å‹ï¼Œè€Œç¼–è¯‘å™¨ä¹Ÿä¸èƒ½è¯†åˆ«å‡ºç±»å‹ï¼Œè¿™æ—¶å€™ï¼Œä¼šè¢«å½“æˆNSArrayå¤„ç†var array3 = [] // array3 ä¸º NSArrayç±»å‹çš„ç©ºæ•°ç»„// 4. å¦‚æœå£°æ˜çš„æ—¶å€™ä½¿ç”¨ä¸åŒçš„ç±»å‹ï¼Œç¼–è¯‘å™¨ä¼šæŠŠæ•°ç»„è¯†åˆ«ä¸ºNSObjectç±»å‹var array4 = [&quot;fdsa&quot;, 121] // array4 ä¸º Array&lt;NSObject&gt; ç±»å‹// 5. é›†åˆæ”¯æŒåŠ æ³•è¿ç®—ï¼Œç›¸å½“äºNSMutableArrayçš„addObjectsFromArrayarray1 += [2, 4, 6, 8, 10] // [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]// 6. ä½¿ç”¨letå£°æ˜çš„æ•°ç»„ä¸å¯å˜ï¼Œä¸èƒ½ä¿®æ”¹æ•°ç»„array3let array5: [Int] = [1, 3, 5, 7, 9]//array5.append(2) // æŠ¥ç¼–è¯‘é”™è¯¯// 7. é›†åˆä½¿ç”¨ä¸‹æ ‡ç´¢å¼•ï¼Œæ”¯æŒåŒºé—´ç´¢å¼•ï¼ŒåŒºé—´ä¸å¯è¶Šç•Œvar array6: [Int] = [1, 3, 5, 7, 9]array6[1] = 4 // [1, 3, 5, 7, 9]array6[1...3] = [2, 3, 4] // [1, 2, 3, 4, 9]array6[0...2] = array6[1...3] // [2, 3, 4, 4, 9]// 8. è¿­ä»£æ•°ç»„çš„æ—¶å€™ï¼Œå¦‚æœéœ€è¦ç´¢å¼•ï¼Œå¯ä»¥ç”¨enumerateæ–¹æ³•for (index, value) in array4.enumerated() &#123; //do something&#125; 2. å­—å…¸Dictionaryä¸æ•°ç»„ç±»å‹ä¸€æ ·ï¼Œå­—å…¸ä¹Ÿæ”¯æŒæ³›å‹ï¼Œå…¶é”®å€¼ç±»å‹éƒ½å¯ä»¥æŒ‡å®šæˆ–æœ‰ç¼–è¯‘å™¨è¯†åˆ«ï¼Œå…¶ä¸­Keyçš„ç±»å‹ï¼Œå¿…é¡»æ˜¯å¯Hashçš„ï¼Œswiftä¸­åŸºç¡€æ•°æ®ç±»å‹éƒ½æ˜¯å¯hashçš„ï¼ˆStringã€Intã€Doubleå’ŒBoolï¼‰ // 1. ç”¨æ³•ä¸ocç±»ä¼¼ï¼Œåˆå§‹åŒ–ä¸éœ€è¦@var dict1 = [&quot;key1&quot;: 1, &quot;key2&quot;: 2, &quot;key3&quot;: 3]// 2. å£°æ˜æ–¹å¼var dict2: Dictionary&lt;String, Int&gt; = dict1 //dict2ä¸dict1ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡var dict3: [String: Int] = dict1 //é€šå¸¸é‡‡ç”¨è¿™ç§æ–¹å¼å£°æ˜ç±»å‹// 3. ä¸å£°æ˜ç±»å‹ï¼Œç¼–è¯‘å™¨åˆæ— æ³•è¯†åˆ«ï¼Œåˆ™ä¸ºNSDictionaryvar dict4 = [:]var dict5: [Int: String] = [:]// 4. ä¿®æ”¹æˆ–æ·»åŠ é”®å€¼å¯¹dict1[&quot;key3&quot;] = 4// 5. åˆ é™¤é”®dict1[&quot;key3&quot;] = nil// 6. keyä¸å­˜åœ¨ä¸æŠ¥é”™ï¼Œè¿”å›å¯ç©ºç±»å‹nillet value4 = dict1[&quot;key4&quot;]// 7. å­—å…¸è¿­ä»£è¿”å›key/valueå…ƒç»„ï¼Œç±»ä¼¼pythonfor (key, value) in dict1 &#123; print(&quot;\\(key) = \\(value)&quot;)&#125; æ•°ç»„ï¼ˆArrayï¼‰æˆ–å­—å…¸ï¼ˆDictionaryï¼‰ï¼Œå¦‚æœå£°æ˜ä¸ºå˜é‡ï¼ˆvarï¼‰ï¼Œåˆ™ä¸ºå¯å˜ï¼Œå¦‚æœä¸ºå¸¸é‡ï¼ˆletï¼‰ï¼Œåˆ™ä¸ºä¸å¯å˜å¸¸é‡æ•°ç»„æˆ–å­—å…¸ç¼–è¯‘å™¨ä¼šå¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œæ‰€ä»¥å°½é‡æŠŠä¸å¯å˜çš„æ•°ç»„å®šä¹‰ä¸ºå¸¸é‡æ•°ç»„ 3. SetSeté›†åˆç”¨äºå­˜æ”¾æ— åºä¸é‡å¤çš„å¯¹è±¡ï¼Œç”¨æ³•ä¸æ•°ç»„ç±»ä¼¼ï¼Œé‡å¤çš„é¡¹ä¼šè¢«å¿½ç•¥ var s: Set&lt;Int&gt; = [1, 3, 5, 6, 7, 4, 3, 7] // [1, 3, 4, 5, 6, 7]s.counts.isEmptys.insert(3)s.remove(3)s.contains(3) é›†åˆæ“ä½œ let oddDigits: Set = [1, 3, 5, 7, 9]let evenDigits: Set = [0, 2, 4, 6, 8]let singleDigitPrimeNumbers: Set = [2, 3, 5, 7]//åˆæ“ä½œoddDigits.union(evenDigits).sort() // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]//äº¤æ“ä½œoddDigits.intersection(evenDigits).sorted() // []//å‡æ“ä½œoddDigits.subtracting(singleDigitPrimeNumbers).sorted() // [1, 9]//ä¸é‡å é›†åˆoddDigits.symmetricDifference(singleDigitPrimeNumbers).sorted() // [1, 2, 9] ä½¿ç”¨â€œæ˜¯å¦ç›¸ç­‰â€è¿ç®—ç¬¦( == )æ¥åˆ¤æ–­ä¸¤ä¸ª åˆæ˜¯å¦åŒ…å«å…¨éƒ¨ç›¸åŒçš„å€¼ã€‚ ä½¿ç”¨ isSubset(of:) æ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ª åˆä¸­çš„å€¼æ˜¯å¦ä¹Ÿè¢«åŒ…å«åœ¨å¦å¤–ä¸€ä¸ª åˆä¸­ã€‚ ä½¿ç”¨ isSuperset(of:) æ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ª åˆä¸­åŒ…å«å¦ä¸€ä¸ª åˆä¸­æ‰€æœ‰çš„å€¼ã€‚ ä½¿ç”¨ isStrictSubset(of:) æˆ–è€… isStrictSuperset(of:) æ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ª åˆæ˜¯å¦æ˜¯å¦å¤–ä¸€ä¸ª åˆçš„å­ åˆæˆ– è€…çˆ¶ åˆå¹¶ä¸”ä¸¤ä¸ª åˆå¹¶ä¸ç›¸ç­‰ã€‚ ä½¿ç”¨ isDisjoint(with:) æ–¹æ³•æ¥åˆ¤æ–­ä¸¤ä¸ª åˆæ˜¯å¦ä¸å«æœ‰ç›¸åŒçš„å€¼(æ˜¯å¦æ²¡æœ‰äº¤ ) 4. å…ƒç»„Tupleä¸pythonç±»ä¼¼ï¼Œswiftä¹Ÿæ”¯æŒå…ƒç»„ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨å…ƒç»„åŒ…è£…å¤šä¸ªå€¼ï¼Œä¹Ÿä½¿å¾—å‡½æ•°è¿”å›å¤šä¸ªå€¼å˜å¾—æ›´åŠ æ–¹ä¾¿ï¼Œç‰¹åˆ«æ˜¯ä¸´æ—¶ç»„å»ºå€¼å¾—æ—¶å€™ æ”¯æŒä»»æ„ç±»å‹ æ”¯æŒåŒæ—¶èµ‹å€¼ æ”¯æŒè‡ªå®šä¹‰keyï¼Œæ”¯æŒç´¢å¼• å…ƒç»„ä¸æ˜¯å¯¹è±¡ï¼Œä¸æ˜¯AnyObjectç±»å‹ï¼Œç”±äºswiftæ˜¯å¼ºç±»å‹çš„ï¼Œæ‰€ä»¥å…ƒç»„æœ‰æ—¶ä¸èƒ½å½“åšæ™®é€šçš„å¯¹è±¡ä½¿ç”¨ï¼Œä¾‹å¦‚ä¸èƒ½æŠŠå…ƒç»„åŠ åˆ°æ•°ç»„é‡Œé¢ï¼Œå…ƒç»„å†…çš„æ‰€æœ‰ç±»å‹å¿…é¡»æ˜¯æ˜ç¡®çš„ // 1. å£°æ˜ä¸€ä¸ªå…ƒç»„ï¼Œå…ƒç»„æ”¯æŒä»»æ„ç±»å‹let httpError1 = (404, &quot;Not Found&quot;)let point = (100, 50)// 2. å¯ä»¥åˆ†åˆ«èµ‹å€¼let (x, y) = pointprint(x) // 100print(y) // 50// 3. ä½¿ç”¨ä¸‹æ ‡å–å…ƒç»„å…ƒç´ ï¼Œä¸‹æ ‡ä»0å¼€å§‹print(httpError1.0) // 404print(httpError1.1) // Not Found// 4. å¯ä»¥ç»™æ•°ç»„å…ƒç´ å–ålet httpError2 = (code: 404, errorMessage: &quot;Not Found&quot;)print(httpError2.code) // 404print(httpError2.errorMessage) // Not Found// 5. å¯ä»¥ç”¨ä¸‹åˆ’çº¿è¡¨ç¤ºå¿½ç•¥éƒ¨åˆ†å€¼let (a, _) = point å…ƒç»„åœ¨ä¸´æ—¶ç»„ç»‡å€¼å¾—æ—¶å€™å¾ˆæœ‰ç”¨ï¼Œå¯ä»¥ä¸ç”¨é‡æ–°å®šä¹‰æ•°æ®ç»“æ„ 5. å­—ç¬¦ä¸²Stringswiftå­—ç¬¦ä¸²æ˜¯ç”±Characterå­—ç¬¦ç»„æˆçš„é›†åˆï¼Œæ”¯æŒ+æ“ä½œç¬¦ï¼Œå¯ä»¥ä¸NSStringæ— ç¼æ¡¥æ¥ï¼Œswiftçš„å­—ç¬¦ä¸²å®Œå…¨å…¼å®¹unicodeå­—ç¬¦ä¸²ä¸å€¼ç±»å‹ï¼ˆä¸Int, Floatï¼‰ä¸€æ ·ï¼Œæ˜¯å€¼ç±»å‹ï¼Œåœ¨ä¼ å€¼çš„æ—¶å€™éƒ½ä¼šè¿›è¡Œæ‹·è´ï¼Œå½“ç„¶è¿™å›å¸¦æ¥ä¸€å®šçš„æ€§èƒ½æŸè€—ï¼Œswiftç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šè¿›è¡Œä¼˜åŒ–ï¼Œä¿è¯åªåœ¨å¿…è¦çš„æƒ…å†µä¸‹æ‰è¿›è¡Œæ‹·è´ // 1. ä¸NSStringä¸åŒï¼Œå£°æ˜ä¸éœ€è¦@å‰ç¼€ï¼Œæ”¯æŒè½¬ç§»å­—ç¬¦let name1 = &quot;bomo\\n&quot;// 2. ç©ºä¸²ï¼ˆä¸‹é¢ä¸¤ç§æ–¹å¼ç­‰ä»·ï¼‰let name2 = &quot;&quot;let name3 = String()// 3. å­—ç¬¦ä¸²ç”±å­—ç¬¦Characterç»„æˆï¼Œå®šä¹‰å­—ç¬¦let character1: Character = &quot;!&quot;// 4. å¸¸è§å±æ€§ï¼Œæ–¹æ³•name1.isEmpty // åˆ¤ç©ºname1.characters.count // è·å–å­—ç¬¦ä¸²çš„å­—ç¬¦æ•°name1.uppercaseStringname1.lowercaseStringname1.hasPrefix(&quot;bo&quot;)name1.hasSuffix(&quot;mo&quot;)// 5. åŠ æ³•è¿ç®—let hello = &quot;hello &quot; + name1 // hello bomo\\n// 6. æ¯”è¾ƒï¼ˆæ¯”è¾ƒå€¼ï¼Œè€Œä¸æ˜¯åœ°å€ï¼‰let name4 = &quot;b&quot; + &quot;omo\\n&quot;name4 == name1 // True// 7. å­—ç¬¦ä¸²æ’å€¼ï¼ˆä½¿ç”¨åæ–œæ å’Œæ‹¬å·ç«™ä½ï¼‰let city = &quot;å¹¿å·&quot;let hello2 = &quot;I&#x27;m \\(name1) from \\(city)&quot;// 8. æ ¼å¼åŒ–å­—ç¬¦ä¸²let f = 123.3233var s = String(format: &quot;%.2f&quot;, f) //123.32 6. é›†åˆçš„èµ‹å€¼å’Œæ‹·è´è¡Œä¸ºswiftçš„é›†åˆé€šå¸¸æœ‰Arrayå’ŒDictionaryï¼Œä»–ä»¬åœ¨èµ‹å€¼æˆ–ä¼ é€’çš„æ—¶å€™ï¼Œè¡Œä¸ºä¸Šæœ‰æ‰€ä¸åŒï¼Œå­—å…¸ç±»å‹Dictionaryæˆ–æ•°ç»„ç±»å‹Arrayåœ¨èµ‹å€¼ç»™å˜é‡æˆ–å¸¸é‡çš„æ—¶å€™ï¼Œåªè¦æœ‰åšä¿®æ”¹ï¼Œå°±ä¼šè¿›è¡Œå€¼æ‹·è´ï¼Œå¹¶ä¸”ä¸ä¼šä½œç”¨åˆ°åŸæ¥å˜é‡ä¸Š var dict1 = [&quot;a&quot;: 1, &quot;b&quot;: 2]var dict2 = dict1print(dict1 == dict2) // truedict2[&quot;a&quot;] = 3 // ä¿®æ”¹dict2print(dict1 == dict2) // falsevar arr1 = [&quot;a&quot;, &quot;b&quot;]var arr2 = arr1print(arr1 == arr2) // truearr1[0] = &quot;c&quot; // ä¿®æ”¹arr1// arr1.append(&quot;c&quot;)print(arr1 == arr2) // false å½“æ•°ç»„æˆ–å­—å…¸ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°çš„æ—¶å€™ï¼Œç”±äºåœ¨Swift3ä¸­ä¸æ¨èä½¿ç”¨å˜é‡å‚æ•°ï¼Œæ•…æ‰€æœ‰å‡½æ•°å‚æ•°ä¸å¯å˜ï¼Œæ•…ä¹Ÿä¸è¿›è¡Œæ‹·è´ äº”ã€å¯é€‰ç±»å‹ï¼ˆå¯ç©ºç±»å‹ï¼‰swiftåŠ å…¥äº†å¯ç©ºç±»å‹è®©æˆ‘ä»¬ä½¿ç”¨æ•°æ®çš„æ—¶å€™æ›´ä¸ºå®‰å…¨ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¯ç©ºçš„åœ°æ–¹ä½¿ç”¨å¯é€‰ç±»å‹å£°æ˜è¯¥å˜é‡å¯ä¸ºç©ºï¼Œä¸èƒ½ç»™éå¯é€‰ç±»å‹è®¾å€¼nilå€¼ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™å¯ä»¥æ˜ç¡®çš„çŸ¥é“å¯¹è±¡æ˜¯å¦å¯èƒ½ä¸ºnilï¼Œæœ‰ç‚¹åƒObjCçš„å¯¹è±¡ï¼Œå¯¹è±¡å¯ä»¥ä¸ºnilï¼Œä¹Ÿå¯ä»¥ä¸ä¸ºnilï¼Œè€Œswiftå¾—å¯é€‰ç±»å‹èŒƒå›´æ›´å¹¿å¯ä»¥ä½œç”¨äºä»»ä½•ç±»å‹ï¼ˆåŸºç¡€ç±»å‹ï¼Œç±»ï¼Œç»“æ„ä½“ï¼Œæšä¸¾ï¼‰ 1. å£°æ˜// 1. å£°æ˜å¯é€‰ç±»å‹ï¼Œåœ¨ç±»å‹åé¢åŠ ä¸Š?var obj1: NSObject?obj1 = NSObject()obj1 = nil// 2. ä¸èƒ½ç»™ä¸€ä¸ªå¯é€‰ç±»å‹èµ‹nilï¼Œä¸‹é¢ä¼šæŠ¥é”™ï¼Œvar obj = NSObject()obj = nil// 3. å¦‚æœå£°æ˜å¯é€‰å˜é‡æ—¶æ²¡æœ‰èµ‹å€¼ï¼Œåˆ™é»˜è®¤ä¸ºnilvar i: Int?// 4. ä¸€ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå¯é€‰ç±»å‹func getdog() -&gt; String? &#123; return &quot;wangcai&quot;&#125;// 5. ä¸èƒ½æŠŠå¯é€‰ç±»å‹èµ‹å€¼ç»™éå¯é€‰ç±»å‹ï¼Œä¸‹é¢ä¼šæŠ¥é”™let cat: String = dog 2. å¼ºåˆ¶è§£æå¯é€‰ç±»å‹ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦é€šè¿‡å–å€¼æ“ä½œç¬¦!å–å¾—å˜é‡çš„å€¼ï¼Œæ‰èƒ½ä½¿ç”¨ï¼Œå¦‚æœå˜é‡æœ‰å€¼ï¼Œåˆ™è¿”å›è¯¥å€¼ï¼Œå¦‚æœå˜é‡ä¸ºç©ºï¼Œåˆ™ä¼šè¿è¡Œæ—¶é”™è¯¯ var b: Int?var a: Inta = 12b = 13let c = a + b! // å…ˆå¯¹bå–å€¼ï¼Œå†è¿ç®—var b: Bool? = nilif b! &#123; // bä¸ºç©ºï¼Œç¼–è¯‘ä¸æŠ¥é”™ï¼Œè¿è¡Œæ—¶æŠ¥é”™ print(&quot;true&quot;)&#125; else &#123; print(&quot;false&quot;)&#125; 3. å¯é€‰ç»‘å®šä½¿ç”¨å¯é€‰ç»‘å®šå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå¯é€‰ç±»å‹æ˜¯å¦æœ‰å€¼ï¼Œå¦‚æœæœ‰å€¼ï¼Œåˆ™ç»‘å®šåˆ°å˜é‡ä¸Šï¼Œå¦‚æœæ²¡æœ‰å€¼ï¼Œè¿”å›falseï¼Œä½¿ç”¨if-letç»„åˆå®ç° var i: Int? = nilif let number = i &#123; print(&quot;\\(number)&quot;)&#125; else &#123; print(&quot;nil&quot;)&#125; å¯é€‰ç»‘å®šè¿˜æ”¯æŒç»‘å®šæ¡ä»¶ var i: Int? = nilif let number = i where i &gt; 10 &#123; print(&quot;iä¸ä¸ºç©ºä¸”å¤§äº10 \\(number)&quot;)&#125; else &#123; print(&quot;nil&quot;)&#125; å¯é€‰ç»‘å®šè¿˜æ”¯æŒå¤šä¸ªç»‘å®šï¼Œä¸è®¸æ‰€æœ‰çš„ç»‘å®šéƒ½æ»¡è¶³æ‰è¿”å›true if let firstNumber = 1, let secondNumber = 2)&#125;// è¾“å‡º &quot;4 &lt; 42 &lt; 100&quot; if let firstNumber = Int(&quot;4&quot;) &#123; if let secondNumber = Int(&quot;42&quot;) &#123; if firstNumber &lt; secondNumber &amp;&amp; secondNumber &lt; 100 &#123; print(&quot;\\(firstNumber) &lt; \\(secondNumber) &lt; 100&quot;)&#125; &#125;&#125; 4. éšå¼è§£æå£°æ˜ç±»å‹çš„æ—¶å€™å¯ä»¥ä½¿ç”¨éšå¼è§£æï¼Œå³åœ¨ä½¿ç”¨å¯é€‰å˜é‡çš„æ—¶å€™è‡ªåŠ¨å–å€¼ï¼Œä¸éœ€è¦è°ƒç”¨!æ“ä½œç¬¦ï¼Œ // ä¸€ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå¯é€‰ç±»å‹func getdog() -&gt; String? &#123; return &quot;wangcai&quot;&#125;//å‡å®šæˆ‘ä»¬é€šè¿‡getdogæ–¹æ³•è¿”å›çš„å€¼ä¸€å®šä¸ä¸ºç©ºvar dog: String? = getdog()let cat: String = dog! // ä½¿ç”¨å‰éœ€è¦é€šè¿‡!å¼ºåˆ¶å–å€¼ ä½¿ç”¨dogçš„æ—¶å€™éƒ½éœ€è¦å–å€¼æˆ‘ä»¬è§‰å¾—å¤ªéº»çƒ¦äº†ï¼Œå¯ä»¥å£°æ˜æˆéšå¼å¯é€‰ç±»å‹ï¼Œä½¿ç”¨çš„æ—¶å€™è‡ªåŠ¨å–å€¼ var dog: String! = getdog() // å®é™…ä¸Šdogè¿˜æ˜¯å¯é€‰ç±»å‹ï¼Œåªæ˜¯ä½¿ç”¨çš„æ—¶å€™å›è‡ªåŠ¨å–å€¼let cat: String = dog // åœ¨ä½¿ç”¨dogçš„æ—¶å€™ä¼šè‡ªåŠ¨è¿›è¡Œå–å€¼ï¼Œä¸éœ€è¦å–å€¼æ“ä½œç¬¦ 5. å¯é€‰ç±»å‹è‡ªåˆ¤æ–­é“¾æ¥åœ¨ä½¿ç”¨å¯é€‰ç±»å‹ä¹‹å‰ï¼Œéœ€è¦è¿›è¡Œåˆ¤æ–­å…¶æ˜¯å¦æœ‰å€¼ï¼Œæ‰èƒ½ä½¿ç”¨ï¼Œé€šè¿‡!æ“ä½œç¬¦å–å€¼åä½¿ç”¨ï¼ˆä¿è¯æœ‰å€¼çš„æƒ…å†µä¸‹ï¼‰ï¼Œæˆ–é€šè¿‡if-letå¯é€‰ç»‘å®šçš„æ–¹å¼ï¼Œswiftæä¾›äº†ä¸€ç§ç±»ä¼¼C#è¯­è¨€çš„è¯­æ³•ç³–å¯ä»¥è®©ä»£ç æ›´ä¸ºç®€æ´ï¼Œå¯ä»¥è‡ªåŠ¨åˆ¤æ–­å€¼ï¼Œå¦‚æœæœ‰å€¼ï¼Œåˆ™æ“ä½œï¼Œæ— å€¼åˆ™ä¸æ“ä½œï¼Œå¹¶è¿”å›nilï¼Œåœ¨ä½¿ç”¨å‰åŠ ä¸Š? class Person &#123; var favDog: Dog?&#125;class Dog &#123; var name: String?&#125;var p = Person()var d = Dog()// p.favDog = dp.favDog?.name = &quot;tobi&quot; // å¦‚æœp.favDogä¸ºç©ºï¼Œä¸è®¾ç½®nameif let name = p.favDog?.name &#123; // p.favDogä¸ä¸ºç©ºä¸”p.favDog.nameä¸ä¸ºç©º&#125; else &#123; // p.favDogä¸ºç©ºæˆ–p.favDog.nameä¸ºç©º&#125; è‡ªåˆ¤æ–­é“¾æ¥è¿˜æ”¯æŒå¤šè¿æ¥å¦‚ let identifier = john.residence?.address?.buildingIdentifier 6. å¯é€‰å…³è”è¿ç®—ç¬¦å¯é€‰å…³è”è¿ç®—ç¬¦å¯å¯¹å¯é€‰ç±»å‹è¿›è¡Œæ‹†åŒ…ï¼Œå¦‚æœå¯é€‰ç±»å‹å¯¹è±¡ä¸ºnilï¼Œè¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°ï¼Œç¬¬äºŒä¸ªæ“ä½œæ•°ç±»å‹å¿…é¡»å’Œç¬¬ä¸€ä¸ªæ“ä½œæ•°åŒç±»å‹ï¼ˆå¯é€‰æˆ–ä¸å¯é€‰ï¼‰ let defaultColorName = &quot;red&quot;var userDefinedColorName: String? // defaults to nilvar colorNameToUse = userDefinedColorName ?? defaultColorName defaultColorNameå’ŒuserDefinedColorNameå¿…é¡»æ˜¯åŒç±»å‹ï¼ˆStringæˆ–String?ï¼‰ å¦‚æœuserDefinedColorNameä¸ä¸ºç©ºï¼Œè¿”å›å…¶å€¼ï¼Œå¦‚æœuserDefinedColorNameä¸ºç©ºï¼Œè¿”å›defaultColorName è¿”å›å€¼colorNameToUseçš„ç±»å‹åŒ??çš„ç¬¬äºŒä¸ªæ“ä½œæ•°çš„ç±»å‹ï¼Œä¸ºString å…­ã€è¿ç®—ç¬¦swiftè¿ç®—ç¬¦åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šåšäº†ä¸€äº›æ”¹è¿›ï¼Œè¿˜æ·»åŠ äº†ä¸€ä¸‹æ›´é«˜çº§çš„ç”¨æ³•ï¼Œè¿˜æœ‰æ–°çš„è¿ç®—ç¬¦ =è¿ç®—ç¬¦ä¸è¿”å›å€¼ ç¬¦åˆè¿ç®—ç¬¦+=, -=ç­‰ä¸è¿”å›å€¼ //ä¸‹é¢è¯­å¥ä¼šæŠ¥é”™let b = a *= 2 æ¯”è¾ƒè¿ç®—ç¬¦å¯ä»¥ç”¨äºå…ƒç»„çš„æ¯”è¾ƒï¼ˆé€ä¸ªæ¯”è¾ƒï¼Œå¦‚æœé‡åˆ°ä¸ç­‰çš„å…ƒç´ ï¼Œåˆ™è¿”å›ï¼Œé»˜è®¤æœ€å¤šåªèƒ½æ¯”è¾ƒ7ä¸ªå…ƒç´ çš„å…ƒç»„ï¼Œè¶…è¿‡åˆ™éœ€è¦è‡ªå®šä¹‰ï¼‰ (1, &quot;zebra&quot;) &lt; (2, &quot;apple&quot;) // trueï¼Œå› ä¸º 1 å°äº 2 å­—ç¬¦ä¸²Stringï¼Œå­—ç¬¦Characteræ”¯æŒ+è¿ç®—ç¬¦ æµ®ç‚¹æ•°æ”¯æŒ%æ±‚ä½™è¿ç®— 8 % 2.5 // ç­‰äº 0.5 ++/--è¿ç®—åœ¨swift3è¢«æŠ›å¼ƒï¼Œç”¨+=/-=ä»£æ›¿ æ”¯æŒæº¢å‡ºè¿ç®—ç¬¦ï¼ˆ&amp;+, &amp;-, &amp;*ï¼‰ï¼Œå¯ä»¥åœ¨æº¢å‡ºæ—¶è¿›è¡Œ(é«˜ä½)æˆªæ–­ æ”¯æŒä½è¿ç®—ç¬¦ï¼ˆ&gt;&gt;, &lt;&lt;ï¼‰ æ”¯æŒä¸‰ç›®è¿ç®—ç¬¦ï¼ˆa ? b : cï¼‰ æ”¯æŒé€»è¾‘è¿ç®—ç¬¦ï¼ˆ&amp;&amp;, ||, !ï¼‰ ä¸å…¶ä»–é«˜çº§è¯­è¨€ç±»ä¼¼ï¼Œswiftè¿ç®—ç¬¦æ”¯æŒé‡è½½ï¼Œå¯ä»¥ä¸ºç±»æ·»åŠ è‡ªå®šä¹‰çš„è¿ç®—ç¬¦é€»è¾‘ï¼Œåé¢ä¼šè®²åˆ° !=, ==, ===, !==ï¼ˆæ’ç­‰äº/ä¸æ’ç­‰äºï¼‰ `===`ï¼šè¿™ä¸¤ä¸ªæ“ä½œç¬¦ç”¨äºå¼•ç”¨ç±»å‹ï¼Œç”¨äºåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦æŒ‡å‘åŒä¸€åœ°å€ `!===`ï¼šä¸`===`ç›¸åï¼Œè¡¨ç¤ºä¸¤ä¸ªå˜é‡/å¸¸é‡æŒ‡å‘çš„çš„åœ°å€ä¸åŒ `==`ï¼šè¡¨ç¤ºä¸¤ä¸ªå¯¹è±¡é€»è¾‘ç›¸ç­‰ï¼Œå¯ä»¥é€šè¿‡é‡è½½è¿ç®—ç¬¦å®ç°ç›¸ç­‰çš„é€»è¾‘ï¼Œä¸¤ä¸ªå€¼ç›¸ç­‰çš„å¯¹è±¡å¯ä»¥æ˜¯ä¸åŒåœ°å€çš„å¯¹è±¡ `!=`ï¼šä¸`==`ç›¸åï¼Œè¡¨ç¤ºä¸¤ä¸ªå¯¹è±¡é€»è¾‘ä¸ç­‰ åŒºé—´è¿ç®—ç¬¦ å¯ä»¥ä½¿ç”¨a...bè¡¨ç¤ºä¸€ä¸ªèŒƒå›´ï¼Œæœ‰ç‚¹ç±»ä¼¼äºPythonçš„range(a, b) for i in 1...5 &#123; print(i) // 1, 2, 3, 4, 5&#125; a...b: ä»aåˆ°bå¹¶åŒ…å«aå’Œb a..&lt;b: åŒ…å«aä¸åŒ…å«b a..bè¡¨ç¤ºåŠé—­åŒºé—´çš„ç”¨æ³•å·²ç»è¢«æ”¾å¼ƒ èŒƒå›´è¿ç®—ç¬¦ä¹Ÿå¯ä»¥ä½œç”¨äºå­—ç¬¦ä¸² let az = &quot;a&quot;...&quot;z&quot; // è¿”å›çš„æ˜¯CloseIntevalæˆ–HalfOpenIntervalaz.contains(&quot;e&quot;) // True ç©ºåˆè¿ç®—ç¬¦??ï¼ˆä¸C#ç±»ä¼¼ï¼‰ å¯¹äºå¯é€‰ç±»å‹å–å€¼ï¼Œå¦‚æœä¸ä¸ºç©ºåˆ™è¿”å›è¯¥å€¼ï¼Œå¦‚æœä¸ºç©ºåˆ™å»ç¬¬äºŒä¸ªæ“ä½œæ•° let result = a ?? b ä¸ƒã€æµç¨‹æ§åˆ¶swiftä½¿ç”¨ä¸‰ç§è¯­å¥æ§åˆ¶æµç¨‹ï¼šfor-inã€forã€switch-caseã€whileå’Œrepeat-whileï¼Œä¸”åˆ¤æ–­æ¡ä»¶çš„æ‹¬å·å¯ä»¥çœç•¥ let names = [&quot;Anna&quot;, &quot;Alex&quot;, &quot;Brian&quot;, &quot;Jack&quot;]for name in names &#123; print(&quot;Hello, \\(name)!&quot;)&#125;//å¦‚æœä¸éœ€è¦ä½¿ç”¨åˆ°è¿­ä»£çš„å€¼ï¼Œä½¿ç”¨ä¸‹åˆ’çº¿`_`å¿½ç•¥è¯¥å€¼for _ in 1...10 print(&quot;hello&quot;) æµç¨‹æ§åˆ¶è¯­å¥çš„æ¡ä»¶è¿”å›å€¼å¿…é¡»æ˜¯Boolï¼Œä¸‹é¢ä¼šæŠ¥é”™ var dd: Bool? = trueif dd &#123; print(&quot;fd&quot;)&#125; æ¡ä»¶åˆ¤æ–­å¯ä»¥ä¸letç»“åˆä½¿ç”¨ï¼Œå½“å€¼ä¸ºnilæ—¶ï¼Œè§†ä¸ºfalseï¼ˆå³ï¼šå¯é€‰ç»‘å®šï¼‰ var dd: Bool? = trueif let ee = dd &#123; print(&quot;fd&quot;)&#125; åœ¨Swift2.0ä»¥åï¼Œä¸æ”¯æŒdo-whileè¯­å¥ï¼Œä½¿ç”¨repeat-whileä»£æ›¿ï¼Œç”¨æ³•ä¸do-whileä¸€æ · repeat &#123; print(&quot;repeat while : \\(j)&quot;) j++ &#125; while j &lt; 3 guard-elseç¿»è¯‘ä¸ºä¿é•–æ¨¡å¼ï¼Œåœ¨æ‰§è¡Œæ“ä½œå‰ï¼Œè¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœä¸ç¬¦åˆï¼Œåˆ™æ‹¦æˆªï¼Œä½¿ç”¨æ–¹å¼ä¸ifæœ‰äº›ç±»ä¼¼ï¼Œå¦‚æœä¸letç»“åˆä½¿ç”¨ï¼Œå¯ä»¥å¯¹å¯é€‰ç±»å‹è§£åŒ…ï¼Œå…ˆçœ‹çœ‹æ™®é€šçš„if-elseæ¨¡å¼ func test(i: Int?) &#123; if let i = i where i &gt; 0 &#123; // ç¬¦åˆæ¡ä»¶çš„å¤„ç† return &#125; // ä¸ç¬¦åˆæ¡ä»¶çš„å¤„ç†&#125; ä¸Šé¢çš„å¤„ç†æŠŠæ¡ä»¶æ”¾åœ¨äº†æ¡ä»¶åˆ¤æ–­å†…éƒ¨ï¼Œä½¿ç”¨guardä¸ä¹‹ç›¸åï¼ŒæŠŠæ­£ç¡®çš„æƒ…å†µæ”¾åœ¨æœ€å¤–éƒ¨ï¼Œè€Œå¼‚å¸¸æƒ…å†µæ”¾åœ¨æ¡ä»¶åˆ¤æ–­å†…éƒ¨ func test(i: Int?) &#123; guard let i = i where i &gt; 0 else &#123; // åœ¨è¿™é‡Œæ‹¦æˆªï¼Œå¤„ç†ä¸ç¬¦åˆæ¡ä»¶çš„æƒ…å†µ return &#125; // ç¬¦åˆæ¡ä»¶çš„å¤„ç†ï¼Œè¿™ä¸ªæ—¶å€™å·²ç»å¯¹iè¿›è¡Œäº†æ‹†åŒ…ï¼Œiæ˜¯éå¯é€‰ç±»å‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ print(i)&#125; ä¿é•–æ¨¡å¼å¯ä»¥é¿å…ä»£ç ä¸­è¿‡å¤šçš„æµç¨‹åˆ¤æ–­ä»£ç å¯¼è‡´è¿‡å¤šçš„ä»£ç å—åµŒå¥—ï¼Œå¢å¼ºå¯è¯»æ€§ ä¿é•–æ¨¡å¼guard-elseå†…çš„ä»£ç å—å¿…é¡»åŒ…å«break, returnç­‰è·³å‡ºä»£ç å—çš„å…³é”®å­— switch-case switchè¯­å¥æ”¯æŒæ›´å¤šæ•°æ®ç±»å‹ï¼ˆStringï¼ŒInt, Float, å…ƒç»„, æšä¸¾ï¼‰ï¼Œç†è®ºä¸Šswitchæ”¯æŒä»»æ„ç±»å‹çš„å¯¹è±¡ï¼ˆéœ€è¦å®ç°~=æ–¹æ³•æˆ–Equatableåè®®ï¼Œè¯¦æƒ…å‚è§è¿™é‡Œï¼‰ caseå¯ä»¥å¸¦å¤šä¸ªå€¼ï¼Œç”¨é€—å·éš”å¼€ caseå¯ä»¥æ”¯æŒåŒºé—´ï¼ˆa...bï¼‰ï¼Œæ”¯æŒå…ƒç»„ï¼ŒåŒºé—´å¯ä»¥åµŒå¥—åœ¨å…ƒç»„å†…ä½¿ç”¨ caseå¤šæ¡è¯­å¥ä¸éœ€è¦ç”¨å¤§æ‹¬å·åŒ…èµ·æ¥ caseè¯­å¥ä¸éœ€è¦breakï¼Œé™¤äº†ç©ºè¯­å¥ï¼Œå¦‚æœéœ€è¦æ‰§è¡Œä¸‹é¢çš„caseï¼Œå¯ä»¥ä½¿ç”¨fallthrough å¦‚æœcaseä¸èƒ½å‘½ä¸­æ‰€æœ‰çš„æƒ…å†µï¼Œå¿…é¡»è¦defaultï¼Œå¦‚Intï¼ŒStringç±»å‹ï¼Œå¦åˆ™ç¼–è¯‘ä¼šå¤±è´¥ å¯ä»¥ç”¨fallthroughå…³é”®å­—å£°æ˜æ¥ç€æ‰§è¡Œä¸‹ä¸€æ¡caseè¯­å¥ï¼Œæ³¨æ„ï¼Œå¦‚æœcaseè¯­å¥æœ‰èµ‹å€¼è¯­å¥ï¼ˆletï¼‰ï¼Œåˆ™fallthroughæ— æ•ˆ // å®šä¹‰ä¸€ä¸ªæšä¸¾enum HttpStatus &#123; case ServerError case NetworkError case Success case Redirect&#125;var status = HttpStatus.Redirectswitch status &#123;// caseå¯ä»¥æ¥æ”¶å¤šä¸ªå€¼case HttpStatus.ServerError, HttpStatus.NetworkError: print(&quot;error&quot;) // caseè¯­å¥ç»“æŸæ˜¾å¼å†™breakï¼Œé™¤éæ˜¯ç©ºè¯­å¥case .Redirect: // å¦‚æœç¼–è¯‘å™¨å¯ä»¥è¯†åˆ«å‡ºæšä¸¾ç±»å‹ï¼Œå¯ä»¥çœç•¥æšä¸¾å print (&quot;redirect&quot;) fallthrough // åƒCè¯­è¨€ä¸€æ ·ï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¡casecase HttpStatus.Success: print(&quot;success&quot;)&#125;//å…ƒç»„ï¼ŒåŒºé—´let request = (0, &quot;https://baidu.com&quot;)switch request &#123;case (0, let a): // æ”¯æŒç»‘å®š print(a)case let (a, b) where a == 1: // ç»‘å®šå¯ä»¥å¸è½½å…ƒç»„å¤–é¢ï¼Œæ”¯æŒwhereåˆ¤æ–­ print(&quot;cancel \\(b)&quot;)case (2...10, _): // æ”¯æŒåŒºé—´ï¼Œæ”¯æŒå¿½ç•¥å€¼ print(&quot;error&quot;)default: print(&quot;unknown&quot;)&#125;// caseå¯ä»¥ä¸whereè¿›è¡Œè¿›ä¸€æ­¥åˆ¤æ–­let request2 = (0, 10)switch request2 &#123;case (0, let y) where y &lt; 5:&quot;success&quot; //è¢«è¾“å‡ºcase (0, let y) where y &gt;= 5:&quot;error&quot; //è¢«è¾“å‡ºdefault: &quot;unknown&quot;&#125; caseé™¤äº†å’Œswiftä¸€èµ·ä½¿ç”¨å¤–ï¼Œè¿˜æ”¯æŒä¸ifè¯­å¥ç»“åˆä½¿ç”¨ï¼Œç”¨æ³•ä¸switchä¸€æ · let bb = (12, &quot;bomo&quot;)if case (1...20, let cc) = bb where cc == &quot;bomo&quot; &#123; print(cc)&#125; else &#123; print(&quot;nil&quot;)&#125; å¸¦æ ‡ç­¾çš„è¯­å¥å¦‚æœæœ‰å¤šå±‚åµŒå¥—çš„æƒ…å†µä¸‹ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦åœ¨æŸå¤„ç›´æ¥é€€å‡ºå¤šå±‚å¾ªç¯ï¼Œåœ¨objcä¸‹å¹¶æ²¡æœ‰æ¯”è¾ƒå¥½çš„æ–¹å¼å®ç°ï¼Œéœ€è¦æ·»åŠ é€€å‡ºæ ‡è¯†ï¼Œç„¶åä¸€å±‚ä¸€å±‚é€€å‡ºï¼Œè€Œåœ¨swiftå¯ä»¥å¾ˆæ–¹ä¾¿çš„é€€å‡ºå¤šå±‚å¾ªç¯ï¼Œé¦–å…ˆéœ€è¦ä½¿ç”¨æ ‡ç­¾æ ‡è¯†ä¸é€šçš„å¾ªç¯ä½“ï¼Œå½¢å¼å¦‚ä¸‹ labelName : while condition &#123; statements &#125; çœ‹ä¸‹é¢ä¾‹å­ outerLoop1 : for i in 1...10 &#123; outerLoop2 : for j in 1...10 &#123; outerLoop3 : for k in 1...10 &#123; if j &gt; 5 &#123; // 1. è·³å‡ºä¸€å±‚å¾ªç¯ï¼ˆé»˜è®¤ï¼‰ç»§ç»­outerLoop2çš„å¾ªç¯ break // 2. è·³å‡ºä¸¤å±‚å¾ªç¯ï¼Œç»§ç»­outerLoop1çš„å¾ªç¯ // break outerLoop2 // 3. è·³å‡ºä¸‰å±‚å¾ªç¯ï¼Œé€€å‡ºæ•´ä¸ªå¾ªç¯ï¼Œç»§ç»­åé¢çš„è¯­å¥ // break outerLoop1 &#125; &#125; &#125;&#125; å…«ã€å‡½æ•°1. åŸºæœ¬å½¢å¼//æœ‰è¿”å›å€¼func å‡½æ•°å(å‚æ•°å1:å‚æ•°ç±»å‹1, å‚æ•°å2:å‚æ•°ç±»å‹2) -&gt; è¿”å›å€¼ç±»å‹ &#123; // å‡½æ•°ä½“&#125;//å¤šä¸ªè¿”å›å€¼ï¼ˆå…ƒç»„ï¼‰func getPoint() -&gt; (x: Int, y: Int) &#123; return (1, 3)&#125;var p = getPoint()p.x//æ— å‚æ•°æ— è¿”å›å€¼func sayHello() &#123; // å‡½æ•°ä½“&#125;//eggfunc add(a: Int, b: Int) -&gt; Int &#123; return a + b&#125;// è°ƒç”¨add(12, b: 232) å‡½æ•°è°ƒç”¨é™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåé¢æ‰€æœ‰çš„å‚æ•°å¿…é¡»å¸¦ä¸Šå‚æ•°åï¼ˆç¬¦åˆObjcçš„å‡½æ•°å‘½åè§„åˆ™ï¼‰å¦‚æœæ˜¯è°ƒç”¨æ„é€ å™¨ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¹Ÿéœ€è¦æ˜¾ç¤ºå£°æ˜ class A &#123; var name: String init(name: String) &#123; self.name = name &#125; func sayHello(msg: String, count: Int) &#123; for _ in 1...count &#123; print (msg) &#125; &#125;&#125;let a = A(name: &quot;bomo&quot;) // æ„é€ å™¨æ‰€æœ‰å‚æ•°éƒ½å¿…é¡»æ˜¾ç¤ºå£°æ˜å‚æ•°åa.sayHello(&quot;hello&quot;, count: 2) // å‡½æ•°å‚æ•°é™¤äº†ç¬¬ä¸€ä¸ªå…¶ä»–éƒ½éœ€è¦æ˜¾ç¤ºå£°æ˜å‚æ•°å 2. å¯å˜å‚æ•°å¯å˜å‚æ•°åªèƒ½ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ–¹æ³•æœ€å¤šåªæœ‰ä¸€ä¸ªå¯å˜å‚æ•° func sum(numbers: Int...) -&gt; Int &#123; var sum = 0 for number in numbers &#123; sum += number &#125; return sum&#125; 3. å¤–éƒ¨å‚æ•°åé»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä¸æŒ‡å®šå¤–éƒ¨å‚æ•°åï¼Œswiftç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºå‡½æ•°å‚æ•°å£°æ˜ä¸å†…éƒ¨å‚æ•°ååŒåçš„å¤–éƒ¨å‚æ•°åï¼ˆæ ¼å¼ä¸ºï¼šå¤–éƒ¨å‚æ•°å å†…éƒ¨å‚æ•°å: ç±»å‹åï¼‰ //é»˜è®¤æƒ…å†µä¸‹ï¼Œå¤–éƒ¨å‚æ•°åä¸å†…éƒ¨å‚æ•°åä¸€æ ·func add(first a: Int, second b: Int) -&gt; Int &#123; return a + b&#125;// è°ƒç”¨add(first: 10, second: 20) å¦‚æœå‡½æ•°åœ¨ç¬¬ä¸€ä¸ªå‚æ•°å®šä¹‰å¤–éƒ¨å‚æ•°åï¼Œå¿…é¡»æ˜¾ç¤ºæŒ‡å®šï¼Œå½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ä¸‹åˆ’çº¿_è®©å‡½æ•°å¿½ç•¥å‚æ•°å func add(a: Int, _ b: Int) -&gt; Int &#123; return a + b&#125;add(1, 2) 4. å‡½æ•°é»˜è®¤å€¼å‡½æ•°è¿˜æ”¯æŒå£°æ˜é»˜è®¤å€¼ï¼Œï¼ˆæ ¼å¼ä¸ºï¼šå¤–éƒ¨å‚æ•°å å†…éƒ¨å‚æ•°å: ç±»å‹å = é»˜è®¤å€¼ï¼‰ func log(msg: String, isDebug: Bool = true) &#123; if isDebug &#123; print(msg) &#125;&#125;log(&quot;fail&quot;)log(&quot;success&quot;, isDebug: false) å¦‚æœä½¿ç”¨é»˜è®¤å€¼å¹¶ä¸”é»˜è®¤å€¼ä¸æ˜¯å‡ºç°åœ¨æœ€åï¼Œé‚£è°ƒç”¨çš„æ—¶å€™å¿…é¡»å†™å…¨æ‰€æœ‰å‚æ•° å»ºè®®æŠŠé»˜è®¤å‚æ•°æ”¾åˆ°æœ€åé¢ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿éé»˜è®¤å‚æ•°çš„èµ‹å€¼é¡ºåºï¼Œå‡å°‘å‚æ•°æ··ä¹±çš„æƒ…å†µ 5. é—­åŒ… å‡½æ•°ä½œä¸ºå˜é‡ å‡½æ•°ä½œä¸ºå‡½æ•°å‚æ•° å‡½æ•°ä½œä¸ºå‡½æ•°è¿”å›å€¼ é—­åŒ…å‡½æ•°å£°æ˜func add(a: Int, b: Int) -&gt; Int &#123; return a + b&#125;//å‡½æ•°ä½œä¸ºå˜é‡ï¼Œå‡½æ•°helloèµ‹ç»™somefuncï¼Œå¹¶è°ƒç”¨let somefunc: (Int, Int) -&gt; Int = addsomefunc(10, 20) // 30//å‡½æ•°ä½œä¸ºå‚æ•°func logAdd(a:Int, b:Int, function: (Int, Int) -&gt; Int) &#123; // å‡½æ•°å†…å®¹ print(&quot;begin&quot;) function(a, b) print(&quot;end&quot;)&#125;logAdd(12, b: 23, function: add)//å‡½æ•°ä½œä¸ºè¿”å›å€¼ï¼ˆåŒ…è£…ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨æ‰§è¡Œå‰åè¾“å‡ºä¿¡æ¯ï¼‰ï¼Œå‡½æ•°ä½œä¸ºå‚æ•°åˆä½œä¸ºè¿”å›å€¼func addWrapper(addFunc: (Int, Int) -&gt; Int) -&gt; ((Int, Int) -&gt; Int) &#123; // å‡½æ•°å†…å®¹ func wrapper(a: Int, b: Int) -&gt; Int &#123; print(&quot;begin&quot;) let res = addFunc(a, b) print(&quot;end&quot;) return res &#125; return wrapper&#125;var newAdd = addWrapper(add)newAdd(12, 32) é—­åŒ…å‡½æ•°å£°æ˜å½¢å¼ &#123; (parameters) -&gt; returnType in statements // å¯ä»¥æœ‰å¤šè¡Œ&#125; é—­åŒ…å‡½æ•° //å®šä¹‰ä¸€ä¸ªå‡½æ•°å˜é‡var addfunc: (Int, Int) -&gt; Int//é—­åŒ…çš„å†™æ³•// 1. å®Œæ•´å†™æ³•addfunc = &#123;(a: Int, b: Int) -&gt; (Int) in //var c = a + 1 //å‡½æ•°ä½“å¯ä»¥æœ‰å¤šæ¡è¯­å¥ï¼Œå¦‚æœåœ¨åŒä¸€è¡Œï¼Œéœ€è¦ç”¨åˆ†å·éš”å¼€ï¼Œå‡½æ•°ä½“ä¸éœ€è¦å¤§æ‹¬å· return a + b&#125;// 2. å‰é¢çš„addfuncå˜é‡å¯ä»¥æ¨æ–­å‡ºåé¢å‡½æ•°çš„å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ï¼Œæ•…å¯ä»¥çœç•¥addfunc = &#123;(a, b) in return a + b&#125;// 3. å‚æ•°åˆ—è¡¨æ‹¬å·å¯ä»¥çœå»ï¼Œå‡½æ•°åªæœ‰ä¸€æ¡è¯­å¥æ—¶ï¼Œreturnå¯ä»¥çœç•¥addfunc = &#123;a, b in a + b&#125;// 4. å‚æ•°å’Œinå¯ä»¥çœå»ï¼Œé€šè¿‡$å’Œç´¢å¼•å–å¾—å‚æ•°addfunc = &#123;$0 + $1&#125;// æ“ä½œç¬¦éœ€è¦çš„å‚æ•°ä¸å‡½æ•°å‚æ•°ä¸€è‡´ï¼Œå¯ä»¥çœå»å‚æ•°ï¼Œå¹¶ä½¿ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œä½œä¸ºå‚æ•°æ—¶ï¼Œå¯ä¸ç”¨æ‹¬å·addfunc = (+) 6. Trailing(å°¾è¡Œ)é—­åŒ…å¦‚æœå‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ï¼Œå¹¶ä¸”æ˜¯æœ€åä¸€ä¸ªå‚æ•°æ—¶ï¼Œå¯ä»¥é€šè¿‡Trainlingé—­åŒ…æ¥å¢å¼ºå‡½æ•°çš„å¯è¯»æ€§ func someFunctionThatTakesAClosure(a: Int, closure: () -&gt; ()) &#123; // å‡½æ•°ä½“éƒ¨åˆ†&#125;// 1. ä¸€èˆ¬å½¢å¼someFunctionThatTakesAClosure(10, closure: &#123; // é—­åŒ…ä¸»ä½“éƒ¨åˆ†&#125;)// 2. Trainlingé—­åŒ…çš„æ–¹å¼someFunctionThatTakesAClosure(10) &#123; // é—­åŒ…ä¸»ä½“éƒ¨åˆ†&#125;// 3. å¦‚æœæ²¡æœ‰å…¶ä»–å‚æ•°æ—¶ï¼Œå¯ä»¥çœç•¥æ‹¬å·someFunctionThatTakesAClosure &#123; // é—­åŒ…ä¸»ä½“éƒ¨åˆ†&#125; 7. Escapingï¼ˆé€ƒé€¸ï¼‰é—­åŒ…å¦‚æœä¸€ä¸ªé—­åŒ…/å‡½æ•°ä½œä¸ºå‚æ•°ä¼ ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œä½†è¿™ä¸ªé—­åŒ…åœ¨ä¼ å…¥å‡½æ•°è¿”å›ä¹‹åæ‰ä¼šæ‰§è¡Œï¼Œå°±ç§°è¯¥é—­åŒ…åœ¨å‡½æ•°ä¸­â€é€ƒé€¸â€ï¼Œéœ€è¦åœ¨å‡½æ•°å‚æ•°æ·»åŠ @escapingå£°æ˜ï¼Œæ¥å£°æ˜è¯¥é—­åŒ…/å‡½æ•°å…è®¸ä»å‡½æ•°ä¸­â€é€ƒé€¸â€ï¼Œå¦‚ä¸‹ var completionHandlers: [() -&gt; Void] = []// ä¼ å…¥çš„é—­åŒ…/å‡½æ•°å¹¶æ²¡æœ‰åœ¨å‡½æ•°å†…æ‰§è¡Œï¼Œéœ€è¦åœ¨å‡½æ•°ç±»å‹é’±æ·»åŠ @escapingå£°æ˜func someFunctionWithEscapingClosure(completionHandler: @escaping () -&gt; Void) &#123; completionHandlers.append(completionHandler)&#125; é€ƒé€¸é—­åŒ…åªæ˜¯ä¸€ä¸ªå£°æ˜ï¼Œä»¥å¢å¼ºå‡½æ•°çš„æ„å›¾ 8. è‡ªåŠ¨é—­åŒ…å¯¹äºæ²¡æœ‰å‚æ•°çš„é—­åŒ…ï¼Œswiftæä¾›äº†ä¸€ç§ç®€å†™çš„æ–¹å¼ï¼Œç›´æ¥å†™å‡½æ•°ä½“ï¼Œä¸éœ€è¦å‡½æ•°å½¢å¼ï¼ˆè¿”å›å€¼å’Œå‚æ•°åˆ—è¡¨ï¼‰ï¼Œå¦‚ä¸‹ // å£°æ˜ä¸€ä¸ªè‡ªåŠ¨é—­åŒ…ï¼ˆæ— å‚æ•°ï¼Œå¯ä»¥æœ‰è¿”å›å€¼ï¼Œè¿”å›å€¼ç±»å‹swiftå¯ä»¥è‡ªåŠ¨è¯†åˆ«ï¼‰let sayHello = &#123; print(&quot;hello world&quot;) &#125;//è°ƒç”¨é—­åŒ…å‡½æ•°sayHello() è‡ªåŠ¨é—­åŒ…åªæ˜¯é—­åŒ…çš„ä¸€ç§ç®€å†™æ–¹å¼ å¦‚æœä¸€ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªä¸å¸¦å‚æ•°çš„é—­åŒ… func logIfTrue(predicate: () -&gt; Bool) &#123; if predicate() &#123; print(&quot;True&quot;) &#125;&#125; è°ƒç”¨çš„æ—¶å€™å¯ä»¥ä½¿ç”¨è‡ªåŠ¨é—­åŒ… logIfTrue(predicate: &#123; return 1 &lt; 2 &#125;)// å¯ä»¥ç®€åŒ–returnlogIfTrue(predicate: &#123; 1 &lt; 2 &#125;) ä¸Šé¢ä»£ç çœ‹èµ·æ¥å¯è¯»æ€§ä¸æ˜¯å¾ˆå¥½ï¼Œswiftå¼•å…¥äº†ä¸€ä¸ªå…³é”®å­—@autoclosureï¼Œç®€åŒ–è‡ªåŠ¨é—­åŒ…çš„å¤§æ‹¬å·ï¼Œåœ¨é—­åŒ…ç±»å‹å‰é¢æ·»åŠ è¯¥å…³é”®å­—å£°æ˜ func logIfTrue(predicate: @autoclosure () -&gt; Bool) &#123; if predicate() &#123; print(&quot;True&quot;) &#125;&#125;// è°ƒç”¨logIfTrue(predicate:1 &lt; 2) @autoclosure å…³é”®å­—æ˜¯ä¸ºäº†ç®€åŒ–é—­åŒ…çš„å†™æ³•ï¼Œå¢å¼ºå¯è¯»æ€§ï¼Œè¿™é‡Œçš„ä¾‹å­æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥å‚è€ƒï¼š@AUTOCLOSURE å’Œ ?? 9. å¸¸é‡å‚æ•°å’Œå˜é‡å‚æ•°é»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰å‡½æ•°å‚æ•°éƒ½æ˜¯å¸¸é‡ï¼Œæ„å‘³ç€å‚æ•°æ˜¯ä¸å¯å˜çš„ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾å¼çš„å£°æ˜å‚æ•°ä¸ºå˜é‡ func log(msg: String) &#123; msg = &quot;begin &quot; + msg + &quot; end&quot; // ä¼šæŠ¥é”™ï¼Œå› ä¸ºmsgä¸ºå¸¸é‡ print(msg)&#125;func log(var msg: String) &#123; msg = &quot;begin &quot; + msg + &quot; end&quot; // å˜é‡å‚æ•°æ­£å¸¸è¿è¡Œ print(msg)&#125; æ³¨ï¼šå˜é‡å‚æ•°åœ¨swift3è¢«æŠ›å¼ƒ 10. è¾“å…¥è¾“å‡ºå‚æ•°åœ¨cè¯­è¨€é‡Œæœ‰æŒ‡é’ˆï¼Œå¯ä»¥é€šè¿‡ä¼ å€ç›´æ¥ä¿®æ”¹å¤–éƒ¨å˜é‡çš„å€¼ï¼Œåœ¨swifté€šè¿‡inoutå…³é”®å­—å£°æ˜å‡½æ•°å†…éƒ¨å¯ç›´æ¥ä¿®æ”¹å¤–éƒ¨å˜é‡ï¼Œå¤–éƒ¨é€šè¿‡&amp;æ“ä½œç¬¦å–å¾—å˜é‡åœ°å€ func swap(inout a: Int, inout b: Int) &#123; let temp = a a = b b = temp&#125;var a = 19, b = 3swap(&amp;a, &amp;b) 11. åµŒå¥—å‡½æ•°swiftçš„å‡½æ•°è¿˜æ”¯æŒåµŒå¥—ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒåµŒå¥—å‡½æ•°å¯¹å¤–éƒ¨ä¸å¯è§ï¼Œåªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ func chooseStepFunction(backward: Bool) -&gt; (Int) -&gt; Int &#123; //å®šä¹‰ä¸¤ä¸ªå†…éƒ¨å‡½æ•° func stepForward(input: Int) -&gt; Int &#123; return input + 1 &#125; func stepBackward(input: Int) -&gt; Int &#123; return input - 1 &#125; return backward ? stepBackward : stepForward&#125; åµŒå¥—å‡½æ•°ç›¸å½“äºobjcå‡½æ•°å†…çš„block 12. deferåœ¨swift2.0ä¹‹åæ·»åŠ äº†deferå…³é”®å­—ï¼Œå¯ä»¥å®šä¹‰ä»£ç å—åœ¨å‡½æ•°æ‰§è¡Œå®Œæˆä¹‹å‰çš„å®Œæˆä¸€äº›æ“ä½œï¼Œå¹¶ä¸”åœ¨å‡½æ•°æŠ›å‡ºé”™è¯¯çš„æ—¶å€™ä¹Ÿå¯ä»¥æ‰§è¡Œ func test() &#123; print(&quot;begin1&quot;) defer &#123; // å…¥æ ˆ print(&quot;end1&quot;) &#125; print(&quot;begin2&quot;) defer &#123; // å…¥æ ˆ print(&quot;end2&quot;) &#125; if true &#123; print(&quot;begin4&quot;) defer &#123; print(&quot;end4&quot;) &#125; print(&quot;begin5&quot;) defer &#123; print(&quot;end5&quot;) &#125; &#125; print(&quot;do balabala&quot;) return&#125; ä¸Šé¢è¾“å‡ºç»“æœä¸º begin1begin2begin4begin5end5end4do balabalaend2end1 é€šå¸¸å¯ä»¥ç”¨åœ¨éœ€è¦æˆå¯¹æ“ä½œçš„é€»è¾‘ä¸­ï¼ˆå¦‚ï¼šopen/closeï¼‰ ä¹ã€æšä¸¾swiftçš„æšä¸¾æ¯”Cè¯­è¨€çš„æšä¸¾æ›´ä¸ºå¼ºå¤§ï¼Œæ”¯æŒæ›´å¤šç‰¹æ€§ï¼Œswiftçš„æšä¸¾æ›´åƒç±»å’Œç»“æ„ä½“ï¼Œæ”¯æŒç±»å’Œç»“æ„ä½“çš„ä¸€äº›ç‰¹æ€§ï¼Œä¸ObjCä¸åŒï¼Œå¦‚æœä¸å£°æ˜æšä¸¾çš„å€¼ï¼Œç¼–è¯‘å™¨ä¸ä¼šç»™æšä¸¾è®¾ç½®é»˜è®¤å€¼ æšä¸¾ä¸ç»“æ„ä½“ä¸€æ ·ï¼Œæ˜¯å€¼ç±»å‹ 1. å£°æ˜å’Œä½¿ç”¨// 1. å®šä¹‰æšä¸¾enum CompassPoint &#123; case North case South case East case West&#125;// 2. å¯ä»¥æŠŠæšä¸¾å€¼å®šä¹‰åœ¨ä¸€è¡Œï¼Œç”¨é€—å·éš”å¼€enum CompassPoint2 &#123; case North, South, East, West&#125;// 3. åƒå¯¹è±¡ä¸€æ ·ä½¿ç”¨æšä¸¾ï¼Œä»£ç ç»“æ„æ›´ä¸ºæ¸…æ™°ï¼Œæšä¸¾æ›´ä¸ºç®€çŸ­let direction = CompassPoint.East// 4. å¦‚æœç¼–è¯‘å™¨å¯ä»¥è¯†åˆ«å‡ºæšä¸¾çš„ç±»å‹ï¼Œå¯ä»¥çœç•¥æšä¸¾ålet direction2: CompassPointdirection2 = .East// 5. å¦‚æœç¼–è¯‘å™¨èƒ½ç¡®å®šcaseå‘½ä¸­æ‰€æœ‰çš„æƒ…å†µï¼Œå¯ä»¥ä¸éœ€è¦defaultswitch direction &#123;case .East: print(&quot;east&quot;)case .West: print(&quot;west&quot;)case .South: print(&quot;south&quot;)case .North: print(&quot;north&quot;) //æ‰€æœ‰å€¼éƒ½è¢«æšä¸¾ï¼Œåˆ™ä¸éœ€è¦default&#125; 2. åµŒå¥—æšä¸¾swiftçš„æšä¸¾å®šä¹‰æ”¯æŒåµŒå¥—ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ä¸€å±‚ä¸€å±‚å¼•ç”¨ enum Character &#123; enum Weapon &#123; case Bow case Sword case Lance case Dagger &#125; enum Helmet &#123; case Wooden case Iron case Diamond &#125; case Thief case Warrior case Knight&#125;let character = Character.Thieflet weapon = Character.Weapon.Bowlet helmet = Character.Helmet.Iron 3. é€’å½’æšä¸¾æšä¸¾çš„å…³è”å€¼çš„ç±»å‹å¯ä»¥è®¾ä¸ºæšä¸¾è‡ªèº«ï¼Œè¿™æ ·çš„æšä¸¾ç§°ä¸ºé€’å½’æšä¸¾ enum ArithmeticExpression &#123; case number(Int) indirect case addition(ArithmeticExpression, ArithmeticExpression) indirect case multiplication(ArithmeticExpression, ArithmeticExpression)&#125; å¸¦é€’å½’ç±»å‹çš„æšä¸¾éœ€è¦åœ¨caseå‰é¢æ·»åŠ å…³é”®å­—å£°æ˜indirectï¼Œä¹Ÿå¯ä»¥åœ¨enumå‰é¢åŠ ä¸Šå£°æ˜ï¼Œè¡¨ç¤ºæ‰€æœ‰çš„æˆå‘˜æ˜¯å¯ä»¥é€’å½’çš„ indirect enum ArithmeticExpression &#123; case number(Int) case addition(ArithmeticExpression, ArithmeticExpression) case multiplication(ArithmeticExpression, ArithmeticExpression)&#125; ä½¿ç”¨é€’å½’æšä¸¾å–å€¼çš„æ—¶å€™å¯ä»¥ä½¿ç”¨é€’å½’å‡½æ•° func evaluate(_ expression: ArithmeticExpression) -&gt; Int &#123; switch expression &#123; case let .number(value): return value case let .addition(left, right): return evaluate(left) + evaluate(right) case let .multiplication(left, right): return evaluate(left) * evaluate(right) &#125;&#125;let five = ArithmeticExpression.number(5)let four = ArithmeticExpression.number(4)let sum = ArithmeticExpression.addition(five, four)// (5 + 4) * 2let product = ArithmeticExpression.multiplication(sum, ArithmeticExpression.number(2))print(evaluate(product)) å…¶å®æ„Ÿè§‰è¿™ç§åµŒå¥—å¤šå±‚çš„ç”¨æ³•å¯è¯»æ€§å¹¶ä¸æ˜¯ç‰¹åˆ«å¥½ï¼Œè€Œä¸”åœ¨å–å€¼çš„æ—¶å€™è¿˜éœ€è¦é€’å½’ï¼Œé€šå¸¸æ¥è¯´ï¼ŒåµŒå¥—ä¸€å±‚å°±å¤Ÿäº† 4. åŸå§‹å€¼ä¸Cè¯­è¨€ä¸€æ ·ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªæšä¸¾æŒ‡å®šå€¼ï¼Œå¹¶ä¸”å¯ä»¥æ”¯æŒæ›´å¤šç±»å‹ï¼ˆInt, Float, Character, Stringï¼‰ // å®šä¹‰æšä¸¾ï¼Œå¹¶åˆå§‹åŒ–åŸå§‹å€¼enum ASCIIControlCharacter: Character &#123; case Tab = &quot;\\t&quot; case LineFeed = &quot;\\n&quot; case CarriageReturn = &quot;\\r&quot;&#125;// 2. é€šè¿‡ä¸¤ä¸ªå±æ€§è·å¾—åŸå§‹å€¼var ch = ASCIIControlCharacter.Tabch.hashValue // è·å–æ˜¯å¦æœ‰åŸå§‹å€¼ch.rawValue // è·å¾—åŸå§‹å€¼// 3. é€šè¿‡åŸå§‹å€¼æ„é€ æšä¸¾ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›nilvar tab = ASCIIControlCharacter.init(rawValue: &quot;\\t&quot;)// 4. å¦‚æœæ˜¯åŸå§‹å€¼æ˜¯æ•´å½¢å€¼ï¼Œåé¢çš„å€¼é»˜è®¤è‡ªå¢1ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤ä¸ºç©ºï¼Œè€Œä¸æ˜¯ä»0å¼€å§‹enum Planet: Int &#123; case Mercury = 1, Venus // Venus = 2 case Neptune // Neptune = 3&#125;// 5. å¦‚æœæ²¡æœ‰æŒ‡å®šæšä¸¾åŸå§‹å€¼çš„ç±»å‹ï¼Œåˆ™é»˜è®¤ä¸ºç©ºï¼Œè€Œä¸æ˜¯æ•´å‹enum CompassPoint &#123; case North case South case East case West&#125;//swift ä¸ä¼šä¸ºNorth, South, East, Westè®¾ç½®ä¸º0,1,2,3ï¼Œå¹¶ä¸”CompassPointæ²¡æœ‰åŸå§‹å€¼ï¼ˆrawValueï¼‰// 6. æœ‰åŸå§‹å€¼çš„æšä¸¾å¯ä»¥é€šè¿‡åŸå§‹å€¼æ„é€ ï¼ˆæ„é€ å™¨è¿”å›å¯é€‰ç±»å‹ï¼‰let lineFeed = ASCIIControlCharacter(rawValue: &quot;\\n&quot;) 5. å…³è”å€¼ä¸Šé¢æˆ‘ä»¬è¯´åˆ°ï¼Œæšä¸¾ä¸ç±»å’Œç»“æ„ä½“ç±»ä¼¼ï¼Œswiftçš„æšä¸¾å¯ä»¥ç»™ä¸åŒçš„æšä¸¾å€¼ç»‘å®šå…³è”å€¼ï¼Œå¦‚ä¸‹ enum Barcode &#123; case UPCA(Int, Int, Int) //æ¡å½¢ç ï¼Œå…³è”ä¸€ä¸ªå…ƒç»„ case QRCode(String) //äºŒç»´ç ï¼Œå…³è”ä¸€ä¸ªå­—ç¬¦ä¸²&#125;var productBarcode = Barcode.UPCA(8, 85909_51226, 3)// var productBarcode = .QRCode(&quot;http://www.baidu.com&quot;)switch productBarcode &#123;case .UPCA(let a, let b, let c): //åœ¨æšä¸¾çš„æ—¶å€™å¯ä»¥å–å¾—å…³è”å€¼ print(&quot;barcode: \\(a)\\(b)\\(c)&quot;)case let .QRCode(value): print(&quot;qrcode: \\(value)&quot;)&#125; å¦‚ä¸Šé¢è¿™ç§è½»é‡çš„æ•°æ®ï¼Œåœ¨OCä¸Šä¸€èˆ¬æˆ‘ä»¬å¯èƒ½éœ€è¦å®šä¹‰ä¸¤ä¸ªç±»å®ç°ï¼Œè€Œswiftçš„æšä¸¾å¯ä»¥è½»æ¾çš„å¤„ç†è¿™ç§è½»é‡æ•°æ®ï¼Œè€Œå‡å°‘é¡¹ç›®ä¸­ç±»çš„å®šä¹‰å’Œç»´æŠ¤ åã€ç±»ä¸ç»“æ„ä½“å…ˆæ¥çœ‹çœ‹ç»“æ„ä½“å’Œç±»çš„ä¸€äº›å·®å¼‚ ç±»æ˜¯å¼•ç”¨ç±»å‹ï¼Œç»“æ„ä½“ä¸ºå€¼ç±»å‹ ç±»ä½¿ç”¨å¼•ç”¨è®¡æ•°ç®¡ç†å†…å­˜ï¼Œç»“æ„ä½“åˆ†é…åœ¨æ ˆä¸Šï¼Œæœ‰ç³»ç»Ÿç®¡ç†å†…å­˜ï¼Œå˜é‡ä¼ é€’çš„æ—¶å€™ï¼Œç»“æ„ä½“æ•´ä¸ªæ‹·è´ï¼Œè€Œç±»é»˜è®¤åªä¼ é€’å¼•ç”¨åœ°å€ï¼ˆæœ‰äº›ç±»ä¼šè¿›è¡Œä¸€äº›é¢å¤–çš„æ‹·è´ï¼Œè¯¦è§æ·±æ‹·è´å’Œæµ…æ‹·è´ï¼‰ ç»“æ„ä½“ä¸æ”¯æŒç»§æ‰¿ï¼Œç±»æ”¯æŒç»§æ‰¿ ä¸ObjCä¸åŒï¼Œswiftçš„ç»“æ„ä½“å¯ä»¥å®šä¹‰æ–¹æ³• ç±»æ”¯æŒè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ï¼Œè€Œç»“æ„ä½“ä¸æ”¯æŒ ç±»æœ‰æ„é€ å™¨å’Œææ„å™¨ï¼Œç»“æ„ä½“åªæœ‰æ„é€ å™¨ å¸¸é‡ç»“æ„ä½“çš„æˆå‘˜çš„å€¼ä¸èƒ½æ”¹å˜ å®é™…ä¸Šï¼Œåœ¨ Swift ä¸­ï¼Œæ‰€æœ‰çš„åŸºæœ¬ç±»å‹:æ•´æ•°(Integer)ã€æµ® ç‚¹æ•°(floating-point)ã€å¸ƒå°”å€¼(Boolean)ã€å­—ç¬¦ä¸²(string)ã€æ•°ç»„(array)å’Œå­—å…¸(dictionary)ï¼Œéƒ½æ˜¯ å€¼ç±»å‹ï¼Œå¹¶ä¸”åœ¨åº•å±‚éƒ½æ˜¯ä»¥ç»“æ„ä½“çš„å½¢å¼æ‰€å®ç°ã€‚ 1. ç»“æ„ä½“ï¼Œç±»å®šä¹‰struct Point &#123; let x: Int let y: Int func printPoint() &#123; print(&quot;x=\\(x), y=\\(y)&quot;) &#125;&#125;class Person &#123; var someObj = NSObject() // å®šä¹‰å±æ€§ï¼Œå¹¶åˆå§‹åŒ– var name: String // å®šä¹‰å±æ€§ï¼Œå¹¶æŒ‡å®šç±»å‹ init(name: String) &#123; // æ„é€ å‡½æ•° self.name = name &#125; func hello() &#123; print(&quot;hello \\(self.name)&quot;) &#125; //ææ„å‡½æ•° deinit &#123; print(&quot;dealloc&quot;) &#125;&#125; swiftä¸­ï¼Œè®¸å¤šåŸºæœ¬ç±»å‹å¦‚String, Arrayå’ŒDictionaryéƒ½æ˜¯ç”¨ç»“æ„ä½“å®ç°çš„ï¼Œæ„å‘³ç€åœ¨ä¼ é€’çš„æ—¶å€™éƒ½ä¼šè¿›è¡Œå€¼æ‹·è´ï¼Œå½“ç„¶swiftä¹Ÿå¯¹è¿™äº›ç±»å‹è¿›è¡Œäº†ä¼˜åŒ–ï¼Œåªæœ‰åœ¨éœ€è¦çš„æ—¶å€™è¿›è¡Œæ‹·è´ 2. é™æ€å±æ€§ï¼Œé™æ€æ–¹æ³•swiftä¸­æœ‰ä¸¤ä¸ªstaticå’Œclasså£°æ˜é™æ€å˜é‡æˆ–æ–¹æ³•ï¼Œå…¶ä¸­classåªèƒ½ç”¨åœ¨ç±»çš„æ–¹æ³•å’Œè®¡ç®—å±æ€§ä¸Šï¼Œå…¶ä»–çš„éƒ½ä½¿ç”¨staticï¼Œç”±äºç±»æ”¯æŒç»§æ‰¿ï¼Œæ‰€ä»¥ä½¿ç”¨classå£°æ˜çš„é™æ€æ–¹æ³•å¯ä»¥è¢«ç»§æ‰¿ï¼Œè€Œstaticå£°æ˜çš„é™æ€æ–¹æ³•ä¸èƒ½è¢«ç»§æ‰¿ class Person &#123; static var instanceCount: Int = 0 // å£°æ˜ä¸€ä¸ªç±»å±æ€§ init () &#123; Person.instanceCount += 1 // é€šè¿‡ç±»åå¼•ç”¨ç±»å±æ€§ï¼Œå­ç±»å¯ä»¥è®¿é—®åŸºç±»çš„ç±»å±æ€§ &#125; // ä½¿ç”¨classå£°æ˜çš„é™æ€æ–¹æ³•å¯ä»¥è¢«ç»§æ‰¿ class func overrideableComputedTypeProperty() &#123; print(&quot;\\(Person.instanceCount)&quot;) &#125; // ä½¿ç”¨staticå£°æ˜çš„é™æ€æ–¹æ³•ä¸èƒ½è¢«ç»§æ‰¿ static func printInstanceCount() &#123; // å£°æ˜ä¸€ä¸ªé™æ€æ–¹æ³• print(&quot;\\(Person.instanceCount)&quot;) &#125;&#125; ç±»å’Œç»“æ„ä½“çš„å£°æ˜å’Œç”¨æ³•ä¸ç±»ç±»ä¼¼ï¼Œä½¿ç”¨static æ³¨æ„ï¼šclassåªèƒ½ç”¨æ¥å£°æ˜è®¡ç®—å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç”¨æ¥å£°æ˜æ™®é€šå±æ€§ 3. æ„é€ å™¨å’Œææ„å™¨swiftçš„æ„é€ å™¨è§„åˆ™å’Œé™åˆ¶æ¯”è¾ƒå¤šï¼Œå…³äºæ„é€ å™¨å¯ä»¥å‚è§ï¼šè¿™é‡Œ ææ„å™¨ç›¸å½“äºobjcé‡Œé¢çš„deallocæ–¹æ³•ï¼Œåšä¸€äº›éœ€è¦æ‰‹åŠ¨é‡Šæ”¾èµ„æºçš„æ“ä½œï¼Œææ„å™¨ä¸æ„é€ å™¨ä¸åŒï¼Œæ²¡æœ‰å‚æ•°ï¼Œå®šä¹‰çš„æ—¶å€™ä¸éœ€è¦æ‹¬å·ï¼Œç±»åœ¨é‡Šæ”¾çš„ä¹‹å‰ä¼šè‡ªåŠ¨è°ƒç”¨çˆ¶ç±»çš„ææ„å™¨ï¼Œä¸éœ€è¦ä¸»åŠ¨è°ƒç”¨ class Person &#123; deinit &#123; print(&quot;é‡Šæ”¾é¢å¤–çš„èµ„æºï¼Œå¦‚é€šçŸ¥&quot;) &#125;&#125; 4. ç±»å‹åˆ¤æ–­åœ¨objcä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨isKindOfClass, isMemberOfClass, isSubclassOfClassç­‰æ–¹æ³•è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œswiftä½¿ç”¨iså’Œasåˆ¤æ–­ç±»å‹ class Parent &#123;&#125;class Son: Parent &#123;&#125;var s = Son()// isKindOfClassson is Son // trueson is Parent // true// isMemberOfClassson.dynamicType == Son.self // trueson.dynamicType == Parent.self // false// isSubclassOfClass æš‚æ—¶æ²¡æ‰¾åˆ°ç›¸å…³çš„API //TODO: swiftåŠ¨æ€æ€§ï¼Œåå°„ 5. å¼±å¼•ç”¨ä¸ObjCä¸€æ ·ï¼Œswiftçš„å†…å­˜ç®¡ç†ä¹Ÿä½¿ç”¨å¼•ç”¨è®¡æ•°ç®¡ç†ï¼Œä¹Ÿä½¿ç”¨weakå£°æ˜å¼±å¼•ç”¨å˜é‡ class Person &#123; weak var person: Person? = nil&#125; 6. è®¿é—®çº§åˆ«åœ¨swiftä¸­ï¼Œframeworkå’Œbundleéƒ½è¢«å¤„ç†æˆæ¨¡å— * publicï¼šå…¬å¼€ï¼Œå¯ä»¥è¢«å¤–éƒ¨è®¿é—® * internalï¼šå†…éƒ¨ï¼Œåœ¨æ¨¡å—ï¼ˆframeworkï¼‰å†…éƒ¨ä½¿ç”¨ï¼Œæ¨¡å—å¤–è®¿é—®ä¸åˆ° * privateï¼šåªèƒ½åœ¨å½“å‰æºæ–‡ä»¶ä¸­ä½¿ç”¨swifté»˜è®¤çš„è®¿é—®çº§åˆ«ä¸ºInternalï¼Œä½¿ç”¨çš„æ—¶å€™åªéœ€è¦åœ¨ç±»/å˜é‡/å‡½æ•°å‰é¢åŠ ä¸Šè®¿é—®çº§åˆ«å³å¯ public class Person &#123; class public var peopleCount: Int = 0 // ç±»å˜é‡ï¼Œé€šè¿‡classå£°æ˜ï¼Œç±»å˜é‡ä½¿ç”¨æ—¶ä½¿ç”¨ç±»åå¼•ç”¨ internal var age: Int // å®ä¾‹å˜é‡ var name: String // ä¸å£°æ˜ï¼Œåˆ™ä¸ºinternal init() &#123; self.age = 0 self.name = &quot;&quot; Person.peopleCount++ // ä½¿ç”¨é™æ€å˜é‡ &#125; private func sayHello() &#123; print(&quot;hello&quot;) &#125;&#125; å¤–å±‚è®¿é—®çº§åˆ«çš„å¿…é¡»æ˜¯æ¯”æˆå‘˜æ›´é«˜ï¼Œä¸‹é¢ä¼šæŠ¥è­¦å‘Š class Person &#123; // é»˜è®¤ä¸ºinternal public var age: Int = 0 // ä¸ºpublicï¼Œæ¯”ç±»è®¿é—®çº§åˆ«é«˜ï¼Œä¼šæœ‰è­¦å‘Š private var gender: Int = 10 private func sayHello() &#123; print(&quot;hello&quot;) &#125;&#125; å‡½æ•°çš„è®¿é—®çº§åˆ«è¦æ¯”å‚æ•°(æˆ–æ³›å‹ç±»å‹)çš„è®¿é—®çº§åˆ«ä½ï¼Œå¦åˆ™ä¼šæŠ¥è­¦å‘Š private class PrivatePerson &#123; private var age: Int = 0 var gender: Int = 10 // æŠ¥è­¦å‘Š private func sayHello() &#123; &#125;&#125;public class Test &#123; public func test(person:PrivatePerson) &#123; //æŠ¥ç¼–è¯‘é”™è¯¯ï¼šè¿™é‡Œå‚æ•°è®¿é—®çº§åˆ«ä¸ºprivateï¼Œæ‰€ä»¥å‡½æ•°è®¿é—®çº§åˆ«ä¸èƒ½é«˜äºprivateï¼Œåˆ™åªèƒ½ä¸ºprivate &#125;&#125; æšä¸¾ç±»å‹çš„æˆå‘˜è®¿é—®çº§åˆ«è·Ÿéšæšä¸¾ç±»å‹ï¼ŒåµŒå¥—ç±»å‹é»˜è®¤æœ€é«˜è®¿é—®çº§åˆ«ä¸ºinternalï¼ˆå¤–å±‚ä¸ºpublicï¼Œå†…å±‚é»˜è®¤ä¸ºinternalï¼‰ public enum CompassPoint &#123; case North // å››ä¸ªæšä¸¾æˆå‘˜è®¿é—®çº§åˆ«éƒ½ä¸ºpublic case South case East case West&#125; å­ç±»è®¿é—®çº§åˆ«ä¸èƒ½é«˜äºçˆ¶ç±»ï¼ˆåŒ…æ‹¬æ³›å‹ç±»å‹ï¼‰ï¼Œåè®®ç»§æ‰¿ä¹ŸåŒç†ï¼Œå­åè®®è®¿é—®çº§åˆ«ä¸èƒ½é«˜äºçˆ¶åè®® class Parent &#123;&#125;public class Son: Parent &#123; // æŠ¥ç¼–è¯‘é”™è¯¯ï¼šSonè®¿é—®çº§åˆ«å¿…é¡»ä½äºParentï¼Œåº”è¯¥ä¸ºinternalæˆ–private&#125; å…ƒç»„çš„è®¿é—®çº§åˆ«ä¸ºå…ƒç»„å†…æ‰€æœ‰ç±»å‹è®¿é—®çº§åˆ«ä¸­æœ€ä½çº§çš„ class Parent &#123;&#125;private class Son: Parent &#123;&#125;public class SomeClass &#123; internal let sometuple = (Son(), Parent()) // æŠ¥ç¼–è¯‘é”™è¯¯ï¼šsometupleçš„è®¿é—®çº§åˆ«ä¸èƒ½é«˜äºæˆå‘˜ç±»å‹çš„è®¿é—®çº§åˆ«ï¼Œç”±äºSonä¸ºprivateï¼Œæ•…sometupleå¿…é¡»ä¸ºprivate&#125; å˜é‡çš„è®¿é—®çº§åˆ«ä¸èƒ½é«˜äºç±»å‹ private class PrivateClass &#123;&#125;public class SomeClass &#123; public var value: PrivateClass // æŠ¥ç¼–è¯‘é”™è¯¯ï¼šå˜é‡valueçš„è®¿é—®çº§åˆ«ä¸èƒ½é«˜äºå…¶ç±»å‹ï¼Œæ•…valueå¿…é¡»å£°æ˜ä¸ºprivate&#125; å±æ€§çš„ Setter è®¿é—®çº§åˆ«ä¸èƒ½é«˜äº Getterè®¿é—®çº§åˆ« public class SomeClass &#123; private(set) var num = 1_000_000 // å£°æ˜å±æ€§numï¼Œgetterè®¿é—®çº§åˆ«æ²¡æœ‰å£°æ˜ï¼Œé»˜è®¤ä¸ºInternalï¼Œsetterè®¿é—®çº§åˆ«ä¸ºprivate private internal(set) var name = &quot;bomo&quot; // æŠ¥ç¼–è¯‘é”™è¯¯ï¼šå±æ€§nameçš„setterè®¿é—®çº§åˆ«ä¸ºinternalï¼Œé«˜äºgetterè®¿é—®çº§åˆ«private&#125; åè®®ä¸ç±»çš„è®¿é—®çº§åˆ«å…³ç³» åè®®ä¸­æ‰€æœ‰å¿…é¡»å®ç°çš„æˆå‘˜çš„è®¿é—®çº§åˆ«å’Œåè®®æœ¬èº«çš„è®¿é—®çº§åˆ«ç›¸åŒ å…¶å­åè®®çš„è®¿é—®çº§åˆ«ä¸é«˜äºçˆ¶åè®®ï¼ˆä¸ç±»ç›¸åŒï¼‰ å¦‚æœç±»å®ç°äº†åè®®ï¼Œé‚£ç±»çš„è®¿é—®çº§åˆ«å¿…é¡»ä½äºæˆ–ç­‰äºåè®®çš„è®¿é—®çº§åˆ« ç±»å‹åˆ«åè®¿é—®çº§åˆ«ä¸ç±»å‹çš„å…³ç³» ç±»å‹åˆ«åçš„è®¿é—®çº§åˆ«ä¸èƒ½é«˜äºåŸç±»å‹çš„è®¿é—®çº§åˆ«ï¼› å‡½æ•°æ„é€ å‡½æ•°é»˜è®¤è®¿é—®çº§åˆ«ä¸ºinternalï¼Œå¦‚æœéœ€è¦ç»™å…¶ä»–æ¨¡å—ä½¿ç”¨ï¼Œéœ€æ˜¾å¼å£°æ˜ä¸ºpublic æ³¨æ„ï¼šswiftçš„è®¿é—®çº§åˆ«æ˜¯ä½œç”¨äºæ–‡ä»¶ï¼ˆprivateï¼‰å’Œæ¨¡å—çš„ï¼ˆinternalï¼‰çš„ï¼Œè€Œä¸åªæ˜¯ç±»ï¼Œæ‰€ä»¥åªè¦åœ¨åŒä¸€ä¸ªæ–‡ä»¶å†…ï¼Œprivateè®¿é—®çº§åˆ«åœ¨ä¸åŒç±»ä¹Ÿå¯ä»¥ç›´æ¥è®¿é—®ï¼Œä¾‹å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å­ç±»åŒ…è£…çˆ¶ç±»çš„æ–¹æ³•ä»¥æ”¹å˜è®¿é—®çº§åˆ« public class A &#123; private func someMethod() &#123;&#125;&#125;internal class B: A &#123; override internal func someMethod() &#123; // åœ¨åŒä¸€ä¸ªæ–‡ä»¶ï¼Œæ”¹å˜someMethodçš„è®¿é—®çº§åˆ« super.someMethod() &#125;&#125; 7. å±æ€§ ä½¿ç”¨å…³é”®å­—lazyå£°æ˜ä¸€ä¸ªæ‡’åŠ è½½ å˜é‡ å±æ€§ï¼Œå½“å±æ€§è¢«ä½¿ç”¨çš„æ—¶å€™ï¼ˆgetï¼‰ï¼Œæ‰ä¼šè¿›è¡Œåˆå§‹åŒ– setæ–¹æ³•çš„è®¿é—®çº§åˆ«å¿…é¡»å¿…getæ–¹æ³•ä½ å£°æ˜å±æ€§çš„æ—¶å€™å¯ä»¥ä½¿ç”¨private(set)å’Œinternal(set)æ”¹å˜setæ–¹æ³•é»˜è®¤çš„è®¿é—®çº§åˆ« æ¯ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ªselfå±æ€§ï¼ŒæŒ‡å‘å®ä¾‹è‡ªèº«ï¼Œé€šå¸¸åœ¨å±æ€§ä¸å‡½æ•°å‚æ•°æœ‰å†²çªçš„æ—¶å€™ä½¿ç”¨ å¯¹äºå¸¸é‡å±æ€§ï¼Œä¸è®¸åœ¨å®šä¹‰å®ƒçš„ç±»çš„æ„é€ å™¨ä¸­èµ‹å€¼ï¼Œä¸èƒ½å†å­ç±»èµ‹å€¼ class DataImporter &#123;&#125;class DataManager &#123; // 1. åªæœ‰ç¬¬ä¸€æ¬¡è°ƒç”¨importerçš„getæ–¹æ³•çš„æ—¶å€™æ‰ä¼šåˆå§‹åŒ– lazy var importer = DataImporter() var data = [String]()&#125;class Rectangle &#123; var width: Double = 0.0 var height: Double = 0.0 // 2. å£°æ˜getæ–¹æ³•å’Œsetæ–¹æ³•çš„è®¿é—®çº§åˆ« private private(set) var weight: Double = 0 // 3. è‡ªå®šä¹‰get/setæ–¹æ³• var square: Double &#123; get &#123; return (self.width + self.height)/2; &#125; //set &#123; //å¦‚æœä¸æŒ‡å®šåç§°ï¼Œé»˜è®¤é€šè¿‡newValueä½¿ç”¨æ–°å€¼ set(newValue) &#123; self.width = newValue/2.0; self.height = newValue/2.0 &#125; &#125; // 4. åªè¯»å±æ€§ï¼Œå¯ä»¥çœç•¥getï¼Œç›´æ¥ä½¿ç”¨ä¸€ä¸ªèŠ±æ‹¬å· var perimeter: Double &#123; return (self.width + self.height) * 2 &#125; // 5. å±æ€§ç›‘è§†å™¨ï¼Œåœ¨åˆå§‹åŒ–çš„æ—¶å€™ä¸ä¼šè§¦å‘ var someInt: Int = 0 &#123; willSet &#123; //ç”¨æ³•ä¸setä¸€æ ·å¦‚æœä¸æŒ‡å®šåç§°ï¼Œé»˜è®¤é€šè¿‡newValueä½¿ç”¨æ—§å€¼ print(&quot;setæ–¹æ³•ä¹‹å‰è§¦å‘&quot;) &#125; didSet &#123; //ç”¨æ³•ä¸setä¸€æ ·å¦‚æœä¸æŒ‡å®šåç§°ï¼Œé»˜è®¤é€šè¿‡oldValueä½¿ç”¨æ—§å€¼ print(&quot;setæ–¹æ³•å®Œæˆåè§¦å‘ï¼Œå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®objçš„å€¼è¦†ç›–setæ–¹æ³•è®¾ç½®çš„å€¼&quot;) self.someInt = 0 // someIntçš„å€¼æ°¸è¿œä¸º0ï¼Œåœ¨ç›‘è§†å™¨ä¿®æ”¹å±æ€§çš„å€¼ä¸ä¼šå¯¼è‡´è§‚å¯Ÿå™¨è¢«å†æ¬¡è°ƒç”¨ &#125; &#125;&#125; ä½¿ç”¨lazyå£°æ˜çš„å±æ€§ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œåœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹å¯èƒ½äº§ç”Ÿå¤šä»½ï¼Œéœ€è¦è‡ªå·±æ§åˆ¶ å¯¹äºç»“æ„ä½“ï¼Œä¸OCä¸åŒï¼Œswiftçš„ç»“æ„ä½“å…è®¸ç›´æ¥å¯¹å±æ€§çš„å­å±æ€§ç›´æ¥ä¿®æ”¹ï¼Œè€Œä¸éœ€è¦å–å‡ºé‡æ–°èµ‹å€¼ someVideoMode.resolution.width = 1280 åœ¨ocä¸Šéœ€è¦è¿™æ ·åš var resolution = someVideoMode.resolutionresolution.width = 1024someVideoMode.resolution = resolution 8. ç»§æ‰¿æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåœ¨océ‡Œæ‰€æœ‰çš„ç±»éƒ½ç»§æ‰¿è‡ªNSObject/NSProxyï¼Œè€Œåœ¨swiftä¸­çš„ç±»å¹¶ä¸æ˜¯ä»ä¸€ä¸ªé€šç”¨çš„åŸºç±»ç»§æ‰¿çš„ï¼Œæ‰€æœ‰æ²¡æœ‰ç»§æ‰¿å…¶ä»–çˆ¶ç±»çš„ç±»éƒ½ç§°ä¸ºåŸºç±» class Parent &#123; final var gender = &quot;unknown&quot; init(gender: String) &#123; self.gender = gender &#125; private func hello() &#123; print(&quot;parent hello&quot;) &#125;&#125;class Son: Parent &#123; // é‡å†™å¯ä»¥æ”¹å˜çˆ¶ç±»æ–¹æ³•çš„è®¿é—®çº§åˆ« internal override func hello() &#123; // é‡å†™çˆ¶ç±»æ–¹æ³•å¿…é¡»åŠ ä¸Šoverrideï¼Œå¦åˆ™ä¼šæŠ¥ç¼–è¯‘é”™è¯¯ //super.hello() // å¯ä»¥é€šè¿‡superè®¿é—®çˆ¶ç±»æˆå‘˜ï¼ŒåŒ…æ‹¬é™„å±è„šæœ¬ print(&quot;son hello&quot;) &#125;&#125; é‡å†™å±æ€§çš„æ—¶å€™ï¼Œå¦‚æœå±æ€§æä¾›äº†setteræ–¹æ³•ï¼Œåˆ™å¿…é¡»ä¸ºæä¾›getteræ–¹æ³•å¦‚æœé‡å†™äº†å±æ€§çš„setteræ–¹æ³•ï¼Œåˆ™ä¸èƒ½é‡å†™willSetå’ŒdidSetæ–¹æ³•å¦‚æœé‡å†™äº†willSetå’ŒdidSetæ–¹æ³•ï¼Œåˆ™ä¸èƒ½é‡å†™getå’Œsetæ–¹æ³• çˆ¶ç±»çš„å±æ€§ï¼Œæ–¹æ³•ï¼Œç±»æ–¹æ³•ï¼Œé™„å±è„šæœ¬ï¼ŒåŒ…æ‹¬ç±»æœ¬èº«éƒ½å¯ä»¥è¢«å­ç±»ç»§æ‰¿å’Œé‡å†™ï¼Œå¯ä»¥é€šè¿‡finalçº¦æŸé™åˆ¶å­ç±»çš„é‡å†™ï¼ˆfinal class, final var, final func, final class func, ä»¥åŠ final subscriptï¼‰ class Parent &#123; final var gender = &quot;unknown&quot; // ä¸å…è®¸è¢«å­ç±»é‡å†™ var name: String // å¯ä»¥è¢«å­ç±»é‡å†™ init(gender: String) &#123; self.gender = gender self.name = &quot;&quot; &#125; final func hello() &#123; // ä¸å…è®¸è¢«é‡å†™ print(&quot;parent hello&quot;) &#125;&#125; swiftç¼–è¯‘å™¨åœ¨è¯†åˆ«æ•°ç»„ç±»å‹çš„æ—¶å€™ï¼Œå¦‚æœæ•°ç»„å…ƒç´ æœ‰ç›¸åŒçš„åŸºç±»ï¼Œä¼šè¢«è‡ªåŠ¨è¯†åˆ«å‡ºæ¥ class Person &#123;&#125;class Teacher: Person &#123;&#125;class Student: Person &#123;&#125;let t1 = Teacher()let t2 = Teacher()let s1 = Student()let s2 = Student()let people = [t1, t2, s1, s2] // peopleä¼šè¢«è¯†åˆ«ä¸º[Person]ç±»å‹ å‘ä¸‹ç±»å‹è½¬æ¢as!, as?ï¼Œas!è¿”å›éå¯é€‰ç±»å‹ï¼Œå¦‚æœç±»å‹ä¸åŒ¹é…ä¼šæŠ¥é”™ï¼Œas?è¿”å›å¯é€‰ç±»å‹ï¼Œå¦‚æœç±»å‹ä¸åŒ¹é…è¿”å›nil for person in people &#123; if let teacher = person as? Teacher &#123; println(&quot;teacher&quot;) &#125; else if let student = person as? Student &#123; println(&quot;student&quot;) &#125;&#125; 9. é™„å±è„šæœ¬subscripté™„å±è„šæœ¬å¯ä»¥è®©ç±»ã€ç»“æ„ä½“ã€æšä¸¾å¯¹è±¡å¿«æ·è®¿é—®é›†åˆæˆ–åºåˆ—ï¼Œè€Œä¸éœ€è¦è°ƒç”¨ä½¿ç”¨å¯¹è±¡å†…çš„å®ä¾‹å˜é‡å¼•ç”¨ï¼Œçœ‹ä¸‹é¢å®ä¾‹ class DailyMeal &#123; enum MealTime &#123; case Breakfast case Lunch case Dinner &#125; var meals: [MealTime : String] = [:]&#125;// å¦‚æœéœ€è¦ä½¿ç”¨DailyMealçš„mealså¯¹è±¡çš„ï¼Œéœ€è¦è¿™ä¹ˆç”¨var dailyMeal = DailyMeal()dailyMeal.meals[MealTime.Breakfast] = &quot;Toast&quot; ä½¿ç”¨é™„å±è„šæœ¬å¯ä»¥ç›´æ¥é€šè¿‡ç±»å¯¹è±¡ç´¢å¼•è®¿é—®mealsçš„å€¼ class DailyMeal &#123; enum MealTime &#123; case Breakfast case Lunch case Dinner &#125; var meals: [MealTime : String] = [:] // å®šä¹‰é™„åŠ è„šæœ¬ï¼Œç±»ä¼¼å±æ€§ subscript(realMealTime: MealTime) -&gt; String &#123; get &#123; if let value = meals[realMealTime] &#123; return value &#125; else &#123; return &quot;unknown&quot; &#125; &#125; set(newValue) &#123; meals[realMealTime] = newValue &#125; &#125;&#125;var dailyMeal = DailyMeal()dailyMeal[.Breakfast] = &quot;sala&quot;print(dailyMeal[.Breakfast]) é™„åŠ è„šæœ¬è¿˜æ”¯æŒå¤šä¸ªå‚æ•° struct Matrix &#123; let rows: Int, columns: Int var grid: [Double] init(rows: Int, columns: Int) &#123; self.rows = rows self.columns = columns grid = Array(count: rows * columns, repeatedValue: 0.0) &#125; func indexIsValidForRow(row: Int, column: Int) -&gt; Bool &#123; return row &gt;= 0 &amp;&amp; row &lt; rows &amp;&amp; column &gt;= 0 &amp;&amp; column &lt; columns &#125; subscript(row: Int, column: Int) -&gt; Double &#123; get &#123; assert(indexIsValidForRow(row, column: column), &quot;Index out of range&quot;) return grid[(row * columns) + column] &#125; set &#123; assert(indexIsValidForRow(row, column: column), &quot;Index out of range&quot;) grid[(row * columns) + column] = newValue &#125; &#125;&#125;var matrix = Matrix(rows: 2, columns: 2)matrix[0, 1] = 1.5matrix[1, 0] = 3.2 é™„åŠ è„šæœ¬ç±»ä¼¼å±æ€§ï¼Œæ‹¥æœ‰get/setæ–¹æ³•ï¼Œæ”¯æŒåªè¯»å’Œè¯»å†™ä¸¤ç§æ–¹å¼ï¼Œé™„åŠ è„šæœ¬ä¹Ÿæ”¯æŒå¤šä¸ªå‚æ•°ï¼Œé™„å±è„šæœ¬å¯ä»¥å±è”½å¤–éƒ¨å¯¹å†…éƒ¨å¯¹è±¡çš„ç›´æ¥è®¿é—®ï¼Œéšè—å¯¹è±¡å†…éƒ¨çš„ç»†èŠ‚ï¼Œæé«˜å°è£…åº¦ï¼Œä½¿å¾—ä»£ç æ›´åŠ å¥å£®å’Œç®€æ´ 10. ç±»å‹åµŒå¥—ä¸æšä¸¾ä¸€æ ·ï¼Œç»“æ„ä½“å’Œç±»éƒ½æ”¯æŒç±»å‹åµŒå¥—ï¼Œå¯ä»¥åœ¨ç±»é‡Œé¢å†å®šä¹‰ç±»/ç»“æ„ä½“/æšä¸¾ class SomeClass &#123; // ç±»é‡Œé¢åµŒå¥—å®šä¹‰æšä¸¾ enum Suit: Character &#123; case Spades = &quot;â™ &quot;, Hearts = &quot;â™¡&quot;, Diamonds = &quot;â™¢&quot;, Clubs = &quot;â™£&quot; // æšä¸¾é‡Œé¢åµŒå¥—å®šä¹‰ç»“æ„ä½“ struct Values &#123; let first: Int, second: Int &#125; &#125; // ç±»é‡Œé¢åµŒå¥—å®šä¹‰ç»“æ„ä½“ struct Point &#123; let x: Int let y: Int &#125; // ç±»é‡Œé¢åµŒå¥—å®šä¹‰ç±» class InnerClass &#123; var name: String = &quot;&quot; var id: Int = 0 &#125;&#125;// ä½¿ç”¨çš„æ—¶å€™åƒå±æ€§ä¸€æ ·å¼•ç”¨let values = SomeClass.Suit.Values(first: 1, second: 2) 11. ç±»å‹åˆ«åswiftç±»å‹åˆ«åä¸cè¯­è¨€ä¸­å–åˆ«åæœ‰ç‚¹åƒï¼Œé€šè¿‡å…³é”®å­—typealiaså£°æ˜åˆ«å public typealias MyInt = Intfunc add(a: MyInt, b: MyInt) -&gt; MyInt &#123; return a + b&#125; é€šå¸¸åœ¨å®¹æ˜“å‡ºç°å‘½åå†²çªçš„æƒ…å†µä¸‹ä¼šè€ƒè™‘ä½¿ç”¨ç±»å‹åˆ«å åä¸€ã€æ‰©å±•Extensionä¸ocä¸€æ ·ï¼Œæ‰©å±•å°±æ˜¯å¯¹å·²æœ‰çš„ç±»æ·»åŠ æ–°çš„åŠŸèƒ½ï¼Œä¸ocçš„categoryç±»ä¼¼ï¼Œswiftçš„æ‰©å±•å¯ä»¥ï¼š æä¾›æ–°çš„æ„é€ å™¨ï¼ˆéœ€è¦ç¬¦åˆæ„é€ å™¨çš„åŸºæœ¬è§„åˆ™ï¼‰ æ·»åŠ å®ä¾‹è®¡ç®—å‹å±æ€§å’Œç±»è®¡ç®—æ€§å±æ€§ æ·»åŠ å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³• æ·»åŠ é™„åŠ è„šæœ¬ æ·»åŠ æ–°çš„åµŒå¥—ç±»å‹ ä½¿ä¸€ä¸ªå·²æœ‰ç±»å‹ç¬¦åˆæŸä¸ªæ¥å£ swiftæ‰©å±•ä¸å¯ä»¥ï¼š ä¸å¯ä»¥æ·»åŠ å­˜å‚¨å±æ€§ ä¸å¯ä»¥å‘å·²æœ‰å±æ€§æ·»åŠ å±æ€§è§‚æµ‹å™¨(willSet, didSet) class Person &#123; func hello() &#123; print(&quot;hello&quot;) &#125;&#125;// å®šä¹‰æ‰©å±•extension Person &#123; func fly() &#123; print(&quot;fly&quot;) &#125;&#125;let p = Person()p.fly() æ‰©å±•ä¹Ÿå¯ä»¥ä½œç”¨åœ¨ç»“æ„ä½“å’Œæšä¸¾ä¸Š struct Rectangle &#123; let width: Double let height: Double&#125;extension Rectangle &#123; var perimeter: Double &#123; return 2 * (self.width + self.height) &#125;&#125;let rect = Rectangle(width: 100, height: 200)print(rect.perimeter) æ‰©å±•å†…çš„æˆå‘˜å®šä¹‰ä¸ç±»ç±»ä¼¼ï¼Œè¿™é‡Œä¸å†è¯´æ˜ æ‰©å±•å±æ€§ç”±äºswiftä¸èƒ½æ‰©å±•æ–°çš„å±æ€§ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›ç»™ç±»æ·»åŠ å±æ€§ï¼Œåœ¨océ‡Œå¯ä»¥ç”¨å…³è”å±æ€§æ–°å¢å­˜å‚¨å±æ€§ï¼Œåœ¨swiftä¹Ÿå¯ä»¥ï¼Œéœ€è¦å¼•å…¥ObjectiveCæ¨¡å— import ObjectiveCclass Point &#123; var x: Int = 0 var y: Int = 1&#125;private var xoTag: UInt = 0extension Point &#123; var z: Int &#123; get &#123; return objc_getAssociatedObject(self, &amp;xoTag) as! Int &#125; set(newValue) &#123; objc_setAssociatedObject(self, &amp;xoTag, newValue, objc_AssociationPolicy.OBJC_ASSOCIATION_ASSIGN) &#125; &#125;&#125; åäºŒã€åè®®Protocalswiftçš„åè®®åœ¨ocçš„åŸºç¡€ä¸ŠåŠ äº†æ›´å¤šçš„æ”¯æŒï¼Œå¯ä»¥æ”¯æŒå±æ€§ï¼Œæ–¹æ³•ï¼Œé™„åŠ è„šæœ¬ï¼Œæ“ä½œç¬¦ç­‰ï¼Œåè®®çš„å±æ€§å¿…é¡»ä¸ºå˜é‡var protocol SomeProtocol &#123; // å±æ€§è¦æ±‚ var mustBeSettable: Int &#123; get set &#125; // åªè¯»å±æ€§ var doesNotNeedToBeSettable: Int &#123; get &#125; // åªè¯»é™æ€å±æ€§ static var staticProperty: Int &#123; get &#125; // é™æ€æ–¹æ³• static func hello()&#125; 1. mutatingåœ¨ç»“æ„ä½“/æšä¸¾ä¸­çš„å€¼ç±»å‹å˜é‡ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸èƒ½å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œç¼–è¯‘ä¸é€šè¿‡ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹å€¼ç±»å‹çš„å±æ€§ï¼Œéœ€è¦åœ¨æ–¹æ³•å£°æ˜å‰åŠ ä¸Šmutating struct Point &#123; var x: Int var y: Int func moveToPoint(point: Point) &#123; self.x = point.x // æŠ¥é”™ï¼šä¸èƒ½å¯¹å€¼ç±»å‹çš„å±æ€§è¿›è¡Œä¿®æ”¹ self.y = point.y // æŠ¥é”™ï¼šä¸èƒ½å¯¹å€¼ç±»å‹çš„å±æ€§è¿›è¡Œä¿®æ”¹ &#125; mutating func moveToPoint2(point: Point) &#123; self.x = point.x // ç¼–è¯‘é€šè¿‡ self.y = point.y // ç¼–è¯‘é€šè¿‡ &#125; //å¯å˜æ–¹æ³•è¿˜å¯ä»¥å¯¹selfè¿›è¡Œä¿®æ”¹ï¼Œè¿™ä¸ªæ–¹æ³•å’ŒmoveToPoint2æ•ˆæœç›¸åŒ mutating func moveToPoint3(x deltaX: Int, y deltaY: Int) &#123; self = Point(x:deltaX, y:deltaY) &#125;&#125; å¯å˜æ–¹æ³•è¿˜å¯ä»¥ä¿®æ”¹æšä¸¾å€¼è‡ªèº«çš„å€¼ enum TriStateSwitch &#123; case Off, Low, High mutating func next() &#123; switch self &#123; case .Off: self = .Low case .Low: self = .High case .High: self = .Off &#125; &#125;&#125; ç‰¹åˆ«æ˜¯åœ¨å®šä¹‰Protocalçš„æ—¶å€™ï¼Œéœ€è¦è€ƒè™‘åˆ°åè®®å¯èƒ½ä½œç”¨äºæšä¸¾æˆ–ç»“æ„ä½“ï¼Œåœ¨å®šä¹‰åè®®çš„æ—¶å€™éœ€è¦åœ¨æ–¹æ³•å‰åŠ ä¸Šmutating protocol SomeProtocol &#123; mutating func moveToPoint(point: Point)&#125; 2. åè®®ç±»å‹åè®®è™½ç„¶æ²¡æœ‰ä»»ä½•å®ç°ï¼Œä½†å¯ä»¥å½“åšç±»å‹æ¥ç”¨ï¼Œä¸ocçš„protocalç±»ä¼¼ï¼Œç”¨åè®®ç±»å‹è¡¨ç¤ºå®ç°äº†è¯¥åè®®çš„å¯¹è±¡ï¼Œä¸ocçš„id&lt;SomeProtocol&gt;ä¸€æ · 3. åè®®ç»„åˆæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡å®ç°å¤šä¸ªåè®®ï¼Œå¯ä»¥ä½¿ç”¨åè®®ç»„åˆæ¥è¡¨ç¤ºï¼Œå¦‚ä¸‹ protocol SwimProtocal &#123; func fly()&#125;protocol WalkProtocal &#123; func walk()&#125;func through(animal: protocol&lt;WalkProtocal, SwimProtocal&gt;) &#123; animal.walk() animal.fly()&#125; 4. è‡ªèº«ç±»å‹æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è¡¨ç¤ºå®ç°åè®®çš„ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨Selfä»£æ›¿ï¼Œå¦‚ä¸‹ protocol CompareProtocal &#123; // Selfè¡¨ç¤ºå®ç°åè®®è‡ªå·±çš„ç±»å‹æœ¬èº« func compare(other: Self) -&gt; Bool&#125;class Product: CompareProtocal &#123; var id: Int = 0 func compare(other: Product) -&gt; Bool &#123; return self.id == other.id &#125;&#125; 5. @objcåè®®swiftå£°æ˜çš„åè®®æ˜¯ä¸èƒ½ç›´æ¥è¢«ocçš„ä»£ç æ¡¥æ¥è°ƒç”¨çš„ï¼Œå¦‚æœéœ€è¦ï¼Œéœ€è¦åœ¨å£°æ˜å‰åŠ ä¸Š@objcï¼Œä½¿ç”¨@objcå£°æ˜çš„åè®®ä¸èƒ½è¢«ç”¨äºç»“æ„ä½“å’Œæšä¸¾ import Foundation@objc protocol HasArea &#123; // åè®®å¯ä»¥è¢«æ¡¥æ¥åˆ°ocä¸­ä½¿ç”¨ var area: Double &#123; get &#125;&#125; 6. Optionalè¦æ±‚åœ¨ocä¸­çš„protocalå¯ä»¥å®šä¹‰å¯é€‰æ–¹æ³•ï¼Œåœ¨swifté»˜è®¤ä¸æ”¯æŒå¯é€‰æ–¹æ³•ï¼Œswiftåªæœ‰åœ¨æ·»åŠ äº†@objcå£°æ˜çš„åè®®æ‰èƒ½å®šä¹‰å¯é€‰æ–¹æ³•ï¼Œåœ¨å®šä¹‰å‰æ·»åŠ optionalå£°æ˜ import Foundation@objc protocol HasArea &#123; optional var area: Double &#123; get &#125; // å®šä¹‰å¯é€‰å±æ€§&#125; åä¸‰ã€é”™è¯¯ä¸å…¶ä»–é«˜çº§è¯­è¨€å¼‚å¸¸å¤„ç†æœ‰ç‚¹ç±»ä¼¼ï¼Œswiftå¼•å…¥äº†é”™è¯¯çš„æœºåˆ¶ï¼Œå¯ä»¥åœ¨å‡ºç°å¼‚å¸¸çš„åœ°æ–¹æŠ›å‡ºé”™è¯¯ï¼Œé”™è¯¯å¯¹è±¡ç»§æ‰¿è‡ªErrorï¼ŒæŠ›å‡ºçš„é”™è¯¯å‡½æ•°ä¼šç«‹å³è¿”å›ï¼Œå¹¶å°†é”™è¯¯ä¸¢ç»™è°ƒç”¨å‡½æ•°çš„å‡½æ•°å¤„ç†ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°å¯èƒ½æŠ›å‡ºé”™è¯¯ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™è¿›è¡Œå£°æ˜ï¼Œå¦‚ä¸‹ //å®šä¹‰é”™è¯¯ç±»å‹enum OperationError: Error &#123; case DivideByZero case Other&#125;//å®šä¹‰å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„å‡½æ•°ï¼Œåœ¨å‡½æ•°å£°æ˜çš„è¿”å›å€¼å‰é¢åŠ ä¸Šthrowsfunc divide(a: Int, b: Int) throws -&gt; Float &#123; if b == 0 &#123; throw OperationError.DivideByZero &#125; return Float(a) / Float(b)&#125;//è°ƒç”¨å¯èƒ½å‡ºé”™çš„å‡½æ•°ï¼ˆè°ƒç”¨å‡ºå¿…é¡»åŠ ä¸Štryï¼‰do &#123; let result = try divide(a: 10, b: 0) print(result)&#125; catch OperationError.DivideByZero &#123; print(error)&#125; catch &#123; //å…¶ä»–é”™è¯¯&#125; å¦‚æœé”™è¯¯æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯æšä¸¾ï¼Œå¯ä»¥ç”¨letç»‘å®šåˆ°å˜é‡ä¸Š do &#123; try divide(a: 10, b: 0)&#125; catch let err as SomeErrorType &#123; print(err.message)&#125; catch &#123; print(&quot;other error&quot;)&#125; å¦‚æœä¸å¤„ç†é”™è¯¯çš„è¯å¯ä»¥ä½¿ç”¨try?ï¼Œä½¿ç”¨try?å…³é”®å­—çš„æ–¹æ³•ä¼šè¢«åŒ…è£…åˆ°ä¸€ä¸ªå¯é€‰ç±»å‹ä¸­ï¼Œå¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™ä¼šè¿”å›nilï¼Œå¦‚ä¸‹é¢åºåˆ—åŒ–çš„ä¾‹å­ func serialize(obj: AnyObject) -&gt; String &#123; guard let jsonString = try? someSerializeFuncMayThrowError(obj) else &#123; print(jsonString) &#125; print(&quot;fail&quot;)&#125; try?é…åˆguard letä¸€èµ·ä½¿ç”¨æ•ˆæœæ›´å¥½ åå››ã€æ–­è¨€æ–­è¨€å¯ä»¥è®©æˆ‘ä»¬åœ¨è°ƒè¯•æ—¶å€™æ›´å¥½çš„å‘ç°é—®é¢˜ï¼Œæ’æŸ¥é”™è¯¯ï¼Œå‡ ä¹æ‰€æœ‰çš„é«˜çº§è¯­è¨€éƒ½æ”¯æŒæ–­è¨€ï¼Œswiftä¹Ÿå¦‚æ­¤ï¼Œæ–­è¨€çš„ä»£ç åœ¨releaseçš„æ—¶å€™å›è¢«å¿½ç•¥ï¼Œä¸ä¼šå½±å“å‘å¸ƒç¨‹åºçš„æ€§èƒ½ï¼Œåªä¼šåœ¨è°ƒè¯•çš„æ—¶å€™ç”Ÿæ•ˆ // å¦‚æœageå°äº0ï¼Œç¨‹åºä¼šåœæ­¢ï¼Œå¹¶è¾“å‡ºé”™è¯¯ä¿¡æ¯assert(age &gt;= 0, &quot;A person&#x27;s age cannot be less than zero&quot;) åäº”ã€æ³›å‹å…³äºæ³›å‹çš„ä»‹ç»ï¼Œè¿™é‡Œä¸è¿›è¡Œè¯´æ˜ï¼Œswiftçš„æ³›å‹æ˜¯æˆ‘è®¤ä¸ºæœ€é…·çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œå½“ç„¶å…¶ä»–è¯­è¨€ä¹Ÿæœ‰ï¼Œå¯ä»¥è®©ç±»æˆ–å‡½æ•°æ›´å¤§ç¨‹åº¦çš„é‡ç”¨ï¼Œswiftçš„æ³›å‹ä¸å…¶ä»–è¯­è¨€çš„æ³›å‹æœ‰ç‚¹ç±»ä¼¼ 1. å®šä¹‰åœ¨ç±»æˆ–å‡½æ•°å£°æ˜çš„æ—¶å€™ï¼ŒæŒ‡å®šä¸€ä¸ªæ³›å‹ç±»å‹å‚æ•°ï¼ˆé€šå¸¸ä¸ºTï¼‰ç„¶åä½¿ç”¨çš„æ—¶å€™ç›´æ¥æŠŠTå½“æˆç±»å‹ä½¿ç”¨ //æ³›å‹å‡½æ•°å®šä¹‰func swapTwoValues&lt;T&gt;(inout a: T, inout b: T) &#123; let temporaryA = a a = b b = temporaryA&#125;//æ³›å‹ç±»å®šä¹‰class Result&lt;T&gt; &#123; var code: Int = 0 var errorMessage: String? var data: T?&#125;//å¤šä¸ªæ³›å‹ç±»å‹å‚æ•°class Result&lt;T, TK&gt; &#123; var code: Int = 0 var errorMessage: String? var data: T? var subData: TK?&#125; 2. æ³›å‹çº¦æŸæˆ‘ä»¬è¿˜å¯ä»¥å¯¹æ³›å‹è¿›è¡Œçº¦æŸï¼Œæ³›å‹ç±»å‹å‚æ•°åªèƒ½æ˜¯æŸäº›ç±»å‹çš„å­ç±»ï¼Œæˆ–å®ç°äº†æŸäº›åè®® func findIndex&lt;T&gt;(array: [T], valueToFind: T) -&gt; Int? &#123; for (index, value) in array.enumerate() &#123; if value == valueToFind &#123; return index &#125; &#125; return nil&#125; ä¸Šé¢å‡½æ•°ä¼šæŠ¥ç¼–è¯‘é”™è¯¯ï¼Œå› ä¸ºåœ¨swifté‡Œï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç±»éƒ½èƒ½ç”¨==æ“ä½œç¬¦æ¯”è¾ƒï¼Œåªæœ‰å®ç°äº†Equatableåè®®çš„ç±»æ‰èƒ½ç”¨==æ“ä½œç¬¦ï¼Œä¿®æ”¹ä¸º func findIndex&lt;T: Equatable&gt;(array: [T], valueToFind: T) -&gt; Int? &#123; for (index, value) in array.enumerate() &#123; if value == valueToFind &#123; return index &#125; &#125; return nil&#125; 3. å¤šæ³›å‹ç±»å‹å‚æ•°æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ç”¨å¤šä¸ªåè®®è¿›è¡Œçº¦æŸï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢æ–¹å¼ï¼ˆç±»ä¸å‡½æ•°çš„ä½¿ç”¨æ–¹å¼ç±»ä¼¼ï¼‰ func someFunc&lt;T : protocol&lt;StudyProtocal, RunProtocal&gt;&gt;(arg: T) &#123; // do stuff&#125; å¦‚æœçº¦æŸæ—¢æœ‰ç±»åˆæœ‰åè®®çš„è¯å¯ä»¥ä½¿ç”¨whereæ·»åŠ é™åˆ¶æ¡ä»¶ func someFunc&lt;T, TK where T:Student, T: StudyProtocal&gt;(t: T, tk: TK) &#123; // do stuff&#125; 4. æ³›å‹æ˜¯ä¸å¯å˜çš„var dog1 = SomeClass&lt;Parent&gt;()var dog2 = SomeClass&lt;Son&gt;()dog1 = dog2 // æŠ¥é”™ å…³äºå¯å˜ï¼Œä¸å¯å˜ï¼Œé€†å˜ï¼Œåå˜å‚è€ƒè¿™é‡Œï¼šhttp://swift.gg/2015/12/24/friday-qa-2015-11-20-covariance-and-contravariance/ 5. æ³›å‹åè®®swiftçš„åè®®ä¸æ”¯æŒæ³›å‹ï¼Œä¸èƒ½åƒç±»ä¸€æ ·å®šä¹‰æ³›å‹ï¼Œè€Œæ˜¯é€šè¿‡ç±»å‹å‚æ•°å®šä¹‰æ³›å‹ protocol GenericProtocol &#123; associatedtype T1 associatedtype T2 func someFunc(t2: T2) -&gt; T1&#125;class SomeClass&lt;T&gt; : GenericProtocol &#123; // è®¾ç½®æ³›å‹ç±»å‹ typealias T1 = String typealias T2 = T func someFunc(t2: T2) -&gt; T1 &#123; return &quot;&quot; &#125;&#125; åå…­ã€è¿ç®—ç¬¦é‡è½½ä¸å…¶ä»–é«˜çº§è¯­è¨€çš„ä¸€æ ·ï¼Œswiftä¹Ÿæä¾›äº†è¿ç®—ç¬¦é‡è½½çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰è¿ç®—ç¬¦çš„å®ç°ï¼Œè¿ç®—ç¬¦é€šå¸¸åˆ†ä¸ºä¸‰ç§ç±»å‹ å•ç›®è¿ç®—ç¬¦ï¼š&lt;è¿ç®—ç¬¦&gt;&lt;æ“ä½œæ•°&gt;æˆ–&lt;æ“ä½œæ•°&gt;&lt;è¿ç®—ç¬¦&gt;ï¼Œå¦‚!a åŒç›®è¿ç®—ç¬¦ï¼š&lt;æ“ä½œæ•°&gt;&lt;è¿ç®—ç¬¦&gt;&lt;æ“ä½œæ•°&gt;ï¼Œå¦‚ï¼š1 + 1 ä¸‰å…ƒè¿ç®—ç¬¦ï¼š&lt;æ“ä½œæ•°&gt;&lt;è¿ç®—ç¬¦&gt;&lt;æ“ä½œæ•°&gt;&lt;è¿ç®—ç¬¦&gt;&lt;æ“ä½œæ•°&gt;ï¼Œå¦‚ï¼ša ? b : c swiftçš„è¿ç®—ç¬¦é‡è½½ æ”¯æŒè‡ªå®šä¹‰è¿ç®—ç¬¦/, =, -, +, *, %, &lt;, &gt;, !, &amp;, |, ^, ., ~çš„ä»»æ„ç»„åˆã€‚å¯ä»¥è„‘æ´å¤§å¼€åˆ›é€ é¢œæ–‡å­—ã€‚ ä¸èƒ½å¯¹é»˜è®¤çš„èµ‹å€¼è¿ç®—ç¬¦=è¿›è¡Œé‡è½½ã€‚ç»„åˆèµ‹å€¼è¿ç®—ç¬¦å¯ä»¥è¢«é‡è½½ï¼Œå¦‚==ï¼Œ!==! æ— æ³•å¯¹ä¸‰å…ƒè¿ç®—ç¬¦a ? b : cè¿›è¡Œé‡è½½ è¿ç®—ç¬¦å£°æ˜å’Œå®šä¹‰åªèƒ½å®šä¹‰åœ¨å…¨å±€ä½œç”¨åŸŸï¼Œä¸èƒ½å®šä¹‰åœ¨ç±»/ç»“æ„ä½“/æšä¸¾å†… 1. å‰ç¼€ï¼Œä¸­ç¼€ï¼Œåç¼€è¿ç®—ç¬¦ å‰ç¼€prefixï¼šé»˜è®¤çš„æœ‰-ï¼Œ!ï¼Œ~ç­‰ ä¸­ç¼€infixï¼šé»˜è®¤çš„æœ‰+ï¼Œ*ï¼Œ==ç­‰ åç¼€postfixï¼šé»˜è®¤çš„æœ‰ï¼š++ï¼Œâ€“ç­‰ 1.1 å£°æ˜è¿ç®—ç¬¦å¦‚æœå®ç°ä¸å­˜åœ¨çš„è¿ç®—ç¬¦éœ€è¦æ·»åŠ è¿ç®—ç¬¦å£°æ˜ï¼ˆç³»ç»Ÿçš„æä¾›çš„ï¼Œå¯ä»¥ä¸éœ€è¦å£°æ˜ï¼‰ï¼Œå£°æ˜å¿…é¡»æ”¾åœ¨å…¨å±€ä½œç”¨åŸŸ // å‰ç¼€è¿ç®—ç¬¦prefix operator +++ &#123;&#125;// ä¸­ç¼€è¿ç®—ç¬¦ï¼ˆäºŒå…ƒè¿ç®—ç¬¦ï¼‰infix operator +++ &#123;&#125;// åç¼€è¿ç®—ç¬¦postfix operator +++ &#123;&#125; 1.2 å®ç°ä¸Šé¢ä¸‰ä¸ªè¿ç®—ç¬¦// å®šä¹‰Pointç»“æ„ä½“struct Point &#123; var x: Int var y: Int&#125;// é‡è½½æ“ä½œç¬¦è¦æ”¾åœ¨å…¨å±€ä½œç”¨åŸŸfunc +++ (left: Point, right: Point) -&gt; Point &#123; return Point(x: left.x + right.x, y: left.y + right.y)&#125;// å¦‚æœéœ€è¦ä¿®æ”¹æ“ä½œæ•°ï¼Œéœ€è¦æ·»åŠ inoutå…³é”®å­—prefix func +++ (inout left: Point) &#123; left.x += 1 left.y += 1&#125;postfix func --- (right: Point) -&gt; Point &#123; return Point(x: right.x - 1, y: right.y - 1)&#125; 1.3 ä½¿ç”¨var p1 = Point(x: 12, y: 21)var p2 = Point(x: 12, y: 2)let p3 = p1+++p2 // p3.x = 24, p3.y = 23+++p1 // p1.x = 13, p1.y = 3p1--- // p1.x = 12, p1.y = 2 2. ä¼˜å…ˆçº§è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯ä¼˜å…ˆçº§é«˜çš„è¿ç®—ç¬¦å…ˆæ‰§è¡Œï¼Œå£°æ˜è¿ç®—ç¬¦çš„æ—¶å€™å¯ä»¥æŒ‡æ˜ä¼˜å…ˆçº§ infix operator ^ &#123; associativity left // ç»“åˆæ€§ï¼Œåé¢è¯´ precedence 140 // æŒ‡å®šè¿ç®—ç¬¦ä¼˜å…ˆçº§&#125; è¿™é‡Œå¯ä»¥æŸ¥çœ‹é»˜è®¤è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ 3. ç»“åˆæ€§è¿ç®—ç¬¦è¿˜å¯ä»¥å®šä¹‰ç»“åˆæ€§ï¼Œå¯¹äºåŒç›®è¿ç®—ç¬¦ï¼Œå½“ä¼˜å…ˆçº§ä¸€æ ·çš„æ—¶å€™ï¼Œå¯ä»¥å®šä¹‰è¿ç®—ç¬¦ä¼˜å…ˆè¿›è¡Œå·¦ç»“åˆè¿˜æ˜¯å³ç»“åˆï¼Œè¿ç®—ç¬¦çš„ç»“åˆæ€§æœ‰ä¸‹é¢ä¸‰ç§ leftï¼šå·¦ç»“åˆ rightï¼šå³ç»“åˆ noneï¼šæ—  ç»“åˆæ€§è®¾ç½®ä¸ºleft // å®šä¹‰ä¸€ä¸ªåŒç›®æ“ä½œç¬¦infix operator ^ &#123; associativity left // ç»“åˆæ€§ precedence 140 // æŒ‡å®šè¿ç®—ç¬¦ä¼˜å…ˆçº§&#125;func ^ (left: Int, right: Int) -&gt; Int &#123; return Int(pow(Double(left), Double(right)))&#125;let a = 2 ^ 2 ^ 2 ^ 2 // æ‰§è¡Œç»“æœä¸º256// ç›¸å½“äºlet aa = ((2 ^ 2) ^ 2) ^ 2 å¦‚æœæˆ‘ä»¬è®¾ç½®ç»“åˆæ€§ä¸ºright // å®šä¹‰ä¸€ä¸ªåŒç›®æ“ä½œç¬¦infix operator ^ &#123; associativity right // ç»“åˆæ€§ precedence 140 // æŒ‡å®šè¿ç®—ç¬¦ä¼˜å…ˆçº§&#125;func ^ (left: Int, right: Int) -&gt; Int &#123; return Int(pow(Double(left), Double(right)))&#125;let a = 2 ^ 2 ^ 2 ^ 2 // æ‰§è¡Œç»“æœä¸º65536// ç›¸å½“äºlet aa = 2 ^ (2 ^ (2 ^ 2)) å¦‚æœç»“åˆæ€§è®¾ç½®ä¸ºnoneï¼Œåˆ™ä¼šæŠ¥é”™ï¼Œæ— æ³•åˆ¤æ–­ åä¸ƒã€å‘½åç©ºé—´åœ¨å¾ˆå¤šè¯­è¨€é‡Œé¢ï¼Œéƒ½æœ‰å‘½åç©ºé—´çš„æ¦‚å¿µï¼Œå¯ä»¥åˆ†ç¦»ä»£ç ï¼Œé˜²æ­¢å‘½åå†²çªï¼Œè€Œswiftä¹Ÿæœ‰ç±»ä¼¼å‘½åç©ºé—´çš„æ¦‚å¿µï¼Œé€šè¿‡è®¿é—®çº§åˆ«å®ç°å‘½åç©ºé—´//TODO åå…«ã€å‚è€ƒé“¾æ¥ è¿ç®—ç¬¦ç»“åˆæ€§ Swifté«˜çº§è¿ç®—ç¬¦ åä¹ã€æ€»ç»“æ€»çš„æ¥è¯´ï¼Œswiftè¿˜æ˜¯æ¯”è¾ƒè£…é€¼çš„ï¼Œæ•´ä¸ªå¾ˆå¤šæ–°åè¯ï¼Œæ–°æ¦‚å¿µï¼Œä¾‹å¦‚ï¼ŒæŒ‡å®šæ„é€ å™¨ï¼Œä¾¿åˆ©æ„é€ å™¨ï¼Œæ„é€ å™¨ä»£ç†ï¼Œä½†å…¶å®è¿™äº›ä¸œè¥¿åœ¨åˆ«çš„è¯­è¨€åŸºæœ¬ä¸Šæœ‰ï¼Œæ²¡é‚£ä¹ˆå¤æ‚ï¼Œå¦å¤–swiftçš„å…³é”®å­—å¤ªå¤šäº†ï¼Œæœ‰äº›å¯æœ‰å¯æ— ï¼Œæ˜¯ä¸æ˜¯è‹¹æœçœ‹åˆ°ä»€ä¹ˆå¥½çš„å°±æƒ³å¾€swifté‡Œé¢å¡è¿˜æ˜¯æ€ä¹ˆç€ï¼Œå¦å¤–æ„Ÿè§‰è‹¹æœè¿˜æ˜¯å¤ªè£…é€¼äº†ï¼Œä¾‹å¦‚do-whileéè¦ååè¦ææˆrepeat-whileå•¥çš„ï¼Œä¸ªäººæ„Ÿè§‰ç¼–ç¨‹è¯­è¨€åº”è¯¥æ˜¯è½»ä¾¿ï¼Œç®€å•ï¼Œå½“ç„¶ï¼Œå¹¶ä¸”èƒ½æ»¡è¶³æ‰€æœ‰éœ€æ±‚çš„ï¼Œåæ­£ï¼Œæ²¡ä»€ä¹ˆç‰¹åˆ«çš„å¥½æ„Ÿ","categories":[{"name":"iOS","slug":"iOS","permalink":"http://fangliquan.github.io/categories/iOS/"}],"tags":[{"name":"swift","slug":"swift","permalink":"http://fangliquan.github.io/tags/swift/"}]}],"categories":[{"name":"swift3.0","slug":"swift3-0","permalink":"http://fangliquan.github.io/categories/swift3-0/"},{"name":"iOS Project Practice","slug":"iOS-Project-Practice","permalink":"http://fangliquan.github.io/categories/iOS-Project-Practice/"},{"name":"iOS","slug":"iOS","permalink":"http://fangliquan.github.io/categories/iOS/"},{"name":"xcode","slug":"xcode","permalink":"http://fangliquan.github.io/categories/xcode/"},{"name":"blog","slug":"blog","permalink":"http://fangliquan.github.io/categories/blog/"}],"tags":[{"name":"swift3.0","slug":"swift3-0","permalink":"http://fangliquan.github.io/tags/swift3-0/"},{"name":"iOS","slug":"iOS","permalink":"http://fangliquan.github.io/tags/iOS/"},{"name":"AVAudioSession","slug":"AVAudioSession","permalink":"http://fangliquan.github.io/tags/AVAudioSession/"},{"name":"AudioSessionProperty","slug":"AudioSessionProperty","permalink":"http://fangliquan.github.io/tags/AudioSessionProperty/"},{"name":"æ”¯ä»˜å®SDK","slug":"æ”¯ä»˜å®SDK","permalink":"http://fangliquan.github.io/tags/%E6%94%AF%E4%BB%98%E5%AE%9DSDK/"},{"name":"æ”¯ä»˜å®","slug":"æ”¯ä»˜å®","permalink":"http://fangliquan.github.io/tags/%E6%94%AF%E4%BB%98%E5%AE%9D/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"http://fangliquan.github.io/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"xcode","slug":"xcode","permalink":"http://fangliquan.github.io/tags/xcode/"},{"name":"iOSå¤šçº¿ç¨‹","slug":"iOSå¤šçº¿ç¨‹","permalink":"http://fangliquan.github.io/tags/iOS%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"NSThread","slug":"NSThread","permalink":"http://fangliquan.github.io/tags/NSThread/"},{"name":"GCD","slug":"GCD","permalink":"http://fangliquan.github.io/tags/GCD/"},{"name":"iOSè§†é¢‘æ’­æ”¾å™¨","slug":"iOSè§†é¢‘æ’­æ”¾å™¨","permalink":"http://fangliquan.github.io/tags/iOS%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8/"},{"name":"blogs","slug":"blogs","permalink":"http://fangliquan.github.io/tags/blogs/"},{"name":"hexo","slug":"hexo","permalink":"http://fangliquan.github.io/tags/hexo/"},{"name":"iOSå¤šå›¾æ–‡","slug":"iOSå¤šå›¾æ–‡","permalink":"http://fangliquan.github.io/tags/iOS%E5%A4%9A%E5%9B%BE%E6%96%87/"},{"name":"å›¾æ–‡æ··æ’","slug":"å›¾æ–‡æ··æ’","permalink":"http://fangliquan.github.io/tags/%E5%9B%BE%E6%96%87%E6%B7%B7%E6%8E%92/"},{"name":"Frameæ¨¡å‹","slug":"Frameæ¨¡å‹","permalink":"http://fangliquan.github.io/tags/Frame%E6%A8%A1%E5%9E%8B/"},{"name":"runtime","slug":"runtime","permalink":"http://fangliquan.github.io/tags/runtime/"},{"name":"iOS9æ–°ç‰¹æ€§","slug":"iOS9æ–°ç‰¹æ€§","permalink":"http://fangliquan.github.io/tags/iOS9%E6%96%B0%E7%89%B9%E6%80%A7/"},{"name":"swift","slug":"swift","permalink":"http://fangliquan.github.io/tags/swift/"}]}